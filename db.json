{"meta":{"version":1,"warehouse":"3.0.1"},"models":{"Asset":[{"_id":"source/sync.ffs_db","path":"sync.ffs_db","modified":1,"renderable":0},{"_id":"source/images/pasted-0.png","path":"images/pasted-0.png","modified":1,"renderable":0},{"_id":"source/images/pasted-1.png","path":"images/pasted-1.png","modified":1,"renderable":0},{"_id":"source/images/pasted-2.png","path":"images/pasted-2.png","modified":1,"renderable":0},{"_id":"source/images/pasted-3.png","path":"images/pasted-3.png","modified":1,"renderable":0},{"_id":"themes/maupassant/source/css/default.css","path":"css/default.css","modified":1,"renderable":1},{"_id":"themes/maupassant/source/css/donate.css","path":"css/donate.css","modified":1,"renderable":1},{"_id":"themes/maupassant/source/css/style.scss","path":"css/style.scss","modified":1,"renderable":1},{"_id":"themes/maupassant/source/donate/index.html","path":"donate/index.html","modified":1,"renderable":1},{"_id":"themes/maupassant/source/img/AliPayQR.png","path":"img/AliPayQR.png","modified":1,"renderable":1},{"_id":"themes/maupassant/source/img/BTCQR.png","path":"img/BTCQR.png","modified":1,"renderable":1},{"_id":"themes/maupassant/source/img/WeChatQR.png","path":"img/WeChatQR.png","modified":1,"renderable":1},{"_id":"themes/maupassant/source/img/alipay.svg","path":"img/alipay.svg","modified":1,"renderable":1},{"_id":"themes/maupassant/source/img/bitcoin.svg","path":"img/bitcoin.svg","modified":1,"renderable":1},{"_id":"themes/maupassant/source/img/github.svg","path":"img/github.svg","modified":1,"renderable":1},{"_id":"themes/maupassant/source/img/like.svg","path":"img/like.svg","modified":1,"renderable":1},{"_id":"themes/maupassant/source/img/paypal.svg","path":"img/paypal.svg","modified":1,"renderable":1},{"_id":"themes/maupassant/source/img/wechat.svg","path":"img/wechat.svg","modified":1,"renderable":1},{"_id":"themes/maupassant/source/js/codeblock-resizer.js","path":"js/codeblock-resizer.js","modified":1,"renderable":1},{"_id":"themes/maupassant/source/js/donate.js","path":"js/donate.js","modified":1,"renderable":1},{"_id":"themes/maupassant/source/js/fancybox.js","path":"js/fancybox.js","modified":1,"renderable":1},{"_id":"themes/maupassant/source/js/search.js","path":"js/search.js","modified":1,"renderable":1},{"_id":"themes/maupassant/source/js/share.js","path":"js/share.js","modified":1,"renderable":1},{"_id":"themes/maupassant/source/js/smartresize.js","path":"js/smartresize.js","modified":1,"renderable":1},{"_id":"themes/maupassant/source/js/totop.js","path":"js/totop.js","modified":1,"renderable":1},{"_id":"source/images/DASHENG-900x700-1.png","path":"images/DASHENG-900x700-1.png","modified":1,"renderable":0},{"_id":"themes/maupassant/source/js/gitment.browser.js","path":"js/gitment.browser.js","modified":1,"renderable":1},{"_id":"source/images/DASHENG-900x700-2.png","path":"images/DASHENG-900x700-2.png","modified":1,"renderable":0},{"_id":"source/images/DASHENG-900x700-4.png","path":"images/DASHENG-900x700-4.png","modified":1,"renderable":0},{"_id":"source/images/DASHENG-900x700-3.png","path":"images/DASHENG-900x700-3.png","modified":1,"renderable":0}],"Cache":[{"_id":"source/hexo-admin-ehc-images.json","hash":"0d165d7223eabfe5ebab834a5d89c8cb9731b5ff","modified":1581327196767},{"_id":"source/sync.ffs_db","hash":"4ff6fc1218ee7d31c26083a5584fd405d54cd6fd","modified":1581327196776},{"_id":"themes/maupassant/LICENSE","hash":"f0ac2f92770650c9835183f79010c0d307b34acd","modified":1575945440356},{"_id":"themes/maupassant/README.md","hash":"1e45ec576bcb84881717dd8e1c28d6f7c251542b","modified":1575945440356},{"_id":"themes/maupassant/_config.yml","hash":"8216fd1dcb891df1f5c351d3203f6b1ebe12903b","modified":1576252426755},{"_id":"themes/maupassant/package.json","hash":"f092433469eb87362e831326425a6a5c3c9fea0d","modified":1575945440364},{"_id":"source/_drafts/Elementor-240.md","hash":"af2419e25e0d8898a32c449f2b86357b8e19b3b0","modified":1581327196762},{"_id":"source/_drafts/Python创建多线程的几种方式.md","hash":"d1eae29dc5a36d3c48e69b283bd6d73baa1a7229","modified":1581327196762},{"_id":"source/_posts/Centos 7修改系统语言.md","hash":"53936e6ca0f5204745ae0186ab17f91b3039098a","modified":1581327196762},{"_id":"source/_posts/C语言实现Linux下的系统调用.md","hash":"c07afaf47096a85cd5bfdbaf25d1a12e403ce028","modified":1581327196762},{"_id":"source/_posts/Debian下安装新内核及更换默认内核.md","hash":"c14fdcf3001f29ca1ba34b30a0a720293cda3dc8","modified":1581327196762},{"_id":"source/_posts/Dell服务器的几款raid工具.md","hash":"3b5e01db439e3eeebab705a69c90f689ca1366d3","modified":1581327196763},{"_id":"source/_posts/H-264-10bit的一个小坑.md","hash":"de917c135b03b5c249af5df5b9e77f631c5e7398","modified":1581327196763},{"_id":"source/_posts/Linux下ZIP文件的修复.md","hash":"bee090a6d2705bbdd26862a26bd11c24b12ce1b5","modified":1581327196763},{"_id":"source/_posts/Linux下几种socks流量转http(s)流量的工具.md","hash":"9bed0f354989fd66e70a8710d6cb3fd33912a2e8","modified":1581327196763},{"_id":"source/_posts/Linux中同时使用多个ssh密钥登录不同的主机.md","hash":"6989191ed6e6e679832ae4cc4c52a80431197e49","modified":1581327196763},{"_id":"source/_posts/Linux查看和修改Kernel Boot Parameters.md","hash":"ea65aac79279cc7bfb63314b78baf7c38c985384","modified":1581327196763},{"_id":"source/_posts/Python多线程的两种方式.md","hash":"3651cfea39a9a1fd8bba137c313c6ed1efe78b7a","modified":1581327196764},{"_id":"source/_posts/Python终止子线程.md","hash":"89e55211ef8db30642c8eab752fd060df832cbb3","modified":1581327196764},{"_id":"source/_posts/Sqlalchemy的一些学习笔记.md","hash":"70c6e55d64c0502c463fafd80d3ddfdb1e02c9b0","modified":1581327196764},{"_id":"source/_posts/centos7 升级内核.md","hash":"0745b37e652571fcefd3a88997de01a1c8ca21f3","modified":1581327196764},{"_id":"source/_posts/docker安装nginx.md","hash":"5d37bf3f7e287312dcc8ee43534c6be9bc1828a0","modified":1581327196764},{"_id":"source/_posts/shell的字符串处理.md","hash":"d511c7674f027ff49d318897c444bfa243452910","modified":1581327196764},{"_id":"source/_posts/trashed-2.md","hash":"e9aa980e0764cbb569944e4ce8a0363e46a3411f","modified":1581327196764},{"_id":"source/_posts/xfs文件系统移动分区.md","hash":"da9df3cc2b005651ce266ebdca55081a58be244e","modified":1581327196764},{"_id":"source/_posts/ztsh项目完成后的一些感悟.md","hash":"ad8715eb10d0332d120351780ad9705ca1a0de9b","modified":1581327196765},{"_id":"source/_posts/【CentOS7】给Linux服务器安装图形界面.md","hash":"85f37a4f54641e885ca6c4f927ec645ccfe6ae8d","modified":1581327196765},{"_id":"source/_posts/【Ceotos7】Linux下安装字体.md","hash":"5e7bdfe3d6b2fc05681d654560f23d56c7f67133","modified":1581327196765},{"_id":"source/_posts/【Django】如何将QuerySet转为dict.md","hash":"a8026a2c9056e047db724da67e511e59f8afcda2","modified":1581327196765},{"_id":"source/_posts/【Python】正则表达式的相关笔记.md","hash":"1da698f9d5c4229a0971bdbc8da9ed712ba4a323","modified":1581327196765},{"_id":"source/_posts/【VNC】Could not start d-bus Can you call qdbus问题解决.md","hash":"fa5191e0d132c38ffbc9afd6bded5d3b4f26168e","modified":1581327196765},{"_id":"source/_posts/【leetcode】3. 无重复字符的最长子串.md","hash":"eacc4afd37cc846aecc5d022c5ee873db51cb3af","modified":1581327196765},{"_id":"source/_posts/【leetcode】4. 寻找两个有序数组的中位数.md","hash":"cf092bf37e37f1ac37fac15d225735afe3ffc426","modified":1581327196765},{"_id":"source/_posts/【摘抄】Djangodui对URL尾斜杠(back slash)的处理.md","hash":"72344e554f8b96ea6f93afb58d0fb8bac47588f9","modified":1581327196766},{"_id":"source/_posts/使Nginx同时监听ipv4和ipv6的配置方法.md","hash":"bbbb2bbe9a8b21e81975b99d9c813e311af98600","modified":1581327196766},{"_id":"source/_posts/修改Linux终端提示符的颜色.md","hash":"879b2dd940dbe23afc6154a51d69505c51bc7b68","modified":1581327196766},{"_id":"source/_posts/利用shadowsocks搭建6to4隧道.md","hash":"93936864d57a7705ed5242155322293ddb1a5f47","modified":1581327196766},{"_id":"source/_posts/手动安装PHP扩展.md","hash":"dfa73c7fea35aee21d6f00d761bd89966c820b3d","modified":1581327196766},{"_id":"source/_posts/救援模式下挂载原系统.md","hash":"b6ebaa470f85dd070d6caf27aba4d5d6797b9858","modified":1581327196766},{"_id":"source/_posts/解决CentOS7下NetworkManager中部分端口为umanaged状态这一问题.md","hash":"f554d677792085f878f0bdc729211e00769083ac","modified":1581327196766},{"_id":"source/_posts/记一次WordPress的Markdown美化过程.md","hash":"e9d2bd95e5d3726cbaa67db6264596732c7f601a","modified":1581327196767},{"_id":"source/_posts/问题解决：.md","hash":"01b5a556ac6266022fc4c6a48fb51d3efe5a7037","modified":1581327196767},{"_id":"source/e5-85-b3-e4-ba-8e/index.md","hash":"f8f710f341fd26bf0819efe2ee1794412bf2b5b8","modified":1581327196767},{"_id":"source/e5-8d-9a-e5-ae-a2/index.md","hash":"e8032eb4895a649d4b0a10abb30202bfb82ae0cd","modified":1581327196767},{"_id":"source/e8-81-94-e7-b3-bb-2/index.md","hash":"a5af801928b6d54e77c858fd4ddec5b4030db6dd","modified":1581327196767},{"_id":"source/images/pasted-0.png","hash":"83fbd1af3c465fc0a52856a545866eed2929e691","modified":1581327196775},{"_id":"source/images/pasted-1.png","hash":"0090fe1bb16810fb9ee6a51d88b17611c49a20a9","modified":1581327196776},{"_id":"source/images/pasted-2.png","hash":"93f0a242f59888b7a6504fbe148d7898ec3592cc","modified":1581327196776},{"_id":"source/images/pasted-3.png","hash":"727777dcb3d48193e95d7f601d77265cd47b892b","modified":1581327196776},{"_id":"source/vps/index.md","hash":"12c201184fed337ae558b1bef308ea41eb9ca7fd","modified":1581327196776},{"_id":"themes/maupassant/languages/de-DE.yml","hash":"5d3556a885e355a8c2da65ef3e7b3ee36a628bfa","modified":1575945440356},{"_id":"themes/maupassant/languages/en.yml","hash":"c3fb5c155560a00889a75882c680afe1197ebf1a","modified":1575945440356},{"_id":"themes/maupassant/languages/es-ES.yml","hash":"58e1d04bcd1834fa9d2960e18e027abbbccbedc9","modified":1575945440357},{"_id":"themes/maupassant/languages/fr-FR.yml","hash":"b47906ec0abf867fb3e3360bc046b7afb68aee25","modified":1575945440357},{"_id":"themes/maupassant/languages/ko.yml","hash":"909a33e0befa6978e8e72157c6b415b48551ee31","modified":1575945440357},{"_id":"themes/maupassant/languages/ru.yml","hash":"2476a631f4d3c668de04af85a6c2c97ba2a57e96","modified":1575945440357},{"_id":"themes/maupassant/languages/zh-CN.yml","hash":"710b204e637c18b86ac7c681f7d1cf8dfeddf4bb","modified":1575945440357},{"_id":"themes/maupassant/languages/zh-TW.yml","hash":"bf3ab970f2ab3f29ddeb9f59bf98163be635e284","modified":1575945440358},{"_id":"themes/maupassant/layout/archive.pug","hash":"2fe2cff144c9b7b509b7b6cb1b3acba27aa1d132","modified":1575945440362},{"_id":"themes/maupassant/layout/base-without-sidebar.pug","hash":"16c4d1079450f801b5ac079d3cc101856d8f387c","modified":1575945440362},{"_id":"themes/maupassant/layout/base.pug","hash":"a4e32bcb580b76af9ad0582d9d3f0107e34509ed","modified":1575945440363},{"_id":"themes/maupassant/layout/index.pug","hash":"0435a4e5f5c6976e05b3079d335453c246f5ba6e","modified":1575945440363},{"_id":"themes/maupassant/layout/page.pug","hash":"8cfd307b13cad8be34a1e75c4566f96c1722e08e","modified":1575945440363},{"_id":"themes/maupassant/layout/post.pug","hash":"f4d17b1b2a590cc076e80d912591648f9e99aeaf","modified":1575945440363},{"_id":"themes/maupassant/layout/single-column.pug","hash":"0593f261dc208bb0b5c4232eb41eff597a291bd9","modified":1575945440363},{"_id":"themes/maupassant/layout/tagcloud.pug","hash":"195cde32be65817fd4ed03590c71522913f1e1b8","modified":1575945440363},{"_id":"themes/maupassant/layout/timeline.pug","hash":"84fbfc92ccdf291b491140d89557553141a5d3f9","modified":1575945440363},{"_id":"themes/maupassant/layout/_partial/after_footer.pug","hash":"31bf35a57634ff8a796c71dd5246eba3a3db10ee","modified":1575945440358},{"_id":"themes/maupassant/layout/_partial/comments.pug","hash":"507fd8d2fde98df6216ed7c8f60ebea7cf77bfb2","modified":1575945440359},{"_id":"themes/maupassant/layout/_partial/footer.pug","hash":"650781b5bc8c632658ad6880ba663b1e3bfb5798","modified":1575945440359},{"_id":"themes/maupassant/layout/_partial/head.pug","hash":"8af6e452ea2a56b110b5079f79bf743b643f7d6c","modified":1575945440359},{"_id":"themes/maupassant/layout/_partial/helpers.pug","hash":"acdf9e2d52ee86c831fa15ce1570930c5779bc78","modified":1575945440359},{"_id":"themes/maupassant/layout/_partial/mathjax.pug","hash":"b54b56faff9e47ab3ca3cdd55056c73e60776f3c","modified":1575945440359},{"_id":"themes/maupassant/layout/_partial/mathjax2.pug","hash":"d6ac5dc4e9c7a1b866f1f92d88988cfb35aded4c","modified":1575945440359},{"_id":"themes/maupassant/layout/_partial/paginator.pug","hash":"53f9cb77448e84a98da5eb688e2e12b173c555bb","modified":1575945440360},{"_id":"themes/maupassant/layout/_partial/post_nav.pug","hash":"a2d698c84bb6da08195fe870dbd7215f65388d3f","modified":1575945440360},{"_id":"themes/maupassant/layout/_partial/tag.pug","hash":"0f0e6770e9d5dd8040e330d71bbbfadd2df36a28","modified":1575945440360},{"_id":"themes/maupassant/layout/_partial/totop.pug","hash":"8225bbc3cdb9648bc2e6872e5c616a9a1e4def4f","modified":1575945440360},{"_id":"themes/maupassant/layout/_partial/wordcount.pug","hash":"004c8a3edc19d428179b83a0f97eae3c1a6d3cfa","modified":1575945440360},{"_id":"themes/maupassant/layout/_widget/category.pug","hash":"7c6aed762934ca51aa2669b886254da24b77bc14","modified":1575945440360},{"_id":"themes/maupassant/layout/_widget/links.pug","hash":"c45aa7ec00158579e58f1f8dfd890447bb5e5e54","modified":1575945440360},{"_id":"themes/maupassant/layout/_widget/recent_comments.pug","hash":"4102d446f13b02ff617f055c2a8f726bca12744a","modified":1575945440360},{"_id":"themes/maupassant/layout/_widget/recent_posts.pug","hash":"19431336d724d2118e46da43683bce9063176541","modified":1575945440362},{"_id":"themes/maupassant/layout/_widget/search.pug","hash":"6e8e4123cca38840c4607c1a056205972b82bb7b","modified":1575945440362},{"_id":"themes/maupassant/layout/_widget/tag.pug","hash":"132f049ce677d0e38f50073174c4ee4b825d4a06","modified":1575945440362},{"_id":"themes/maupassant/source/css/default.css","hash":"7fbb18b73b44ed11193739c55fce53a6f173cf68","modified":1575945440364},{"_id":"themes/maupassant/source/css/donate.css","hash":"f019876946aeb80e567ece250d54c1327c794583","modified":1575945440364},{"_id":"themes/maupassant/source/css/style.scss","hash":"89bec68f9f6dc2ba1d0432b06d2db3e33ce9c5a0","modified":1575945440365},{"_id":"themes/maupassant/source/donate/index.html","hash":"c42428765d48c8674ce28100ad95fdf4c7806a85","modified":1575945440366},{"_id":"themes/maupassant/source/img/AliPayQR.png","hash":"7787b5d91cbf0e19a1260df24f7d949771c7d45b","modified":1575945440366},{"_id":"themes/maupassant/source/img/BTCQR.png","hash":"7d1c80f953bfb6f0a37d432b04c936ea165bfd97","modified":1575945440367},{"_id":"themes/maupassant/source/img/WeChatQR.png","hash":"8c41aca7883e5ff714c56556f5fff8e7e7c38093","modified":1575945440367},{"_id":"themes/maupassant/source/img/alipay.svg","hash":"46cc0552a9f6d700d618db3fcad25e1b8e697e36","modified":1575945440367},{"_id":"themes/maupassant/source/img/bitcoin.svg","hash":"635f7cca5e675d192be2717788175c7a2146013a","modified":1575945440368},{"_id":"themes/maupassant/source/img/github.svg","hash":"90ba9a3b0dc19e70e742a39b014194f801e00f97","modified":1575945440368},{"_id":"themes/maupassant/source/img/like.svg","hash":"22a2754dc454d7b0321b70914fb2936b8d2ea8ab","modified":1575945440369},{"_id":"themes/maupassant/source/img/paypal.svg","hash":"92f3bc495f20a0190d3041be03345c46d6238c25","modified":1575945440369},{"_id":"themes/maupassant/source/img/wechat.svg","hash":"330496ad42446a29f37a2b97fc388ebd77a8cb9f","modified":1575945440369},{"_id":"themes/maupassant/source/js/codeblock-resizer.js","hash":"5d0b786d60bf225d9eabcc9cece2719ff4d9b6cd","modified":1575945440369},{"_id":"themes/maupassant/source/js/donate.js","hash":"780beaaf44b1e6c057752bdbc085b1048937e5e7","modified":1575945440369},{"_id":"themes/maupassant/source/js/fancybox.js","hash":"13c4781570339f4fba76a3d7f202e442817dd605","modified":1575945440370},{"_id":"themes/maupassant/source/js/search.js","hash":"0c0630e2ef213701d393b041f10572e951a27985","modified":1575945440372},{"_id":"themes/maupassant/source/js/share.js","hash":"a2f9de374523dc7f2ddb90ed5f24b668c20d9272","modified":1575945440372},{"_id":"themes/maupassant/source/js/smartresize.js","hash":"3ef157fd877167e3290f42c67a624ea375a46c24","modified":1575945440372},{"_id":"themes/maupassant/source/js/totop.js","hash":"7dbf8fcf582a4fb6eb9b2c60d6de9f9c2091ec4c","modified":1575945440372},{"_id":"source/images/DASHENG-900x700-1.png","hash":"8f275ab03560b758667ea8fbe2a32683d39840de","modified":1581327196768},{"_id":"themes/maupassant/source/js/gitment.browser.js","hash":"376446d9c5930576016f97dd63e5e6616c94d8d4","modified":1575945440371},{"_id":"source/images/DASHENG-900x700-2.png","hash":"a483686830d76d8c820c3a6f83ad6efaccbc48c1","modified":1581327196770},{"_id":"source/images/DASHENG-900x700-4.png","hash":"84179d4eb90ec12b2498bdd0f08982e86d5b1511","modified":1581327196775},{"_id":"source/images/DASHENG-900x700-3.png","hash":"c7da56072a60e52e3e8f2a8407859f47f69e0055","modified":1581327196773},{"_id":"public/hexo-admin-ehc-images.json","hash":"0d165d7223eabfe5ebab834a5d89c8cb9731b5ff","modified":1581331125357},{"_id":"public/search.xml","hash":"e81344b986658403276e001b90129c836062e018","modified":1581331125357},{"_id":"public/e5-85-b3-e4-ba-8e/index.html","hash":"4605ca6a3513d26869a2827768bbb644da75765b","modified":1581331125357},{"_id":"public/e5-8d-9a-e5-ae-a2/index.html","hash":"dfd7401919d3e2bcb98af242aa2910e060f1a1c5","modified":1581331125357},{"_id":"public/e8-81-94-e7-b3-bb-2/index.html","hash":"02c2b252c69a30037d7a76966c1a9ad6bbb43158","modified":1581331125357},{"_id":"public/vps/index.html","hash":"28349412751c166d11f3e5071a379579a4aeddf4","modified":1581331125357},{"_id":"public/2020/01/27/救援模式下挂载原系统/index.html","hash":"5e41becfb90586d2b27d1e96edbd71219b93df21","modified":1581331125357},{"_id":"public/2020/01/17/shell的字符串处理/index.html","hash":"0a7364520a268acb0e39ee781a1042d6ba23c8a2","modified":1581331125357},{"_id":"public/2019/12/17/H-264-10bit的一个小坑/index.html","hash":"d715aa5aae61c38af564a4c30a136b27e9cdc0f8","modified":1581331125357},{"_id":"public/2019/12/14/问题解决：/index.html","hash":"03fa692ddbeda2a27da782c61eeafdb9c227cddb","modified":1581331125357},{"_id":"public/2019/12/11/使Nginx同时监听ipv4和ipv6的配置方法/index.html","hash":"e65542137184357342df8b2351b4e691948823f1","modified":1581331125357},{"_id":"public/2019/12/07/利用shadowsocks搭建6to4隧道/index.html","hash":"5ecd6104d70d09b702bc3d25de1b853aceffa8f3","modified":1581331125357},{"_id":"public/2019/10/27/【Django】如何将QuerySet转为dict/index.html","hash":"06473baa86336ed8d8b5b8267b063ff7f30d30eb","modified":1581331125357},{"_id":"public/2019/10/04/Dell服务器的几款raid工具/index.html","hash":"ea7ca1494bcf60d2c086a0715ad6301d6c62545d","modified":1581331125357},{"_id":"public/2019/08/05/xfs文件系统移动分区/index.html","hash":"329dd7cd193652d669f258c1e78b7a8807836378","modified":1581331125357},{"_id":"public/2019/07/13/ztsh项目完成后的一些感悟/index.html","hash":"f713f83ee0ceab20f6f5d61d55c005fe2d1d1d67","modified":1581331125357},{"_id":"public/2019/07/06/【摘抄】Djangodui对URL尾斜杠(back slash)的处理/index.html","hash":"6ed9ae13643dfb809cdcc1d44bb6aea5a7568a9c","modified":1581331125357},{"_id":"public/2019/06/25/Linux下ZIP文件的修复/index.html","hash":"438cdbd94fa9fef9e8c4fd85fd95b4c2aeda3425","modified":1581331125357},{"_id":"public/2019/06/11/手动安装PHP扩展/index.html","hash":"ba62035b04d113ad6a3c51dd56d3b3080a36c784","modified":1581331125357},{"_id":"public/2019/06/06/【VNC】Could not start d-bus Can you call qdbus问题解决/index.html","hash":"ae885c2d6082911e09ddfd858c5fb4b870b5ab8c","modified":1581331125357},{"_id":"public/2019/05/20/【leetcode】4. 寻找两个有序数组的中位数/index.html","hash":"15f37ae62c191b0772c802fe77d241bb1014bb47","modified":1581331125357},{"_id":"public/2019/05/19/记一次WordPress的Markdown美化过程/index.html","hash":"2f801fb0538510efaee10cc9a9eec2b5a896689c","modified":1581331125357},{"_id":"public/2019/05/18/【leetcode】3. 无重复字符的最长子串/index.html","hash":"017f157f32bbcc48e0b60f0069a952e69429460d","modified":1581331125357},{"_id":"public/2019/05/06/Sqlalchemy的一些学习笔记/index.html","hash":"abd9478916f8dd9d9a7e1e5ac5836e79a8d599e6","modified":1581331125357},{"_id":"public/2019/05/02/【Python】正则表达式的相关笔记/index.html","hash":"45c663669f00ab218d463f3af247a089e1b6407e","modified":1581331125357},{"_id":"public/2019/04/28/Linux查看和修改Kernel Boot Parameters/index.html","hash":"8de2b156f60ddb9e804f1cffc4b85e33dbf7ecc1","modified":1581331125357},{"_id":"public/2019/04/21/Python终止子线程/index.html","hash":"d582db8bac806a1389b4e75511cf5649f01feb97","modified":1581331125357},{"_id":"public/2019/04/21/Python多线程的两种方式/index.html","hash":"5e0109f446eedc70a2e0531e54bd029dbff42a6c","modified":1581331125357},{"_id":"public/2019/03/08/C语言实现Linux下的系统调用/index.html","hash":"072003d7ae9931532ccec907609ae6318646eee1","modified":1581331125357},{"_id":"public/2019/03/04/Linux中同时使用多个ssh密钥登录不同的主机/index.html","hash":"c524a00419ecc9c4feee67e5ad864122723c7e4c","modified":1581331125357},{"_id":"public/2019/03/04/解决CentOS7下NetworkManager中部分端口为umanaged状态这一问题/index.html","hash":"24d024471d0b68056338a1551c0df0688e0a6610","modified":1581331125357},{"_id":"public/2019/02/21/修改Linux终端提示符的颜色/index.html","hash":"f198e11d3518d4a229ba597ff7c6e350c90e036d","modified":1581331125357},{"_id":"public/2019/02/20/docker安装nginx/index.html","hash":"a81f3ffa26da74e07c19361944152305cbdf7ef3","modified":1581331125357},{"_id":"public/2019/02/03/trashed-2/index.html","hash":"969ce5b97cd35c6db30a17bfda19c2103c097ab5","modified":1581331125357},{"_id":"public/2019/01/28/【Ceotos7】Linux下安装字体/index.html","hash":"9ff45ddfe58d85df58c04bc405bed416d8fcc12b","modified":1581331125357},{"_id":"public/2018/11/11/Linux下几种socks流量转http(s)流量的工具/index.html","hash":"42b833c391c512da89cdb04c83b5adceb0912509","modified":1581331125357},{"_id":"public/2018/09/01/【CentOS7】给Linux服务器安装图形界面/index.html","hash":"07d51481570386b73c0ec986e8220208a7654c32","modified":1581331125357},{"_id":"public/2018/08/08/Centos 7修改系统语言/index.html","hash":"318f2cbf094e622bd0a7ff5c00b3f13162bba956","modified":1581331125357},{"_id":"public/2018/07/24/centos7 升级内核/index.html","hash":"bea3d1e26cd326eb9a76c70bea46d8a0416fc6b5","modified":1581331125357},{"_id":"public/archives/index.html","hash":"983065111219641496a69f4deaca7c7969cbb1f9","modified":1581331125357},{"_id":"public/archives/page/2/index.html","hash":"0f601baab1af52e7b409faf1498a1ede4fa4b789","modified":1581331125357},{"_id":"public/archives/page/3/index.html","hash":"d97b59dd1825faab3e943671fbc9c53909235a4a","modified":1581331125357},{"_id":"public/archives/page/4/index.html","hash":"f1115e382103a4f5d2d709b9de58487eca4aef78","modified":1581331125357},{"_id":"public/archives/2018/index.html","hash":"b7f07dc9a069483fddd6c8d2eae9fc1033e2567d","modified":1581331125357},{"_id":"public/archives/2018/07/index.html","hash":"f4839c3965a21f268de018668e917fb172634f7c","modified":1581331125357},{"_id":"public/archives/2018/08/index.html","hash":"a1fb97fd5e6e3afa1373adce46c61ed332f0dfdf","modified":1581331125357},{"_id":"public/archives/2018/09/index.html","hash":"fc383a3479ea15f190572142a6c619b0151d257c","modified":1581331125357},{"_id":"public/archives/2018/11/index.html","hash":"33e5b2684a5302860f99f1f448647542bcdcdb37","modified":1581331125357},{"_id":"public/archives/2019/index.html","hash":"96cffc55f33afdf4bd9859ed0efd98b9b454fcfc","modified":1581331125357},{"_id":"public/archives/2019/page/2/index.html","hash":"83e51b9eac0a250f9ced7f20a11294ee23a04713","modified":1581331125357},{"_id":"public/archives/2019/page/3/index.html","hash":"6687e40575f0e783915367cddfe0b6655ad12924","modified":1581331125357},{"_id":"public/archives/2019/01/index.html","hash":"ca2923a39d79337927166e2a1dfb6a55b56faac9","modified":1581331125357},{"_id":"public/archives/2019/02/index.html","hash":"0dbea7af7aaffee76f7f343177ab061899bbff22","modified":1581331125357},{"_id":"public/archives/2019/03/index.html","hash":"c12c86dda5de2014a0659b661a8dccecc8836b7f","modified":1581331125357},{"_id":"public/archives/2019/04/index.html","hash":"42c8511042303824fb16370c605d7f85b54769ab","modified":1581331125357},{"_id":"public/archives/2019/05/index.html","hash":"376961d1868c661e35ddbc799844339156c2c4bc","modified":1581331125357},{"_id":"public/archives/2019/06/index.html","hash":"fed30ae70702bcc1b6c258cd46521164b13018b6","modified":1581331125357},{"_id":"public/archives/2019/07/index.html","hash":"cb7ea2456bd90ef180c31b0c207d01d7b65ba09c","modified":1581331125357},{"_id":"public/archives/2019/08/index.html","hash":"76a7cf3de532d0dbe453d88d367333e64f0bde7e","modified":1581331125357},{"_id":"public/archives/2019/10/index.html","hash":"4d2856e2bf5aa4f005d02443efc92d836cdda516","modified":1581331125357},{"_id":"public/archives/2019/12/index.html","hash":"271e5f96eb905b6fdd9a05bc7ae1e5f2a8fb7193","modified":1581331125357},{"_id":"public/archives/2020/index.html","hash":"a695aa02e31d778940f0fb45343e54731c5fbb0d","modified":1581331125357},{"_id":"public/archives/2020/01/index.html","hash":"a695aa02e31d778940f0fb45343e54731c5fbb0d","modified":1581331125357},{"_id":"public/categories/Linux-amp-VPS/index.html","hash":"7c62c50951325dee369616cf1d50e29dab93d2a1","modified":1581331125357},{"_id":"public/categories/Linux-amp-VPS/page/2/index.html","hash":"ba744f5c3f860da1596bca9aae6e67460fbab5ab","modified":1581331125357},{"_id":"public/categories/Linux/index.html","hash":"ee54240a5e3c580b58c78f649e36877bf7ea0c90","modified":1581331125357},{"_id":"public/categories/Python/index.html","hash":"ceadc6e546e502751bd334c88d34c7b31df7ee6f","modified":1581331125357},{"_id":"public/categories/vps/index.html","hash":"698b30e2464a88065cdf67ab59c9dfe7d4721be1","modified":1581331125357},{"_id":"public/categories/leetcode/index.html","hash":"379e13a8f0555992823007bb3c63934f56838678","modified":1581331125357},{"_id":"public/index.html","hash":"71a4ef601ede0052552ac7126ecee89fd32d7cfe","modified":1581331125357},{"_id":"public/page/2/index.html","hash":"d4d78e6e3826b555bbb79339b09218192f83ddca","modified":1581331125357},{"_id":"public/page/3/index.html","hash":"5be0cd2a4d6a464565c4b9cd53f2bd7e77f4d7ab","modified":1581331125357},{"_id":"public/page/4/index.html","hash":"e1bd1b7c6155848191da1785a858f65fce43c3d5","modified":1581331125357},{"_id":"public/tags/shell/index.html","hash":"d2cd17fce96eba2a59ef81945b561408c2ee7d15","modified":1581331125357},{"_id":"public/tags/django/index.html","hash":"02f8aa80a0ec1ac2cd5d1011d18881c1c3229adc","modified":1581331125357},{"_id":"public/2019/12/13/Debian下安装新内核及更换默认内核/index.html","hash":"31b07aab3506415d53718186f0156718216cd48e","modified":1581331125357},{"_id":"public/tags/web/index.html","hash":"15997904ee3a04b4dc4878c0ff4eed953ff2a9e1","modified":1581331125357},{"_id":"public/tags/vps/index.html","hash":"baab1a7397c8000aa40f92b9b0bf7d4796c20185","modified":1581331125357},{"_id":"public/sync.ffs_db","hash":"4ff6fc1218ee7d31c26083a5584fd405d54cd6fd","modified":1581331125357},{"_id":"public/images/pasted-0.png","hash":"83fbd1af3c465fc0a52856a545866eed2929e691","modified":1581331125357},{"_id":"public/images/pasted-1.png","hash":"0090fe1bb16810fb9ee6a51d88b17611c49a20a9","modified":1581331125357},{"_id":"public/images/pasted-2.png","hash":"93f0a242f59888b7a6504fbe148d7898ec3592cc","modified":1581331125357},{"_id":"public/images/pasted-3.png","hash":"727777dcb3d48193e95d7f601d77265cd47b892b","modified":1581331125357},{"_id":"public/img/AliPayQR.png","hash":"7787b5d91cbf0e19a1260df24f7d949771c7d45b","modified":1581331125357},{"_id":"public/img/BTCQR.png","hash":"7d1c80f953bfb6f0a37d432b04c936ea165bfd97","modified":1581331125357},{"_id":"public/img/WeChatQR.png","hash":"8c41aca7883e5ff714c56556f5fff8e7e7c38093","modified":1581331125357},{"_id":"public/img/alipay.svg","hash":"46cc0552a9f6d700d618db3fcad25e1b8e697e36","modified":1581331125357},{"_id":"public/img/bitcoin.svg","hash":"635f7cca5e675d192be2717788175c7a2146013a","modified":1581331125357},{"_id":"public/img/github.svg","hash":"90ba9a3b0dc19e70e742a39b014194f801e00f97","modified":1581331125357},{"_id":"public/img/like.svg","hash":"22a2754dc454d7b0321b70914fb2936b8d2ea8ab","modified":1581331125357},{"_id":"public/img/paypal.svg","hash":"92f3bc495f20a0190d3041be03345c46d6238c25","modified":1581331125357},{"_id":"public/img/wechat.svg","hash":"330496ad42446a29f37a2b97fc388ebd77a8cb9f","modified":1581331125357},{"_id":"public/css/donate.css","hash":"f019876946aeb80e567ece250d54c1327c794583","modified":1581331125357},{"_id":"public/js/codeblock-resizer.js","hash":"5d0b786d60bf225d9eabcc9cece2719ff4d9b6cd","modified":1581331125357},{"_id":"public/js/donate.js","hash":"89f0b9d9d0c4fce183161d29c2a44aef750efb27","modified":1581331125357},{"_id":"public/js/fancybox.js","hash":"13c4781570339f4fba76a3d7f202e442817dd605","modified":1581331125357},{"_id":"public/js/search.js","hash":"0c0630e2ef213701d393b041f10572e951a27985","modified":1581331125357},{"_id":"public/js/share.js","hash":"a2f9de374523dc7f2ddb90ed5f24b668c20d9272","modified":1581331125357},{"_id":"public/js/smartresize.js","hash":"3ef157fd877167e3290f42c67a624ea375a46c24","modified":1581331125357},{"_id":"public/js/totop.js","hash":"7dbf8fcf582a4fb6eb9b2c60d6de9f9c2091ec4c","modified":1581331125357},{"_id":"public/donate/index.html","hash":"df3f36d488ccfda22e771cae58bf6ad8d1aac420","modified":1581331125357},{"_id":"public/css/default.css","hash":"7fbb18b73b44ed11193739c55fce53a6f173cf68","modified":1581331125357},{"_id":"public/images/DASHENG-900x700-1.png","hash":"8f275ab03560b758667ea8fbe2a32683d39840de","modified":1581331125357},{"_id":"public/images/DASHENG-900x700-2.png","hash":"a483686830d76d8c820c3a6f83ad6efaccbc48c1","modified":1581331125357},{"_id":"public/images/DASHENG-900x700-4.png","hash":"84179d4eb90ec12b2498bdd0f08982e86d5b1511","modified":1581331125357},{"_id":"public/css/style.css","hash":"9cffbc12bd2b40733e64d8de9c9e9403cd8fd581","modified":1581331125357},{"_id":"public/images/DASHENG-900x700-3.png","hash":"c7da56072a60e52e3e8f2a8407859f47f69e0055","modified":1581331125357},{"_id":"public/js/gitment.browser.js","hash":"376446d9c5930576016f97dd63e5e6616c94d8d4","modified":1581331125357}],"Category":[{"name":"Linux &amp; VPS","_id":"ck6gbq4i00003toojgug14pte"},{"name":"Linux","_id":"ck6gbq4jb000gtooj9o266vzb"},{"name":"Python","_id":"ck6gbq4k9000ntoojaj4q8v98"},{"name":"vps","_id":"ck6gbq4l70012toojhl03e25b"},{"name":"leetcode","_id":"ck6gbqbdn001utoojbl884762"}],"Data":[],"Page":[{"_content":"[{\"name\":\"DASHENG-900x700-1.png\",\"date\":1518959551960},{\"name\":\"DASHENG-900x700-2.png\",\"date\":1518959599098},{\"name\":\"DASHENG-900x700-3.png\",\"date\":1518959609913},{\"name\":\"DASHENG-900x700-4.png\",\"date\":1518959618105}]","source":"hexo-admin-ehc-images.json","raw":"[{\"name\":\"DASHENG-900x700-1.png\",\"date\":1518959551960},{\"name\":\"DASHENG-900x700-2.png\",\"date\":1518959599098},{\"name\":\"DASHENG-900x700-3.png\",\"date\":1518959609913},{\"name\":\"DASHENG-900x700-4.png\",\"date\":1518959618105}]","date":"2020-02-10T09:33:16.767Z","updated":"2020-02-10T09:33:16.767Z","path":"hexo-admin-ehc-images.json","layout":"false","title":"","comments":1,"_id":"ck6gbq4cj0000tooj1b8n75pb","content":"[{\"name\":\"DASHENG-900x700-1.png\",\"date\":1518959551960},{\"name\":\"DASHENG-900x700-2.png\",\"date\":1518959599098},{\"name\":\"DASHENG-900x700-3.png\",\"date\":1518959609913},{\"name\":\"DASHENG-900x700-4.png\",\"date\":1518959618105}]","site":{"data":{}},"excerpt":"","more":"[{\"name\":\"DASHENG-900x700-1.png\",\"date\":1518959551960},{\"name\":\"DASHENG-900x700-2.png\",\"date\":1518959599098},{\"name\":\"DASHENG-900x700-3.png\",\"date\":1518959609913},{\"name\":\"DASHENG-900x700-4.png\",\"date\":1518959618105}]"},{"title":"关于","url":"44.html","id":44,"comments":0,"date":"2018-07-06T13:55:06.000Z","_content":"\n目前好像也没有什么好说的，大概是兴趣所致，做一个博客玩玩吧，至于能不能走下去，日后再说。","source":"e5-85-b3-e4-ba-8e/index.md","raw":"---\ntitle: 关于\nurl: 44.html\nid: 44\ncomments: false\ndate: 2018-07-06 21:55:06\n---\n\n目前好像也没有什么好说的，大概是兴趣所致，做一个博客玩玩吧，至于能不能走下去，日后再说。","updated":"2020-02-10T09:33:16.767Z","path":"e5-85-b3-e4-ba-8e/index.html","layout":"page","_id":"ck6gbqbat001gtooj5bf9c9se","content":"<p>目前好像也没有什么好说的，大概是兴趣所致，做一个博客玩玩吧，至于能不能走下去，日后再说。</p>\n","site":{"data":{}},"excerpt":"","more":"<p>目前好像也没有什么好说的，大概是兴趣所致，做一个博客玩玩吧，至于能不能走下去，日后再说。</p>\n"},{"title":"博客","url":"47.html","id":47,"comments":0,"date":"2018-07-06T13:55:06.000Z","_content":"","source":"e5-8d-9a-e5-ae-a2/index.md","raw":"---\ntitle: 博客\nurl: 47.html\nid: 47\ncomments: false\ndate: 2018-07-06 21:55:06\n---\n","updated":"2020-02-10T09:33:16.767Z","path":"e5-8d-9a-e5-ae-a2/index.html","layout":"page","_id":"ck6gbqbbb001itoojaf10bete","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"联系","url":"116.html","id":116,"comments":0,"date":"2018-07-06T17:12:33.000Z","_content":"\n\\[contact-form-7 id=\"85\" title=\"联系表单 1\"\\]","source":"e8-81-94-e7-b3-bb-2/index.md","raw":"---\ntitle: 联系\nurl: 116.html\nid: 116\ncomments: false\ndate: 2018-07-07 01:12:33\n---\n\n\\[contact-form-7 id=\"85\" title=\"联系表单 1\"\\]","updated":"2020-02-10T09:33:16.767Z","path":"e8-81-94-e7-b3-bb-2/index.html","layout":"page","_id":"ck6gbqbbs001ktooj73lnenpu","content":"<p>[contact-form-7 id=”85” title=”联系表单 1”]</p>\n","site":{"data":{}},"excerpt":"","more":"<p>[contact-form-7 id=”85” title=”联系表单 1”]</p>\n"},{"title":"vps常用性能检测脚本","url":"139.html","id":139,"comments":0,"date":"2018-07-14T08:36:52.000Z","_content":"superbench\n----------\n```bash\nwget -qO- git.io/superbench.sh | bash\n```\n\n  \n\nmemtest测试内存可用量\n--------------\n```bash\nwget https://raw.githubusercontent.com/oooldking/script/master/superbench.sh \nchmod +x superbench.sh \n./superbench.sh\n```\n\n  \n\nZbench\n------\n```bash\nhttps://raw.githubusercontent.com/FunctionClub/ZBench/master/ZBench-CN.sh && bash ZBench-CN.sh\n```\n\n  \n\nLinux性能测试UnixBench一键脚本\n----------------------\n```bash\nwget --no-check-certificate https://github.com/teddysun/across/raw/master/unixbench.sh \nchmod +x unixbench.sh \n./unixbench.sh\n```\n\n  \n\n94ish版TCP加速脚本\n-------------\n```bash\nwget -N --no-check-certificate \"https://raw.githubusercontent.com/chiakge/Linux-NetSpeed/master/tcp.sh\"\nchmod +x tcp.sh\n./tcp.sh\n```\n\n  \n\nSuperSpeed全面测速脚本\n----------------\n```bash\nbash <(curl -Lso- https://git.io/superspeed)\n```\n\n  \n\nYet-Another-Bench-Script\n------------------------\n```bash\nwget -qO- https://raw.githubusercontent.com/masonr/yet-another-bench-script/master/yabs.sh | bash\n```\n\n  \n\nSpeedtest Monster\n-----------------\n```bash\ncurl -LsO bench.monster/speedtest.sh; bash speedtest.sh -Asia\n```\n\nNench\n-----\n```bash\n(curl -s wget.racing/nench.sh | bash; curl -s wget.racing/nench.sh | bash) 2>&1 | tee nench.log\n```\n","source":"vps/index.md","raw":"title: vps常用性能检测脚本\nurl: 139.html\nid: 139\ncomments: false\ndate: 2018-07-14 16:36:52\n---\nsuperbench\n----------\n```bash\nwget -qO- git.io/superbench.sh | bash\n```\n\n  \n\nmemtest测试内存可用量\n--------------\n```bash\nwget https://raw.githubusercontent.com/oooldking/script/master/superbench.sh \nchmod +x superbench.sh \n./superbench.sh\n```\n\n  \n\nZbench\n------\n```bash\nhttps://raw.githubusercontent.com/FunctionClub/ZBench/master/ZBench-CN.sh && bash ZBench-CN.sh\n```\n\n  \n\nLinux性能测试UnixBench一键脚本\n----------------------\n```bash\nwget --no-check-certificate https://github.com/teddysun/across/raw/master/unixbench.sh \nchmod +x unixbench.sh \n./unixbench.sh\n```\n\n  \n\n94ish版TCP加速脚本\n-------------\n```bash\nwget -N --no-check-certificate \"https://raw.githubusercontent.com/chiakge/Linux-NetSpeed/master/tcp.sh\"\nchmod +x tcp.sh\n./tcp.sh\n```\n\n  \n\nSuperSpeed全面测速脚本\n----------------\n```bash\nbash <(curl -Lso- https://git.io/superspeed)\n```\n\n  \n\nYet-Another-Bench-Script\n------------------------\n```bash\nwget -qO- https://raw.githubusercontent.com/masonr/yet-another-bench-script/master/yabs.sh | bash\n```\n\n  \n\nSpeedtest Monster\n-----------------\n```bash\ncurl -LsO bench.monster/speedtest.sh; bash speedtest.sh -Asia\n```\n\nNench\n-----\n```bash\n(curl -s wget.racing/nench.sh | bash; curl -s wget.racing/nench.sh | bash) 2>&1 | tee nench.log\n```\n","updated":"2020-02-10T09:33:16.776Z","path":"vps/index.html","layout":"page","_id":"ck6gbqbc6001otoojccr95oen","content":"<h2 id=\"superbench\"><a href=\"#superbench\" class=\"headerlink\" title=\"superbench\"></a>superbench</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget -qO- git.io/superbench.sh | bash</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"memtest测试内存可用量\"><a href=\"#memtest测试内存可用量\" class=\"headerlink\" title=\"memtest测试内存可用量\"></a>memtest测试内存可用量</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget https://raw.githubusercontent.com/oooldking/script/master/superbench.sh </span><br><span class=\"line\">chmod +x superbench.sh </span><br><span class=\"line\">./superbench.sh</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"Zbench\"><a href=\"#Zbench\" class=\"headerlink\" title=\"Zbench\"></a>Zbench</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://raw.githubusercontent.com/FunctionClub/ZBench/master/ZBench-CN.sh &amp;&amp; bash ZBench-CN.sh</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"Linux性能测试UnixBench一键脚本\"><a href=\"#Linux性能测试UnixBench一键脚本\" class=\"headerlink\" title=\"Linux性能测试UnixBench一键脚本\"></a>Linux性能测试UnixBench一键脚本</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget --no-check-certificate https://github.com/teddysun/across/raw/master/unixbench.sh </span><br><span class=\"line\">chmod +x unixbench.sh </span><br><span class=\"line\">./unixbench.sh</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"94ish版TCP加速脚本\"><a href=\"#94ish版TCP加速脚本\" class=\"headerlink\" title=\"94ish版TCP加速脚本\"></a>94ish版TCP加速脚本</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget -N --no-check-certificate <span class=\"string\">\"https://raw.githubusercontent.com/chiakge/Linux-NetSpeed/master/tcp.sh\"</span></span><br><span class=\"line\">chmod +x tcp.sh</span><br><span class=\"line\">./tcp.sh</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"SuperSpeed全面测速脚本\"><a href=\"#SuperSpeed全面测速脚本\" class=\"headerlink\" title=\"SuperSpeed全面测速脚本\"></a>SuperSpeed全面测速脚本</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bash &lt;(curl -Lso- https://git.io/superspeed)</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"Yet-Another-Bench-Script\"><a href=\"#Yet-Another-Bench-Script\" class=\"headerlink\" title=\"Yet-Another-Bench-Script\"></a>Yet-Another-Bench-Script</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget -qO- https://raw.githubusercontent.com/masonr/yet-another-bench-script/master/yabs.sh | bash</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"Speedtest-Monster\"><a href=\"#Speedtest-Monster\" class=\"headerlink\" title=\"Speedtest Monster\"></a>Speedtest Monster</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -LsO bench.monster/speedtest.sh; bash speedtest.sh -Asia</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Nench\"><a href=\"#Nench\" class=\"headerlink\" title=\"Nench\"></a>Nench</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(curl -s wget.racing/nench.sh | bash; curl -s wget.racing/nench.sh | bash) 2&gt;&amp;1 | tee nench.log</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"superbench\"><a href=\"#superbench\" class=\"headerlink\" title=\"superbench\"></a>superbench</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget -qO- git.io/superbench.sh | bash</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"memtest测试内存可用量\"><a href=\"#memtest测试内存可用量\" class=\"headerlink\" title=\"memtest测试内存可用量\"></a>memtest测试内存可用量</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget https://raw.githubusercontent.com/oooldking/script/master/superbench.sh </span><br><span class=\"line\">chmod +x superbench.sh </span><br><span class=\"line\">./superbench.sh</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"Zbench\"><a href=\"#Zbench\" class=\"headerlink\" title=\"Zbench\"></a>Zbench</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://raw.githubusercontent.com/FunctionClub/ZBench/master/ZBench-CN.sh &amp;&amp; bash ZBench-CN.sh</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"Linux性能测试UnixBench一键脚本\"><a href=\"#Linux性能测试UnixBench一键脚本\" class=\"headerlink\" title=\"Linux性能测试UnixBench一键脚本\"></a>Linux性能测试UnixBench一键脚本</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget --no-check-certificate https://github.com/teddysun/across/raw/master/unixbench.sh </span><br><span class=\"line\">chmod +x unixbench.sh </span><br><span class=\"line\">./unixbench.sh</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"94ish版TCP加速脚本\"><a href=\"#94ish版TCP加速脚本\" class=\"headerlink\" title=\"94ish版TCP加速脚本\"></a>94ish版TCP加速脚本</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget -N --no-check-certificate <span class=\"string\">\"https://raw.githubusercontent.com/chiakge/Linux-NetSpeed/master/tcp.sh\"</span></span><br><span class=\"line\">chmod +x tcp.sh</span><br><span class=\"line\">./tcp.sh</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"SuperSpeed全面测速脚本\"><a href=\"#SuperSpeed全面测速脚本\" class=\"headerlink\" title=\"SuperSpeed全面测速脚本\"></a>SuperSpeed全面测速脚本</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bash &lt;(curl -Lso- https://git.io/superspeed)</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"Yet-Another-Bench-Script\"><a href=\"#Yet-Another-Bench-Script\" class=\"headerlink\" title=\"Yet-Another-Bench-Script\"></a>Yet-Another-Bench-Script</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget -qO- https://raw.githubusercontent.com/masonr/yet-another-bench-script/master/yabs.sh | bash</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"Speedtest-Monster\"><a href=\"#Speedtest-Monster\" class=\"headerlink\" title=\"Speedtest Monster\"></a>Speedtest Monster</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -LsO bench.monster/speedtest.sh; bash speedtest.sh -Asia</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Nench\"><a href=\"#Nench\" class=\"headerlink\" title=\"Nench\"></a>Nench</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(curl -s wget.racing/nench.sh | bash; curl -s wget.racing/nench.sh | bash) 2&gt;&amp;1 | tee nench.log</span><br></pre></td></tr></table></figure>\n"}],"Post":[{"title":"Elementor #240","url":"240.html","id":"240","_content":"\n### Privoxy\n\n### 安装\n\nyum install -y epel-release yum install privoxy\n\n    <br>\n    \n    + 配置\n    \n    \n\nvim /etc/privoxy/config\n\n在 froward-socks4下面添加一条socks5的，因为shadowsocks是socks5，\n===================================================\n\n地址是127.0.0.1:1080。注意他们最后有一个“.”\n==============================\n\n#        forward-socks4   /               socks-gw.example.com:1080  . forward-socks5   /               127.0.0.1:1080 .  \n\n下面还存在以下一条配置，表示privoxy监听本机8118端口，\n================================\n\n把它作为http代理，代理地址为 http://localhost.8118/ 。\n=========================================\n\n可以把地址改为 0.0.0.0:8118，表示外网也可以通过本机IP作http代理。\n==========================================\n\n这样，你的外网IP为1.2.3.4，别人就可以设置 http://1.2.3.4:8118/ 为http代理。\n=======================================================\n\n　listen-address localhost:8118    systemctl restart privoxy.serivce  ```","source":"_drafts/Elementor-240.md","raw":"---\ntitle: 'Elementor #240'\nurl: 240.html\nid: 240\ncategories:\n  - Linux &amp; VPS\ntags:\n---\n\n### Privoxy\n\n### 安装\n\nyum install -y epel-release yum install privoxy\n\n    <br>\n    \n    + 配置\n    \n    \n\nvim /etc/privoxy/config\n\n在 froward-socks4下面添加一条socks5的，因为shadowsocks是socks5，\n===================================================\n\n地址是127.0.0.1:1080。注意他们最后有一个“.”\n==============================\n\n#        forward-socks4   /               socks-gw.example.com:1080  . forward-socks5   /               127.0.0.1:1080 .  \n\n下面还存在以下一条配置，表示privoxy监听本机8118端口，\n================================\n\n把它作为http代理，代理地址为 http://localhost.8118/ 。\n=========================================\n\n可以把地址改为 0.0.0.0:8118，表示外网也可以通过本机IP作http代理。\n==========================================\n\n这样，你的外网IP为1.2.3.4，别人就可以设置 http://1.2.3.4:8118/ 为http代理。\n=======================================================\n\n　listen-address localhost:8118    systemctl restart privoxy.serivce  ```","slug":"Elementor-240","published":0,"date":"2020-02-10T09:33:16.762Z","updated":"2020-02-10T09:33:16.762Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbq4hg0001toojfypy9bia","content":"<h3 id=\"Privoxy\"><a href=\"#Privoxy\" class=\"headerlink\" title=\"Privoxy\"></a>Privoxy</h3><h3 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h3><p>yum install -y epel-release yum install privoxy</p>\n<pre><code>&lt;br&gt;\n\n+ 配置</code></pre><p>vim /etc/privoxy/config</p>\n<h1 id=\"在-froward-socks4下面添加一条socks5的，因为shadowsocks是socks5，\"><a href=\"#在-froward-socks4下面添加一条socks5的，因为shadowsocks是socks5，\" class=\"headerlink\" title=\"在 froward-socks4下面添加一条socks5的，因为shadowsocks是socks5，\"></a>在 froward-socks4下面添加一条socks5的，因为shadowsocks是socks5，</h1><h1 id=\"地址是127-0-0-1-1080。注意他们最后有一个“-”\"><a href=\"#地址是127-0-0-1-1080。注意他们最后有一个“-”\" class=\"headerlink\" title=\"地址是127.0.0.1:1080。注意他们最后有一个“.”\"></a>地址是127.0.0.1:1080。注意他们最后有一个“.”</h1><h1 id=\"forward-socks4-socks-gw-example-com-1080-forward-socks5-127-0-0-1-1080\"><a href=\"#forward-socks4-socks-gw-example-com-1080-forward-socks5-127-0-0-1-1080\" class=\"headerlink\" title=\"forward-socks4   /               socks-gw.example.com:1080  . forward-socks5   /               127.0.0.1:1080 .\"></a>forward-socks4   /               socks-gw.example.com:1080  . forward-socks5   /               127.0.0.1:1080 .</h1><h1 id=\"下面还存在以下一条配置，表示privoxy监听本机8118端口，\"><a href=\"#下面还存在以下一条配置，表示privoxy监听本机8118端口，\" class=\"headerlink\" title=\"下面还存在以下一条配置，表示privoxy监听本机8118端口，\"></a>下面还存在以下一条配置，表示privoxy监听本机8118端口，</h1><h1 id=\"把它作为http代理，代理地址为-http-localhost-8118-。\"><a href=\"#把它作为http代理，代理地址为-http-localhost-8118-。\" class=\"headerlink\" title=\"把它作为http代理，代理地址为 http://localhost.8118/ 。\"></a>把它作为http代理，代理地址为 <a href=\"http://localhost.8118/\" target=\"_blank\" rel=\"noopener\">http://localhost.8118/</a> 。</h1><h1 id=\"可以把地址改为-0-0-0-0-8118，表示外网也可以通过本机IP作http代理。\"><a href=\"#可以把地址改为-0-0-0-0-8118，表示外网也可以通过本机IP作http代理。\" class=\"headerlink\" title=\"可以把地址改为 0.0.0.0:8118，表示外网也可以通过本机IP作http代理。\"></a>可以把地址改为 0.0.0.0:8118，表示外网也可以通过本机IP作http代理。</h1><h1 id=\"这样，你的外网IP为1-2-3-4，别人就可以设置-http-1-2-3-4-8118-为http代理。\"><a href=\"#这样，你的外网IP为1-2-3-4，别人就可以设置-http-1-2-3-4-8118-为http代理。\" class=\"headerlink\" title=\"这样，你的外网IP为1.2.3.4，别人就可以设置 http://1.2.3.4:8118/ 为http代理。\"></a>这样，你的外网IP为1.2.3.4，别人就可以设置 <a href=\"http://1.2.3.4:8118/\" target=\"_blank\" rel=\"noopener\">http://1.2.3.4:8118/</a> 为http代理。</h1><p>　listen-address localhost:8118    systemctl restart privoxy.serivce  ```</p>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"Privoxy\"><a href=\"#Privoxy\" class=\"headerlink\" title=\"Privoxy\"></a>Privoxy</h3><h3 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h3><p>yum install -y epel-release yum install privoxy</p>\n<pre><code>&lt;br&gt;\n\n+ 配置</code></pre><p>vim /etc/privoxy/config</p>\n<h1 id=\"在-froward-socks4下面添加一条socks5的，因为shadowsocks是socks5，\"><a href=\"#在-froward-socks4下面添加一条socks5的，因为shadowsocks是socks5，\" class=\"headerlink\" title=\"在 froward-socks4下面添加一条socks5的，因为shadowsocks是socks5，\"></a>在 froward-socks4下面添加一条socks5的，因为shadowsocks是socks5，</h1><h1 id=\"地址是127-0-0-1-1080。注意他们最后有一个“-”\"><a href=\"#地址是127-0-0-1-1080。注意他们最后有一个“-”\" class=\"headerlink\" title=\"地址是127.0.0.1:1080。注意他们最后有一个“.”\"></a>地址是127.0.0.1:1080。注意他们最后有一个“.”</h1><h1 id=\"forward-socks4-socks-gw-example-com-1080-forward-socks5-127-0-0-1-1080\"><a href=\"#forward-socks4-socks-gw-example-com-1080-forward-socks5-127-0-0-1-1080\" class=\"headerlink\" title=\"forward-socks4   /               socks-gw.example.com:1080  . forward-socks5   /               127.0.0.1:1080 .\"></a>forward-socks4   /               socks-gw.example.com:1080  . forward-socks5   /               127.0.0.1:1080 .</h1><h1 id=\"下面还存在以下一条配置，表示privoxy监听本机8118端口，\"><a href=\"#下面还存在以下一条配置，表示privoxy监听本机8118端口，\" class=\"headerlink\" title=\"下面还存在以下一条配置，表示privoxy监听本机8118端口，\"></a>下面还存在以下一条配置，表示privoxy监听本机8118端口，</h1><h1 id=\"把它作为http代理，代理地址为-http-localhost-8118-。\"><a href=\"#把它作为http代理，代理地址为-http-localhost-8118-。\" class=\"headerlink\" title=\"把它作为http代理，代理地址为 http://localhost.8118/ 。\"></a>把它作为http代理，代理地址为 <a href=\"http://localhost.8118/\" target=\"_blank\" rel=\"noopener\">http://localhost.8118/</a> 。</h1><h1 id=\"可以把地址改为-0-0-0-0-8118，表示外网也可以通过本机IP作http代理。\"><a href=\"#可以把地址改为-0-0-0-0-8118，表示外网也可以通过本机IP作http代理。\" class=\"headerlink\" title=\"可以把地址改为 0.0.0.0:8118，表示外网也可以通过本机IP作http代理。\"></a>可以把地址改为 0.0.0.0:8118，表示外网也可以通过本机IP作http代理。</h1><h1 id=\"这样，你的外网IP为1-2-3-4，别人就可以设置-http-1-2-3-4-8118-为http代理。\"><a href=\"#这样，你的外网IP为1-2-3-4，别人就可以设置-http-1-2-3-4-8118-为http代理。\" class=\"headerlink\" title=\"这样，你的外网IP为1.2.3.4，别人就可以设置 http://1.2.3.4:8118/ 为http代理。\"></a>这样，你的外网IP为1.2.3.4，别人就可以设置 <a href=\"http://1.2.3.4:8118/\" target=\"_blank\" rel=\"noopener\">http://1.2.3.4:8118/</a> 为http代理。</h1><p>　listen-address localhost:8118    systemctl restart privoxy.serivce  ```</p>\n"},{"title":"Python创建多线程的几种方式","url":"345.html","id":"345","date":"2019-12-05T08:55:00.000Z","_content":"### 1.继承threading类，重写run()函数\n\n    import threading \n    import time\n    class timer(threading.Thread): #继承threading.Thread类\n        def __init__(self, num, interval): \n            threading.Thread.__init__(self) \n            self.thread_num = num \n            self.interval = interval \n            self.thread_stop = False \n    \n        def run(self): #Overwrite run() method, put what you want the thread do here \n            while not self.thread_stop: \n                print 'Thread Object(%d), Time:%s\\n' %(self.thread_num, time.ctime()) \n                time.sleep(self.interval) \n        def stop(self): \n            self.thread_stop = True\n    def test(): \n        thread1 = timer(1, 1) \n        thread2 = timer(2, 2) \n        thread1.start() \n        thread2.start() \n        time.sleep(10) \n        thread1.stop() \n        thread2.stop() \n        return \n    \n    if __name__ == '__main__': \n        test()\n        \n       ","source":"_drafts/Python创建多线程的几种方式.md","raw":"title: Python创建多线程的几种方式\nurl: 345.html\nid: 345\ncategories:\n  - Linux &amp; VPS\ntags: []\ndate: 2019-12-05 16:55:00\n---\n### 1.继承threading类，重写run()函数\n\n    import threading \n    import time\n    class timer(threading.Thread): #继承threading.Thread类\n        def __init__(self, num, interval): \n            threading.Thread.__init__(self) \n            self.thread_num = num \n            self.interval = interval \n            self.thread_stop = False \n    \n        def run(self): #Overwrite run() method, put what you want the thread do here \n            while not self.thread_stop: \n                print 'Thread Object(%d), Time:%s\\n' %(self.thread_num, time.ctime()) \n                time.sleep(self.interval) \n        def stop(self): \n            self.thread_stop = True\n    def test(): \n        thread1 = timer(1, 1) \n        thread2 = timer(2, 2) \n        thread1.start() \n        thread2.start() \n        time.sleep(10) \n        thread1.stop() \n        thread2.stop() \n        return \n    \n    if __name__ == '__main__': \n        test()\n        \n       ","slug":"Python创建多线程的几种方式","published":0,"updated":"2020-02-10T09:33:16.762Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbq4hr0002tooj7bh7a00o","content":"<h3 id=\"1-继承threading类，重写run-函数\"><a href=\"#1-继承threading类，重写run-函数\" class=\"headerlink\" title=\"1.继承threading类，重写run()函数\"></a>1.继承threading类，重写run()函数</h3><pre><code>import threading \nimport time\nclass timer(threading.Thread): #继承threading.Thread类\n    def __init__(self, num, interval): \n        threading.Thread.__init__(self) \n        self.thread_num = num \n        self.interval = interval \n        self.thread_stop = False \n\n    def run(self): #Overwrite run() method, put what you want the thread do here \n        while not self.thread_stop: \n            print &apos;Thread Object(%d), Time:%s\\n&apos; %(self.thread_num, time.ctime()) \n            time.sleep(self.interval) \n    def stop(self): \n        self.thread_stop = True\ndef test(): \n    thread1 = timer(1, 1) \n    thread2 = timer(2, 2) \n    thread1.start() \n    thread2.start() \n    time.sleep(10) \n    thread1.stop() \n    thread2.stop() \n    return \n\nif __name__ == &apos;__main__&apos;: \n    test()</code></pre>","site":{"data":{}},"excerpt":"","more":"<h3 id=\"1-继承threading类，重写run-函数\"><a href=\"#1-继承threading类，重写run-函数\" class=\"headerlink\" title=\"1.继承threading类，重写run()函数\"></a>1.继承threading类，重写run()函数</h3><pre><code>import threading \nimport time\nclass timer(threading.Thread): #继承threading.Thread类\n    def __init__(self, num, interval): \n        threading.Thread.__init__(self) \n        self.thread_num = num \n        self.interval = interval \n        self.thread_stop = False \n\n    def run(self): #Overwrite run() method, put what you want the thread do here \n        while not self.thread_stop: \n            print &apos;Thread Object(%d), Time:%s\\n&apos; %(self.thread_num, time.ctime()) \n            time.sleep(self.interval) \n    def stop(self): \n        self.thread_stop = True\ndef test(): \n    thread1 = timer(1, 1) \n    thread2 = timer(2, 2) \n    thread1.start() \n    thread2.start() \n    time.sleep(10) \n    thread1.stop() \n    thread2.stop() \n    return \n\nif __name__ == &apos;__main__&apos;: \n    test()</code></pre>"},{"title":"Centos 7修改系统语言","url":"178.html","id":"178","date":"2018-08-08T03:45:11.000Z","_content":"**摘要：** centos7 系统下修改系统语言有两种办法\n\n1. 临时修改：\n    ```shell\n    LANG=“zh_CN.UTF-8”\n    ```\n\n2. 永久修改\n    ```shell\n    vi /etc/locale.conf //在文件中插入 LANG=“zh_CN.UTF-8”\n    ```\n","source":"_posts/Centos 7修改系统语言.md","raw":"title: Centos 7修改系统语言\nurl: 178.html\nid: 178\ncategories:\n  - Linux &amp; VPS\ndate: 2018-08-08 11:45:11\ntags:\n---\n**摘要：** centos7 系统下修改系统语言有两种办法\n\n1. 临时修改：\n    ```shell\n    LANG=“zh_CN.UTF-8”\n    ```\n\n2. 永久修改\n    ```shell\n    vi /etc/locale.conf //在文件中插入 LANG=“zh_CN.UTF-8”\n    ```\n","slug":"Centos 7修改系统语言","published":1,"updated":"2020-02-10T09:33:16.762Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbq4i30004toojh0s3ay3y","content":"<p><strong>摘要：</strong> centos7 系统下修改系统语言有两种办法</p>\n<ol>\n<li><p>临时修改：</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">LANG=“zh_CN.UTF-8”</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>永久修改</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi /etc/locale.conf //在文件中插入 LANG=“zh_CN.UTF-8”</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<p><strong>摘要：</strong> centos7 系统下修改系统语言有两种办法</p>\n<ol>\n<li><p>临时修改：</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">LANG=“zh_CN.UTF-8”</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>永久修改</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi /etc/locale.conf //在文件中插入 LANG=“zh_CN.UTF-8”</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n"},{"title":"C语言实现Linux下的系统调用","url":"336.html","id":"336","date":"2019-03-08T02:57:44.000Z","_content":"\nLinux下的系统调用利用C语言实现，可以有两种方式\n\n#### 1.syscall函数\n\n    NAME\n           syscall - 间接系统调用\n    SYNOPSIS\n           #include <unistd.h>\n           #include <sys/syscall.h>                 /* For SYS_xxx definitions */\n    \n\n调用 `int syscall(int number, para1, para2...);` E.g. write()函数原型为： `ssize_t write(int fd,const void*buf,size_t count);` write()在Linux系统中的调用号为1 则通过syscall()函数调用write()的方法为： `syscall(1,int fd,const void*buf,size_t count)`","source":"_posts/C语言实现Linux下的系统调用.md","raw":"---\ntitle: C语言实现Linux下的系统调用\nurl: 336.html\nid: 336\ncategories:\n  - Linux &amp; VPS\ndate: 2019-03-08 10:57:44\ntags:\n---\n\nLinux下的系统调用利用C语言实现，可以有两种方式\n\n#### 1.syscall函数\n\n    NAME\n           syscall - 间接系统调用\n    SYNOPSIS\n           #include <unistd.h>\n           #include <sys/syscall.h>                 /* For SYS_xxx definitions */\n    \n\n调用 `int syscall(int number, para1, para2...);` E.g. write()函数原型为： `ssize_t write(int fd,const void*buf,size_t count);` write()在Linux系统中的调用号为1 则通过syscall()函数调用write()的方法为： `syscall(1,int fd,const void*buf,size_t count)`","slug":"C语言实现Linux下的系统调用","published":1,"updated":"2020-02-10T09:33:16.762Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbq4i80005toojagng2ekj","content":"<p>Linux下的系统调用利用C语言实现，可以有两种方式</p>\n<h4 id=\"1-syscall函数\"><a href=\"#1-syscall函数\" class=\"headerlink\" title=\"1.syscall函数\"></a>1.syscall函数</h4><pre><code>NAME\n       syscall - 间接系统调用\nSYNOPSIS\n       #include &lt;unistd.h&gt;\n       #include &lt;sys/syscall.h&gt;                 /* For SYS_xxx definitions */</code></pre><p>调用 <code>int syscall(int number, para1, para2...);</code> E.g. write()函数原型为： <code>ssize_t write(int fd,const void*buf,size_t count);</code> write()在Linux系统中的调用号为1 则通过syscall()函数调用write()的方法为： <code>syscall(1,int fd,const void*buf,size_t count)</code></p>\n","site":{"data":{}},"excerpt":"","more":"<p>Linux下的系统调用利用C语言实现，可以有两种方式</p>\n<h4 id=\"1-syscall函数\"><a href=\"#1-syscall函数\" class=\"headerlink\" title=\"1.syscall函数\"></a>1.syscall函数</h4><pre><code>NAME\n       syscall - 间接系统调用\nSYNOPSIS\n       #include &lt;unistd.h&gt;\n       #include &lt;sys/syscall.h&gt;                 /* For SYS_xxx definitions */</code></pre><p>调用 <code>int syscall(int number, para1, para2...);</code> E.g. write()函数原型为： <code>ssize_t write(int fd,const void*buf,size_t count);</code> write()在Linux系统中的调用号为1 则通过syscall()函数调用write()的方法为： <code>syscall(1,int fd,const void*buf,size_t count)</code></p>\n"},{"title":"Dell服务器的几款raid工具","url":"497.html","id":"497","date":"2019-10-04T09:32:33.000Z","_content":"收集了大部分dell平台下的raid工具，有一些比较古老了，很难找到相关资料，记录一下。\n\n<!--more-->\n\n\n## 1. perccli\n\n据[reddit](https://www.reddit.com/r/sysadmin/comments/bvb48v/dells_perccli_perc_utility_and_the_delllsi_perc/)上网友评论，perccli适用于8系列或更高的raid卡，由于笔者并不拥有h800或更高级别的raid卡，因此无法验证消息可靠性。\n\n> The h200 in spit of its name is not really a hardware raid.. Its actually software raid (like the h300 series). H200/300 do not have a battery either. It's software raid within the controller. Its equivalent to raid on your desktop motherboard in performance. According to Dell unless its a 8 series or newer you need to use the megacli software instead of the perccli\n\n## 2. Megacli\n\n\n是Lsi官方出品的自家raid管理工具，因为dell对raid卡的包装较少，因此可以直接使用在dell raid上，也是直接百度时可以找到的最常见的raid卡管理工具\n\n## 3. Lsiutil\n\n\n有一种说法是，支持raid5的被称为“阵列卡”，不支持raid5的被称为SAS卡。 Lsiutil就是针对sas卡的管理工具。但是已经非常古老了，连H200都无法支持。\n\n> 参考链接：http://lists.us.dell.com/pipermail/linux-poweredge/2010-March/041725.html PET310, CentOS5.4, mpt2sas 02.00.02.00 For previous MPT controllers we used LSI's lsiutil utility as a light weight alternative to OMSA's \"omreport storage controller\". Now with the new SAS2 controllers, such as the PERC H200, lsiutil won't work anymore (tried with v1.62), and you need the new sas2ircu utility, whose syntax is documented here: http://www.lsi.com/DistributionSystem/AssetDocument/SAS2\\_IR\\_User_Guide.pdf\n\n## 4. SAS2IRCU\n\n\n比Lsiutil更新的raid管理工具，适用于H200等，与此类似的还有SAS3IRCU","source":"_posts/Dell服务器的几款raid工具.md","raw":"title: Dell服务器的几款raid工具\nurl: 497.html\nid: 497\ncategories:\n  - Linux &amp; VPS\ndate: 2019-10-04 17:32:33\ntags:\n---\n收集了大部分dell平台下的raid工具，有一些比较古老了，很难找到相关资料，记录一下。\n\n<!--more-->\n\n\n## 1. perccli\n\n据[reddit](https://www.reddit.com/r/sysadmin/comments/bvb48v/dells_perccli_perc_utility_and_the_delllsi_perc/)上网友评论，perccli适用于8系列或更高的raid卡，由于笔者并不拥有h800或更高级别的raid卡，因此无法验证消息可靠性。\n\n> The h200 in spit of its name is not really a hardware raid.. Its actually software raid (like the h300 series). H200/300 do not have a battery either. It's software raid within the controller. Its equivalent to raid on your desktop motherboard in performance. According to Dell unless its a 8 series or newer you need to use the megacli software instead of the perccli\n\n## 2. Megacli\n\n\n是Lsi官方出品的自家raid管理工具，因为dell对raid卡的包装较少，因此可以直接使用在dell raid上，也是直接百度时可以找到的最常见的raid卡管理工具\n\n## 3. Lsiutil\n\n\n有一种说法是，支持raid5的被称为“阵列卡”，不支持raid5的被称为SAS卡。 Lsiutil就是针对sas卡的管理工具。但是已经非常古老了，连H200都无法支持。\n\n> 参考链接：http://lists.us.dell.com/pipermail/linux-poweredge/2010-March/041725.html PET310, CentOS5.4, mpt2sas 02.00.02.00 For previous MPT controllers we used LSI's lsiutil utility as a light weight alternative to OMSA's \"omreport storage controller\". Now with the new SAS2 controllers, such as the PERC H200, lsiutil won't work anymore (tried with v1.62), and you need the new sas2ircu utility, whose syntax is documented here: http://www.lsi.com/DistributionSystem/AssetDocument/SAS2\\_IR\\_User_Guide.pdf\n\n## 4. SAS2IRCU\n\n\n比Lsiutil更新的raid管理工具，适用于H200等，与此类似的还有SAS3IRCU","slug":"Dell服务器的几款raid工具","published":1,"updated":"2020-02-10T09:33:16.763Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbq4id0006toojglsofpow","content":"<p>收集了大部分dell平台下的raid工具，有一些比较古老了，很难找到相关资料，记录一下。</p>\n<a id=\"more\"></a>\n\n\n<h2 id=\"1-perccli\"><a href=\"#1-perccli\" class=\"headerlink\" title=\"1. perccli\"></a>1. perccli</h2><p>据<a href=\"https://www.reddit.com/r/sysadmin/comments/bvb48v/dells_perccli_perc_utility_and_the_delllsi_perc/\" target=\"_blank\" rel=\"noopener\">reddit</a>上网友评论，perccli适用于8系列或更高的raid卡，由于笔者并不拥有h800或更高级别的raid卡，因此无法验证消息可靠性。</p>\n<blockquote>\n<p>The h200 in spit of its name is not really a hardware raid.. Its actually software raid (like the h300 series). H200/300 do not have a battery either. It’s software raid within the controller. Its equivalent to raid on your desktop motherboard in performance. According to Dell unless its a 8 series or newer you need to use the megacli software instead of the perccli</p>\n</blockquote>\n<h2 id=\"2-Megacli\"><a href=\"#2-Megacli\" class=\"headerlink\" title=\"2. Megacli\"></a>2. Megacli</h2><p>是Lsi官方出品的自家raid管理工具，因为dell对raid卡的包装较少，因此可以直接使用在dell raid上，也是直接百度时可以找到的最常见的raid卡管理工具</p>\n<h2 id=\"3-Lsiutil\"><a href=\"#3-Lsiutil\" class=\"headerlink\" title=\"3. Lsiutil\"></a>3. Lsiutil</h2><p>有一种说法是，支持raid5的被称为“阵列卡”，不支持raid5的被称为SAS卡。 Lsiutil就是针对sas卡的管理工具。但是已经非常古老了，连H200都无法支持。</p>\n<blockquote>\n<p>参考链接：<a href=\"http://lists.us.dell.com/pipermail/linux-poweredge/2010-March/041725.html\" target=\"_blank\" rel=\"noopener\">http://lists.us.dell.com/pipermail/linux-poweredge/2010-March/041725.html</a> PET310, CentOS5.4, mpt2sas 02.00.02.00 For previous MPT controllers we used LSI’s lsiutil utility as a light weight alternative to OMSA’s “omreport storage controller”. Now with the new SAS2 controllers, such as the PERC H200, lsiutil won’t work anymore (tried with v1.62), and you need the new sas2ircu utility, whose syntax is documented here: <a href=\"http://www.lsi.com/DistributionSystem/AssetDocument/SAS2\\_IR\\_User_Guide.pdf\" target=\"_blank\" rel=\"noopener\">http://www.lsi.com/DistributionSystem/AssetDocument/SAS2\\_IR\\_User_Guide.pdf</a></p>\n</blockquote>\n<h2 id=\"4-SAS2IRCU\"><a href=\"#4-SAS2IRCU\" class=\"headerlink\" title=\"4. SAS2IRCU\"></a>4. SAS2IRCU</h2><p>比Lsiutil更新的raid管理工具，适用于H200等，与此类似的还有SAS3IRCU</p>\n","site":{"data":{}},"excerpt":"<p>收集了大部分dell平台下的raid工具，有一些比较古老了，很难找到相关资料，记录一下。</p>","more":"<h2 id=\"1-perccli\"><a href=\"#1-perccli\" class=\"headerlink\" title=\"1. perccli\"></a>1. perccli</h2><p>据<a href=\"https://www.reddit.com/r/sysadmin/comments/bvb48v/dells_perccli_perc_utility_and_the_delllsi_perc/\" target=\"_blank\" rel=\"noopener\">reddit</a>上网友评论，perccli适用于8系列或更高的raid卡，由于笔者并不拥有h800或更高级别的raid卡，因此无法验证消息可靠性。</p>\n<blockquote>\n<p>The h200 in spit of its name is not really a hardware raid.. Its actually software raid (like the h300 series). H200/300 do not have a battery either. It’s software raid within the controller. Its equivalent to raid on your desktop motherboard in performance. According to Dell unless its a 8 series or newer you need to use the megacli software instead of the perccli</p>\n</blockquote>\n<h2 id=\"2-Megacli\"><a href=\"#2-Megacli\" class=\"headerlink\" title=\"2. Megacli\"></a>2. Megacli</h2><p>是Lsi官方出品的自家raid管理工具，因为dell对raid卡的包装较少，因此可以直接使用在dell raid上，也是直接百度时可以找到的最常见的raid卡管理工具</p>\n<h2 id=\"3-Lsiutil\"><a href=\"#3-Lsiutil\" class=\"headerlink\" title=\"3. Lsiutil\"></a>3. Lsiutil</h2><p>有一种说法是，支持raid5的被称为“阵列卡”，不支持raid5的被称为SAS卡。 Lsiutil就是针对sas卡的管理工具。但是已经非常古老了，连H200都无法支持。</p>\n<blockquote>\n<p>参考链接：<a href=\"http://lists.us.dell.com/pipermail/linux-poweredge/2010-March/041725.html\" target=\"_blank\" rel=\"noopener\">http://lists.us.dell.com/pipermail/linux-poweredge/2010-March/041725.html</a> PET310, CentOS5.4, mpt2sas 02.00.02.00 For previous MPT controllers we used LSI’s lsiutil utility as a light weight alternative to OMSA’s “omreport storage controller”. Now with the new SAS2 controllers, such as the PERC H200, lsiutil won’t work anymore (tried with v1.62), and you need the new sas2ircu utility, whose syntax is documented here: <a href=\"http://www.lsi.com/DistributionSystem/AssetDocument/SAS2\\_IR\\_User_Guide.pdf\" target=\"_blank\" rel=\"noopener\">http://www.lsi.com/DistributionSystem/AssetDocument/SAS2\\_IR\\_User_Guide.pdf</a></p>\n</blockquote>\n<h2 id=\"4-SAS2IRCU\"><a href=\"#4-SAS2IRCU\" class=\"headerlink\" title=\"4. SAS2IRCU\"></a>4. SAS2IRCU</h2><p>比Lsiutil更新的raid管理工具，适用于H200等，与此类似的还有SAS3IRCU</p>"},{"title":"H.264-10bit编码的一个小坑及解决方案","author":"Creling","toc":true,"date":"2019-12-17T13:28:20.000Z","_content":"**摘要** 前两天在向我的网站上传动漫，发现一部H.264格式的视频无法在Firefox上正常播放，但是可以在Chrome上正常播放，百思不得其解。最终自仔细比对了视频流的格式，发现原因在于那部动漫是10bit编码，而Firefox并不支持10bit编码的H.264.\n\n## 问题根源\n```ini\n[STREAM]\nindex=0\ncodec_name=h264\ncodec_long_name=H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10\nprofile=High 10\ncodec_type=video\ncodec_time_base=1001/48000\ncodec_tag_string=avc1\ncodec_tag=0x31637661\nwidth=1920\nheight=1080\ncoded_width=1920\ncoded_height=1088\nhas_b_frames=2\nsample_aspect_ratio=1:1\ndisplay_aspect_ratio=16:9\npix_fmt=yuv420p10le\nlevel=40\ncolor_range=unknown\ncolor_space=unknown\ncolor_transfer=unknown\ncolor_primaries=unknown\nchroma_location=left\nfield_order=unknown\ntimecode=N/A\nrefs=1\nis_avc=true\nnal_length_size=4\nid=N/A\nr_frame_rate=24000/1001\navg_frame_rate=24000/1001\ntime_base=1/24000\nstart_pts=0\nstart_time=0.000000\nduration_ts=36984948\nduration=1541.039500\nbit_rate=1244781\nmax_bit_rate=N/A\nbits_per_raw_sample=10\nnb_frames=36948\nnb_read_frames=N/A\nnb_read_packets=N/A\nDISPOSITION:default=1\nDISPOSITION:dub=0\nDISPOSITION:original=0\nDISPOSITION:comment=0\nDISPOSITION:lyrics=0\nDISPOSITION:karaoke=0\nDISPOSITION:forced=0\nDISPOSITION:hearing_impaired=0\nDISPOSITION:visual_impaired=0\nDISPOSITION:clean_effects=0\nDISPOSITION:attached_pic=0\nDISPOSITION:timed_thumbnails=0\nTAG:language=und\nTAG:handler_name=VideoHandler\n[/STREAM]\n```\n关键点有两条\n- `profile=High 10`\n- `pix_fmt=yuv420p10le`  \n\n都说明这是10bit编码的视频。\n\n## 解决方案\n发现问题后解决起来也就容易了，只需要将10bit编码转换为8bit编码，在ffmpeg参数中添加`-pix_fmt yuv420p`即可。\n","source":"_posts/H-264-10bit的一个小坑.md","raw":"title: H.264-10bit编码的一个小坑及解决方案\nauthor: Creling\ntoc: true\ndate: 2019-12-17 21:28:20\ntags:\n---\n**摘要** 前两天在向我的网站上传动漫，发现一部H.264格式的视频无法在Firefox上正常播放，但是可以在Chrome上正常播放，百思不得其解。最终自仔细比对了视频流的格式，发现原因在于那部动漫是10bit编码，而Firefox并不支持10bit编码的H.264.\n\n## 问题根源\n```ini\n[STREAM]\nindex=0\ncodec_name=h264\ncodec_long_name=H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10\nprofile=High 10\ncodec_type=video\ncodec_time_base=1001/48000\ncodec_tag_string=avc1\ncodec_tag=0x31637661\nwidth=1920\nheight=1080\ncoded_width=1920\ncoded_height=1088\nhas_b_frames=2\nsample_aspect_ratio=1:1\ndisplay_aspect_ratio=16:9\npix_fmt=yuv420p10le\nlevel=40\ncolor_range=unknown\ncolor_space=unknown\ncolor_transfer=unknown\ncolor_primaries=unknown\nchroma_location=left\nfield_order=unknown\ntimecode=N/A\nrefs=1\nis_avc=true\nnal_length_size=4\nid=N/A\nr_frame_rate=24000/1001\navg_frame_rate=24000/1001\ntime_base=1/24000\nstart_pts=0\nstart_time=0.000000\nduration_ts=36984948\nduration=1541.039500\nbit_rate=1244781\nmax_bit_rate=N/A\nbits_per_raw_sample=10\nnb_frames=36948\nnb_read_frames=N/A\nnb_read_packets=N/A\nDISPOSITION:default=1\nDISPOSITION:dub=0\nDISPOSITION:original=0\nDISPOSITION:comment=0\nDISPOSITION:lyrics=0\nDISPOSITION:karaoke=0\nDISPOSITION:forced=0\nDISPOSITION:hearing_impaired=0\nDISPOSITION:visual_impaired=0\nDISPOSITION:clean_effects=0\nDISPOSITION:attached_pic=0\nDISPOSITION:timed_thumbnails=0\nTAG:language=und\nTAG:handler_name=VideoHandler\n[/STREAM]\n```\n关键点有两条\n- `profile=High 10`\n- `pix_fmt=yuv420p10le`  \n\n都说明这是10bit编码的视频。\n\n## 解决方案\n发现问题后解决起来也就容易了，只需要将10bit编码转换为8bit编码，在ffmpeg参数中添加`-pix_fmt yuv420p`即可。\n","slug":"H-264-10bit的一个小坑","published":1,"updated":"2020-02-10T09:33:16.763Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbq4io0008tooj15ppcc93","content":"<p><strong>摘要</strong> 前两天在向我的网站上传动漫，发现一部H.264格式的视频无法在Firefox上正常播放，但是可以在Chrome上正常播放，百思不得其解。最终自仔细比对了视频流的格式，发现原因在于那部动漫是10bit编码，而Firefox并不支持10bit编码的H.264.</p>\n<h2 id=\"问题根源\"><a href=\"#问题根源\" class=\"headerlink\" title=\"问题根源\"></a>问题根源</h2><figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">[STREAM]</span></span><br><span class=\"line\"><span class=\"attr\">index</span>=<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attr\">codec_name</span>=h264</span><br><span class=\"line\"><span class=\"attr\">codec_long_name</span>=H.<span class=\"number\">264</span> / AVC / MPEG-<span class=\"number\">4</span> AVC / MPEG-<span class=\"number\">4</span> part <span class=\"number\">10</span></span><br><span class=\"line\"><span class=\"attr\">profile</span>=High <span class=\"number\">10</span></span><br><span class=\"line\"><span class=\"attr\">codec_type</span>=video</span><br><span class=\"line\"><span class=\"attr\">codec_time_base</span>=<span class=\"number\">1001</span>/<span class=\"number\">48000</span></span><br><span class=\"line\"><span class=\"attr\">codec_tag_string</span>=avc1</span><br><span class=\"line\"><span class=\"attr\">codec_tag</span>=<span class=\"number\">0</span>x31637661</span><br><span class=\"line\"><span class=\"attr\">width</span>=<span class=\"number\">1920</span></span><br><span class=\"line\"><span class=\"attr\">height</span>=<span class=\"number\">1080</span></span><br><span class=\"line\"><span class=\"attr\">coded_width</span>=<span class=\"number\">1920</span></span><br><span class=\"line\"><span class=\"attr\">coded_height</span>=<span class=\"number\">1088</span></span><br><span class=\"line\"><span class=\"attr\">has_b_frames</span>=<span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"attr\">sample_aspect_ratio</span>=<span class=\"number\">1</span>:<span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attr\">display_aspect_ratio</span>=<span class=\"number\">16</span>:<span class=\"number\">9</span></span><br><span class=\"line\"><span class=\"attr\">pix_fmt</span>=yuv420p10le</span><br><span class=\"line\"><span class=\"attr\">level</span>=<span class=\"number\">40</span></span><br><span class=\"line\"><span class=\"attr\">color_range</span>=unknown</span><br><span class=\"line\"><span class=\"attr\">color_space</span>=unknown</span><br><span class=\"line\"><span class=\"attr\">color_transfer</span>=unknown</span><br><span class=\"line\"><span class=\"attr\">color_primaries</span>=unknown</span><br><span class=\"line\"><span class=\"attr\">chroma_location</span>=left</span><br><span class=\"line\"><span class=\"attr\">field_order</span>=unknown</span><br><span class=\"line\"><span class=\"attr\">timecode</span>=N/A</span><br><span class=\"line\"><span class=\"attr\">refs</span>=<span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attr\">is_avc</span>=<span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"attr\">nal_length_size</span>=<span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"attr\">id</span>=N/A</span><br><span class=\"line\"><span class=\"attr\">r_frame_rate</span>=<span class=\"number\">24000</span>/<span class=\"number\">1001</span></span><br><span class=\"line\"><span class=\"attr\">avg_frame_rate</span>=<span class=\"number\">24000</span>/<span class=\"number\">1001</span></span><br><span class=\"line\"><span class=\"attr\">time_base</span>=<span class=\"number\">1</span>/<span class=\"number\">24000</span></span><br><span class=\"line\"><span class=\"attr\">start_pts</span>=<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attr\">start_time</span>=<span class=\"number\">0.000000</span></span><br><span class=\"line\"><span class=\"attr\">duration_ts</span>=<span class=\"number\">36984948</span></span><br><span class=\"line\"><span class=\"attr\">duration</span>=<span class=\"number\">1541.039500</span></span><br><span class=\"line\"><span class=\"attr\">bit_rate</span>=<span class=\"number\">1244781</span></span><br><span class=\"line\"><span class=\"attr\">max_bit_rate</span>=N/A</span><br><span class=\"line\"><span class=\"attr\">bits_per_raw_sample</span>=<span class=\"number\">10</span></span><br><span class=\"line\"><span class=\"attr\">nb_frames</span>=<span class=\"number\">36948</span></span><br><span class=\"line\"><span class=\"attr\">nb_read_frames</span>=N/A</span><br><span class=\"line\"><span class=\"attr\">nb_read_packets</span>=N/A</span><br><span class=\"line\">DISPOSITION:default=1</span><br><span class=\"line\">DISPOSITION:dub=0</span><br><span class=\"line\">DISPOSITION:original=0</span><br><span class=\"line\">DISPOSITION:comment=0</span><br><span class=\"line\">DISPOSITION:lyrics=0</span><br><span class=\"line\">DISPOSITION:karaoke=0</span><br><span class=\"line\">DISPOSITION:forced=0</span><br><span class=\"line\">DISPOSITION:hearing_impaired=0</span><br><span class=\"line\">DISPOSITION:visual_impaired=0</span><br><span class=\"line\">DISPOSITION:clean_effects=0</span><br><span class=\"line\">DISPOSITION:attached_pic=0</span><br><span class=\"line\">DISPOSITION:timed_thumbnails=0</span><br><span class=\"line\">TAG:language=und</span><br><span class=\"line\">TAG:handler_name=VideoHandler</span><br><span class=\"line\"><span class=\"section\">[/STREAM]</span></span><br></pre></td></tr></table></figure>\n<p>关键点有两条</p>\n<ul>\n<li><code>profile=High 10</code></li>\n<li><code>pix_fmt=yuv420p10le</code>  </li>\n</ul>\n<p>都说明这是10bit编码的视频。</p>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><p>发现问题后解决起来也就容易了，只需要将10bit编码转换为8bit编码，在ffmpeg参数中添加<code>-pix_fmt yuv420p</code>即可。</p>\n","site":{"data":{}},"excerpt":"","more":"<p><strong>摘要</strong> 前两天在向我的网站上传动漫，发现一部H.264格式的视频无法在Firefox上正常播放，但是可以在Chrome上正常播放，百思不得其解。最终自仔细比对了视频流的格式，发现原因在于那部动漫是10bit编码，而Firefox并不支持10bit编码的H.264.</p>\n<h2 id=\"问题根源\"><a href=\"#问题根源\" class=\"headerlink\" title=\"问题根源\"></a>问题根源</h2><figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">[STREAM]</span></span><br><span class=\"line\"><span class=\"attr\">index</span>=<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attr\">codec_name</span>=h264</span><br><span class=\"line\"><span class=\"attr\">codec_long_name</span>=H.<span class=\"number\">264</span> / AVC / MPEG-<span class=\"number\">4</span> AVC / MPEG-<span class=\"number\">4</span> part <span class=\"number\">10</span></span><br><span class=\"line\"><span class=\"attr\">profile</span>=High <span class=\"number\">10</span></span><br><span class=\"line\"><span class=\"attr\">codec_type</span>=video</span><br><span class=\"line\"><span class=\"attr\">codec_time_base</span>=<span class=\"number\">1001</span>/<span class=\"number\">48000</span></span><br><span class=\"line\"><span class=\"attr\">codec_tag_string</span>=avc1</span><br><span class=\"line\"><span class=\"attr\">codec_tag</span>=<span class=\"number\">0</span>x31637661</span><br><span class=\"line\"><span class=\"attr\">width</span>=<span class=\"number\">1920</span></span><br><span class=\"line\"><span class=\"attr\">height</span>=<span class=\"number\">1080</span></span><br><span class=\"line\"><span class=\"attr\">coded_width</span>=<span class=\"number\">1920</span></span><br><span class=\"line\"><span class=\"attr\">coded_height</span>=<span class=\"number\">1088</span></span><br><span class=\"line\"><span class=\"attr\">has_b_frames</span>=<span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"attr\">sample_aspect_ratio</span>=<span class=\"number\">1</span>:<span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attr\">display_aspect_ratio</span>=<span class=\"number\">16</span>:<span class=\"number\">9</span></span><br><span class=\"line\"><span class=\"attr\">pix_fmt</span>=yuv420p10le</span><br><span class=\"line\"><span class=\"attr\">level</span>=<span class=\"number\">40</span></span><br><span class=\"line\"><span class=\"attr\">color_range</span>=unknown</span><br><span class=\"line\"><span class=\"attr\">color_space</span>=unknown</span><br><span class=\"line\"><span class=\"attr\">color_transfer</span>=unknown</span><br><span class=\"line\"><span class=\"attr\">color_primaries</span>=unknown</span><br><span class=\"line\"><span class=\"attr\">chroma_location</span>=left</span><br><span class=\"line\"><span class=\"attr\">field_order</span>=unknown</span><br><span class=\"line\"><span class=\"attr\">timecode</span>=N/A</span><br><span class=\"line\"><span class=\"attr\">refs</span>=<span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attr\">is_avc</span>=<span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"attr\">nal_length_size</span>=<span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"attr\">id</span>=N/A</span><br><span class=\"line\"><span class=\"attr\">r_frame_rate</span>=<span class=\"number\">24000</span>/<span class=\"number\">1001</span></span><br><span class=\"line\"><span class=\"attr\">avg_frame_rate</span>=<span class=\"number\">24000</span>/<span class=\"number\">1001</span></span><br><span class=\"line\"><span class=\"attr\">time_base</span>=<span class=\"number\">1</span>/<span class=\"number\">24000</span></span><br><span class=\"line\"><span class=\"attr\">start_pts</span>=<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attr\">start_time</span>=<span class=\"number\">0.000000</span></span><br><span class=\"line\"><span class=\"attr\">duration_ts</span>=<span class=\"number\">36984948</span></span><br><span class=\"line\"><span class=\"attr\">duration</span>=<span class=\"number\">1541.039500</span></span><br><span class=\"line\"><span class=\"attr\">bit_rate</span>=<span class=\"number\">1244781</span></span><br><span class=\"line\"><span class=\"attr\">max_bit_rate</span>=N/A</span><br><span class=\"line\"><span class=\"attr\">bits_per_raw_sample</span>=<span class=\"number\">10</span></span><br><span class=\"line\"><span class=\"attr\">nb_frames</span>=<span class=\"number\">36948</span></span><br><span class=\"line\"><span class=\"attr\">nb_read_frames</span>=N/A</span><br><span class=\"line\"><span class=\"attr\">nb_read_packets</span>=N/A</span><br><span class=\"line\">DISPOSITION:default=1</span><br><span class=\"line\">DISPOSITION:dub=0</span><br><span class=\"line\">DISPOSITION:original=0</span><br><span class=\"line\">DISPOSITION:comment=0</span><br><span class=\"line\">DISPOSITION:lyrics=0</span><br><span class=\"line\">DISPOSITION:karaoke=0</span><br><span class=\"line\">DISPOSITION:forced=0</span><br><span class=\"line\">DISPOSITION:hearing_impaired=0</span><br><span class=\"line\">DISPOSITION:visual_impaired=0</span><br><span class=\"line\">DISPOSITION:clean_effects=0</span><br><span class=\"line\">DISPOSITION:attached_pic=0</span><br><span class=\"line\">DISPOSITION:timed_thumbnails=0</span><br><span class=\"line\">TAG:language=und</span><br><span class=\"line\">TAG:handler_name=VideoHandler</span><br><span class=\"line\"><span class=\"section\">[/STREAM]</span></span><br></pre></td></tr></table></figure>\n<p>关键点有两条</p>\n<ul>\n<li><code>profile=High 10</code></li>\n<li><code>pix_fmt=yuv420p10le</code>  </li>\n</ul>\n<p>都说明这是10bit编码的视频。</p>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><p>发现问题后解决起来也就容易了，只需要将10bit编码转换为8bit编码，在ffmpeg参数中添加<code>-pix_fmt yuv420p</code>即可。</p>\n"},{"title":"Linux下ZIP文件的修复","url":"440.html","id":"440","toc":true,"date":"2019-06-25T02:21:00.000Z","_content":"\n对于zip文件而言，即使文件残缺，也可以通过截断残缺部分的方式来获取余下完整部分的内容。对于zip文件而言，即使文件残缺，也可以通过截断残缺部分的方式来获取余下完整部分的内容。\n\n<!--more-->\n\n## 正文\n\n\n一般来说，下载没有完成的zip文件在解压的时候遇到的问题都是\n```shell\nMissing end (EOCDR) signature\n```\n\n不要慌，这只是已经下载的zip压缩包中最后一个文件的EOCDR损坏，因此之前的文件依然是可以识别的。 实战如下：\n```shell\n[root@localhost temp]# zip -FF tempae --out tempaefix.zip\nFix archive (-FF) - salvage what can\n    zip warning: Missing end (EOCDR) signature - either this archive\n                     is not readable or the end is damaged\nIs this a single-disk archive?  (y/n): y\n  Assuming single-disk archive\nScanning for entries...\n  Found spanning marker, but did not expect split (multi-disk) archive...\n copying: 158g0141  (104857600 bytes)\n copying: 158g0142  (104857600 bytes)\n copying: 158g0143  (104857600 bytes)\n copying: 158g0144  (104857600 bytes)\n copying: 158g0145  (104857600 bytes)\n copying: 158g0146  (104857600 bytes)\n copying: 158g0147  (104857600 bytes)\n copying: 158g0148  (104857600 bytes)\n copying: 158g0149  (104857600 bytes)\n copying: 158g0150 \n    zip warning: no end of stream entry found: 158g0150\n    zip warning: rewinding and scanning for later entries\n```\n\n  可以看到，`158g0150`没有能够成功读取，但是`158g0141`~`158g0149`都可以正确识别。 如果此时直接解压上一步命令的输出文件`tempaefix.zip`，依然会报错(这个问题留待以后研究) 但是我们可以对`tempaefix.zip`再次进行修复\n```bash\n[root@localhost temp]# zip -FF tempaefix.zip --out tempaefix1.zip\nFix archive (-FF) - salvage what can\n    zip warning: Missing end (EOCDR) signature - either this archive\n                     is not readable or the end is damaged\nIs this a single-disk archive?  (y/n): y\n  Assuming single-disk archive\nScanning for entries...\n copying: 158g0141  (104857600 bytes)\n copying: 158g0142  (104857600 bytes)\n copying: 158g0143  (104857600 bytes)\n copying: 158g0144  (104857600 bytes)\n copying: 158g0145  (104857600 bytes)\n copying: 158g0146 \n    zip warning: no end of stream entry found: 158g0146\n    zip warning: rewinding and scanning for later entries\n```\n\n  此时输出的`tempaefix1.zip`便可以正确解压了，如果依然不ok，则可以对新的输出文件继续修复知道可以正确解压为止。","source":"_posts/Linux下ZIP文件的修复.md","raw":"title: Linux下ZIP文件的修复\nurl: 440.html\nid: 440\ncategories:\n  - Linux\ntags: []\ntoc: true\ndate: 2019-06-25 10:21:00\n---\n\n对于zip文件而言，即使文件残缺，也可以通过截断残缺部分的方式来获取余下完整部分的内容。对于zip文件而言，即使文件残缺，也可以通过截断残缺部分的方式来获取余下完整部分的内容。\n\n<!--more-->\n\n## 正文\n\n\n一般来说，下载没有完成的zip文件在解压的时候遇到的问题都是\n```shell\nMissing end (EOCDR) signature\n```\n\n不要慌，这只是已经下载的zip压缩包中最后一个文件的EOCDR损坏，因此之前的文件依然是可以识别的。 实战如下：\n```shell\n[root@localhost temp]# zip -FF tempae --out tempaefix.zip\nFix archive (-FF) - salvage what can\n    zip warning: Missing end (EOCDR) signature - either this archive\n                     is not readable or the end is damaged\nIs this a single-disk archive?  (y/n): y\n  Assuming single-disk archive\nScanning for entries...\n  Found spanning marker, but did not expect split (multi-disk) archive...\n copying: 158g0141  (104857600 bytes)\n copying: 158g0142  (104857600 bytes)\n copying: 158g0143  (104857600 bytes)\n copying: 158g0144  (104857600 bytes)\n copying: 158g0145  (104857600 bytes)\n copying: 158g0146  (104857600 bytes)\n copying: 158g0147  (104857600 bytes)\n copying: 158g0148  (104857600 bytes)\n copying: 158g0149  (104857600 bytes)\n copying: 158g0150 \n    zip warning: no end of stream entry found: 158g0150\n    zip warning: rewinding and scanning for later entries\n```\n\n  可以看到，`158g0150`没有能够成功读取，但是`158g0141`~`158g0149`都可以正确识别。 如果此时直接解压上一步命令的输出文件`tempaefix.zip`，依然会报错(这个问题留待以后研究) 但是我们可以对`tempaefix.zip`再次进行修复\n```bash\n[root@localhost temp]# zip -FF tempaefix.zip --out tempaefix1.zip\nFix archive (-FF) - salvage what can\n    zip warning: Missing end (EOCDR) signature - either this archive\n                     is not readable or the end is damaged\nIs this a single-disk archive?  (y/n): y\n  Assuming single-disk archive\nScanning for entries...\n copying: 158g0141  (104857600 bytes)\n copying: 158g0142  (104857600 bytes)\n copying: 158g0143  (104857600 bytes)\n copying: 158g0144  (104857600 bytes)\n copying: 158g0145  (104857600 bytes)\n copying: 158g0146 \n    zip warning: no end of stream entry found: 158g0146\n    zip warning: rewinding and scanning for later entries\n```\n\n  此时输出的`tempaefix1.zip`便可以正确解压了，如果依然不ok，则可以对新的输出文件继续修复知道可以正确解压为止。","slug":"Linux下ZIP文件的修复","published":1,"updated":"2020-02-10T09:33:16.763Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbq4iu0009tooj8y7qc9bx","content":"<p>对于zip文件而言，即使文件残缺，也可以通过截断残缺部分的方式来获取余下完整部分的内容。对于zip文件而言，即使文件残缺，也可以通过截断残缺部分的方式来获取余下完整部分的内容。</p>\n<a id=\"more\"></a>\n\n<h2 id=\"正文\"><a href=\"#正文\" class=\"headerlink\" title=\"正文\"></a>正文</h2><p>一般来说，下载没有完成的zip文件在解压的时候遇到的问题都是</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Missing end (EOCDR) signature</span><br></pre></td></tr></table></figure>\n\n<p>不要慌，这只是已经下载的zip压缩包中最后一个文件的EOCDR损坏，因此之前的文件依然是可以识别的。 实战如下：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost temp]# zip -FF tempae --out tempaefix.zip</span><br><span class=\"line\">Fix archive (-FF) - salvage what can</span><br><span class=\"line\">    zip warning: Missing end (EOCDR) signature - either this archive</span><br><span class=\"line\">                     is not readable or the end is damaged</span><br><span class=\"line\">Is this a single-disk archive?  (y/n): y</span><br><span class=\"line\">  Assuming single-disk archive</span><br><span class=\"line\">Scanning for entries...</span><br><span class=\"line\">  Found spanning marker, but did not expect split (multi-disk) archive...</span><br><span class=\"line\"> copying: 158g0141  (104857600 bytes)</span><br><span class=\"line\"> copying: 158g0142  (104857600 bytes)</span><br><span class=\"line\"> copying: 158g0143  (104857600 bytes)</span><br><span class=\"line\"> copying: 158g0144  (104857600 bytes)</span><br><span class=\"line\"> copying: 158g0145  (104857600 bytes)</span><br><span class=\"line\"> copying: 158g0146  (104857600 bytes)</span><br><span class=\"line\"> copying: 158g0147  (104857600 bytes)</span><br><span class=\"line\"> copying: 158g0148  (104857600 bytes)</span><br><span class=\"line\"> copying: 158g0149  (104857600 bytes)</span><br><span class=\"line\"> copying: 158g0150 </span><br><span class=\"line\">    zip warning: no end of stream entry found: 158g0150</span><br><span class=\"line\">    zip warning: rewinding and scanning for later entries</span><br></pre></td></tr></table></figure>\n\n<p>  可以看到，<code>158g0150</code>没有能够成功读取，但是<code>158g0141</code>~<code>158g0149</code>都可以正确识别。 如果此时直接解压上一步命令的输出文件<code>tempaefix.zip</code>，依然会报错(这个问题留待以后研究) 但是我们可以对<code>tempaefix.zip</code>再次进行修复</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost temp]<span class=\"comment\"># zip -FF tempaefix.zip --out tempaefix1.zip</span></span><br><span class=\"line\">Fix archive (-FF) - salvage what can</span><br><span class=\"line\">    zip warning: Missing end (EOCDR) signature - either this archive</span><br><span class=\"line\">                     is not readable or the end is damaged</span><br><span class=\"line\">Is this a single-disk archive?  (y/n): y</span><br><span class=\"line\">  Assuming single-disk archive</span><br><span class=\"line\">Scanning <span class=\"keyword\">for</span> entries...</span><br><span class=\"line\"> copying: 158g0141  (104857600 bytes)</span><br><span class=\"line\"> copying: 158g0142  (104857600 bytes)</span><br><span class=\"line\"> copying: 158g0143  (104857600 bytes)</span><br><span class=\"line\"> copying: 158g0144  (104857600 bytes)</span><br><span class=\"line\"> copying: 158g0145  (104857600 bytes)</span><br><span class=\"line\"> copying: 158g0146 </span><br><span class=\"line\">    zip warning: no end of stream entry found: 158g0146</span><br><span class=\"line\">    zip warning: rewinding and scanning <span class=\"keyword\">for</span> later entries</span><br></pre></td></tr></table></figure>\n\n<p>  此时输出的<code>tempaefix1.zip</code>便可以正确解压了，如果依然不ok，则可以对新的输出文件继续修复知道可以正确解压为止。</p>\n","site":{"data":{}},"excerpt":"<p>对于zip文件而言，即使文件残缺，也可以通过截断残缺部分的方式来获取余下完整部分的内容。对于zip文件而言，即使文件残缺，也可以通过截断残缺部分的方式来获取余下完整部分的内容。</p>","more":"<h2 id=\"正文\"><a href=\"#正文\" class=\"headerlink\" title=\"正文\"></a>正文</h2><p>一般来说，下载没有完成的zip文件在解压的时候遇到的问题都是</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Missing end (EOCDR) signature</span><br></pre></td></tr></table></figure>\n\n<p>不要慌，这只是已经下载的zip压缩包中最后一个文件的EOCDR损坏，因此之前的文件依然是可以识别的。 实战如下：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost temp]# zip -FF tempae --out tempaefix.zip</span><br><span class=\"line\">Fix archive (-FF) - salvage what can</span><br><span class=\"line\">    zip warning: Missing end (EOCDR) signature - either this archive</span><br><span class=\"line\">                     is not readable or the end is damaged</span><br><span class=\"line\">Is this a single-disk archive?  (y/n): y</span><br><span class=\"line\">  Assuming single-disk archive</span><br><span class=\"line\">Scanning for entries...</span><br><span class=\"line\">  Found spanning marker, but did not expect split (multi-disk) archive...</span><br><span class=\"line\"> copying: 158g0141  (104857600 bytes)</span><br><span class=\"line\"> copying: 158g0142  (104857600 bytes)</span><br><span class=\"line\"> copying: 158g0143  (104857600 bytes)</span><br><span class=\"line\"> copying: 158g0144  (104857600 bytes)</span><br><span class=\"line\"> copying: 158g0145  (104857600 bytes)</span><br><span class=\"line\"> copying: 158g0146  (104857600 bytes)</span><br><span class=\"line\"> copying: 158g0147  (104857600 bytes)</span><br><span class=\"line\"> copying: 158g0148  (104857600 bytes)</span><br><span class=\"line\"> copying: 158g0149  (104857600 bytes)</span><br><span class=\"line\"> copying: 158g0150 </span><br><span class=\"line\">    zip warning: no end of stream entry found: 158g0150</span><br><span class=\"line\">    zip warning: rewinding and scanning for later entries</span><br></pre></td></tr></table></figure>\n\n<p>  可以看到，<code>158g0150</code>没有能够成功读取，但是<code>158g0141</code>~<code>158g0149</code>都可以正确识别。 如果此时直接解压上一步命令的输出文件<code>tempaefix.zip</code>，依然会报错(这个问题留待以后研究) 但是我们可以对<code>tempaefix.zip</code>再次进行修复</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@localhost temp]<span class=\"comment\"># zip -FF tempaefix.zip --out tempaefix1.zip</span></span><br><span class=\"line\">Fix archive (-FF) - salvage what can</span><br><span class=\"line\">    zip warning: Missing end (EOCDR) signature - either this archive</span><br><span class=\"line\">                     is not readable or the end is damaged</span><br><span class=\"line\">Is this a single-disk archive?  (y/n): y</span><br><span class=\"line\">  Assuming single-disk archive</span><br><span class=\"line\">Scanning <span class=\"keyword\">for</span> entries...</span><br><span class=\"line\"> copying: 158g0141  (104857600 bytes)</span><br><span class=\"line\"> copying: 158g0142  (104857600 bytes)</span><br><span class=\"line\"> copying: 158g0143  (104857600 bytes)</span><br><span class=\"line\"> copying: 158g0144  (104857600 bytes)</span><br><span class=\"line\"> copying: 158g0145  (104857600 bytes)</span><br><span class=\"line\"> copying: 158g0146 </span><br><span class=\"line\">    zip warning: no end of stream entry found: 158g0146</span><br><span class=\"line\">    zip warning: rewinding and scanning <span class=\"keyword\">for</span> later entries</span><br></pre></td></tr></table></figure>\n\n<p>  此时输出的<code>tempaefix1.zip</code>便可以正确解压了，如果依然不ok，则可以对新的输出文件继续修复知道可以正确解压为止。</p>"},{"title":"Linux下几种socks流量转http(s)流量的工具","url":"224.html","id":"224","date":"2018-11-11T08:54:22.000Z","_content":"ShadowSocket是socket5代理，对于浏览器而言，还需要另外一个socks转http(s)的工具，Windows下自带了proxy，但是Linux下并没有，这里收集整理了一些Linux下的socks转http(s)工具，或许什么时候会用上。\n1. Privoxy\n\t1. 安装\n    ```shell\n    yum install -y epel-release\n    yum install privoxy\n    ```\n\t2. 配置\n    ```shell\n\tvim /etc/privoxy/config\n\t#在 froward-socks4下面添加一条socks5的，因为shadowsocks是socks5，\n\t#地址是127.0.0.1:1080。注意他们最后有一个“.”\n\t#forward-socks4 / socks-gw.example.com:1080 .\n\tforward-socks5 / 127.0.0.1:1080 .\n\t#下面还存在以下一条配置，表示privoxy监听本机8118端口，\n\t#把它作为http代理，代理地址为 http://localhost.8118/ 。\n\t#可以把地址改为 0.0.0.0:8118，表示外网也可以通过本机IP作http代理。\n\t#这样，你的外网IP为1.2.3.4，别人就可以设置 http://1.2.3.4:8118/ 为http代理。\n\tlisten-address localhost:8118\n    ```\n    3. 重启\n    ```\n    systemctl restart privoxy.serivce\n\n\n#### Polipo\n\n#### 安装\n\n> yum install -y texi2html texinfo\n> git clone https://github.com/jech/polipo.git\n> cd polipo\n> make all\n> make install\n\n#### 配置\n\n> vi /etc/polipo/config","source":"_posts/Linux下几种socks流量转http(s)流量的工具.md","raw":"title: Linux下几种socks流量转http(s)流量的工具\nurl: 224.html\nid: 224\ncategories:\n  - Linux &amp; VPS\ndate: 2018-11-11 16:54:22\ntags:\n---\nShadowSocket是socket5代理，对于浏览器而言，还需要另外一个socks转http(s)的工具，Windows下自带了proxy，但是Linux下并没有，这里收集整理了一些Linux下的socks转http(s)工具，或许什么时候会用上。\n1. Privoxy\n\t1. 安装\n    ```shell\n    yum install -y epel-release\n    yum install privoxy\n    ```\n\t2. 配置\n    ```shell\n\tvim /etc/privoxy/config\n\t#在 froward-socks4下面添加一条socks5的，因为shadowsocks是socks5，\n\t#地址是127.0.0.1:1080。注意他们最后有一个“.”\n\t#forward-socks4 / socks-gw.example.com:1080 .\n\tforward-socks5 / 127.0.0.1:1080 .\n\t#下面还存在以下一条配置，表示privoxy监听本机8118端口，\n\t#把它作为http代理，代理地址为 http://localhost.8118/ 。\n\t#可以把地址改为 0.0.0.0:8118，表示外网也可以通过本机IP作http代理。\n\t#这样，你的外网IP为1.2.3.4，别人就可以设置 http://1.2.3.4:8118/ 为http代理。\n\tlisten-address localhost:8118\n    ```\n    3. 重启\n    ```\n    systemctl restart privoxy.serivce\n\n\n#### Polipo\n\n#### 安装\n\n> yum install -y texi2html texinfo\n> git clone https://github.com/jech/polipo.git\n> cd polipo\n> make all\n> make install\n\n#### 配置\n\n> vi /etc/polipo/config","slug":"Linux下几种socks流量转http(s)流量的工具","published":1,"updated":"2020-02-10T09:33:16.763Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbq4j1000ctooj0uwx18wj","content":"<p>ShadowSocket是socket5代理，对于浏览器而言，还需要另外一个socks转http(s)的工具，Windows下自带了proxy，但是Linux下并没有，这里收集整理了一些Linux下的socks转http(s)工具，或许什么时候会用上。</p>\n<ol>\n<li>Privoxy<ol>\n<li>安装<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install -y epel-release</span><br><span class=\"line\">yum install privoxy</span><br></pre></td></tr></table></figure></li>\n<li>配置<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim /etc/privoxy/config</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">在 froward-socks4下面添加一条socks5的，因为shadowsocks是socks5，</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">地址是127.0.0.1:1080。注意他们最后有一个“.”</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">forward-socks4 / socks-gw.example.com:1080 .</span></span><br><span class=\"line\">forward-socks5 / 127.0.0.1:1080 .</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">下面还存在以下一条配置，表示privoxy监听本机8118端口，</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">把它作为http代理，代理地址为 http://localhost.8118/ 。</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">可以把地址改为 0.0.0.0:8118，表示外网也可以通过本机IP作http代理。</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">这样，你的外网IP为1.2.3.4，别人就可以设置 http://1.2.3.4:8118/ 为http代理。</span></span><br><span class=\"line\">listen-address localhost:8118</span><br></pre></td></tr></table></figure></li>\n<li>重启<pre><code>systemctl restart privoxy.serivce\n\n</code></pre></li>\n</ol>\n</li>\n</ol>\n<h4 id=\"Polipo\"><a href=\"#Polipo\" class=\"headerlink\" title=\"Polipo\"></a>Polipo</h4><h4 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h4><blockquote>\n<p>yum install -y texi2html texinfo<br>git clone <a href=\"https://github.com/jech/polipo.git\" target=\"_blank\" rel=\"noopener\">https://github.com/jech/polipo.git</a><br>cd polipo<br>make all<br>make install</p>\n</blockquote>\n<h4 id=\"配置\"><a href=\"#配置\" class=\"headerlink\" title=\"配置\"></a>配置</h4><blockquote>\n<p>vi /etc/polipo/config</p>\n</blockquote>\n","site":{"data":{}},"excerpt":"","more":"<p>ShadowSocket是socket5代理，对于浏览器而言，还需要另外一个socks转http(s)的工具，Windows下自带了proxy，但是Linux下并没有，这里收集整理了一些Linux下的socks转http(s)工具，或许什么时候会用上。</p>\n<ol>\n<li>Privoxy<ol>\n<li>安装<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install -y epel-release</span><br><span class=\"line\">yum install privoxy</span><br></pre></td></tr></table></figure></li>\n<li>配置<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim /etc/privoxy/config</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">在 froward-socks4下面添加一条socks5的，因为shadowsocks是socks5，</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">地址是127.0.0.1:1080。注意他们最后有一个“.”</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">forward-socks4 / socks-gw.example.com:1080 .</span></span><br><span class=\"line\">forward-socks5 / 127.0.0.1:1080 .</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">下面还存在以下一条配置，表示privoxy监听本机8118端口，</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">把它作为http代理，代理地址为 http://localhost.8118/ 。</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">可以把地址改为 0.0.0.0:8118，表示外网也可以通过本机IP作http代理。</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">这样，你的外网IP为1.2.3.4，别人就可以设置 http://1.2.3.4:8118/ 为http代理。</span></span><br><span class=\"line\">listen-address localhost:8118</span><br></pre></td></tr></table></figure></li>\n<li>重启<pre><code>systemctl restart privoxy.serivce\n\n</code></pre></li>\n</ol>\n</li>\n</ol>\n<h4 id=\"Polipo\"><a href=\"#Polipo\" class=\"headerlink\" title=\"Polipo\"></a>Polipo</h4><h4 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h4><blockquote>\n<p>yum install -y texi2html texinfo<br>git clone <a href=\"https://github.com/jech/polipo.git\" target=\"_blank\" rel=\"noopener\">https://github.com/jech/polipo.git</a><br>cd polipo<br>make all<br>make install</p>\n</blockquote>\n<h4 id=\"配置\"><a href=\"#配置\" class=\"headerlink\" title=\"配置\"></a>配置</h4><blockquote>\n<p>vi /etc/polipo/config</p>\n</blockquote>\n"},{"title":"Linux中同时使用多个ssh密钥登录不同的主机","url":"332.html","id":"332","date":"2019-03-04T13:06:39.000Z","_content":"\n在配置密钥实现免密登录的时候，Linux会自动加载如下面的四个密钥\n\n    ~/.ssh/id_rsa\n    ~/.ssh/id_dsa\n    ~/.ssh/id_ed25519\n    ~/.ssh/id_ecdsa\n    \n\n而其他名称的密钥是不会被自动加载的，因此其他密钥对应的服务器无法直接实现免密登录。 要想解决这个问题，可以通过增加ssh配置文件来实现，具体操作如下：\n\n    vim ~/.ssh/config\n    \n    添加如下内容\n    Host mydomain.com # 要实现免密登录的主机名\n        IdentityFile ~/.ssh/id_rsa_mydomain.com # 该主机对应的密钥的路径\n        User root # 该密钥对应的用户名\n    \n\n并保重密钥为600权限即可","source":"_posts/Linux中同时使用多个ssh密钥登录不同的主机.md","raw":"---\ntitle: Linux中同时使用多个ssh密钥登录不同的主机\nurl: 332.html\nid: 332\ncategories:\n  - Linux &amp; VPS\ndate: 2019-03-04 21:06:39\ntags:\n---\n\n在配置密钥实现免密登录的时候，Linux会自动加载如下面的四个密钥\n\n    ~/.ssh/id_rsa\n    ~/.ssh/id_dsa\n    ~/.ssh/id_ed25519\n    ~/.ssh/id_ecdsa\n    \n\n而其他名称的密钥是不会被自动加载的，因此其他密钥对应的服务器无法直接实现免密登录。 要想解决这个问题，可以通过增加ssh配置文件来实现，具体操作如下：\n\n    vim ~/.ssh/config\n    \n    添加如下内容\n    Host mydomain.com # 要实现免密登录的主机名\n        IdentityFile ~/.ssh/id_rsa_mydomain.com # 该主机对应的密钥的路径\n        User root # 该密钥对应的用户名\n    \n\n并保重密钥为600权限即可","slug":"Linux中同时使用多个ssh密钥登录不同的主机","published":1,"updated":"2020-02-10T09:33:16.763Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbq4j7000etooj403z1il6","content":"<p>在配置密钥实现免密登录的时候，Linux会自动加载如下面的四个密钥</p>\n<pre><code>~/.ssh/id_rsa\n~/.ssh/id_dsa\n~/.ssh/id_ed25519\n~/.ssh/id_ecdsa</code></pre><p>而其他名称的密钥是不会被自动加载的，因此其他密钥对应的服务器无法直接实现免密登录。 要想解决这个问题，可以通过增加ssh配置文件来实现，具体操作如下：</p>\n<pre><code>vim ~/.ssh/config\n\n添加如下内容\nHost mydomain.com # 要实现免密登录的主机名\n    IdentityFile ~/.ssh/id_rsa_mydomain.com # 该主机对应的密钥的路径\n    User root # 该密钥对应的用户名</code></pre><p>并保重密钥为600权限即可</p>\n","site":{"data":{}},"excerpt":"","more":"<p>在配置密钥实现免密登录的时候，Linux会自动加载如下面的四个密钥</p>\n<pre><code>~/.ssh/id_rsa\n~/.ssh/id_dsa\n~/.ssh/id_ed25519\n~/.ssh/id_ecdsa</code></pre><p>而其他名称的密钥是不会被自动加载的，因此其他密钥对应的服务器无法直接实现免密登录。 要想解决这个问题，可以通过增加ssh配置文件来实现，具体操作如下：</p>\n<pre><code>vim ~/.ssh/config\n\n添加如下内容\nHost mydomain.com # 要实现免密登录的主机名\n    IdentityFile ~/.ssh/id_rsa_mydomain.com # 该主机对应的密钥的路径\n    User root # 该密钥对应的用户名</code></pre><p>并保重密钥为600权限即可</p>\n"},{"title":"Linux查看和修改Kernel Boot Parameters","url":"359.html","id":"359","date":"2019-04-28T09:19:00.000Z","_content":"**摘要** 提供了查看和修改Linux系统的Kernel Boot Parameters的方法\n\n<!--more-->\n\n## 查看\n\n通过`cat /proc/cmdline`命令可以查看当前的Kernel Boot Parameters\n\n## 修改\n\n    vi /etc/default/grub\n\n添加一行\n\n    GRUB_CMDLINE_LINUX_DEFAULT=&quot;要添加的命令&quot;\n\n保存退出后\n\n    grub2-mkconfig -o /boot/grub2/grub.cfg\n\n重启即可","source":"_posts/Linux查看和修改Kernel Boot Parameters.md","raw":"title: Linux查看和修改Kernel Boot Parameters\nurl: 359.html\nid: 359\ncategories:\n  - Linux &amp; VPS\ntags: []\ndate: 2019-04-28 17:19:00\n---\n**摘要** 提供了查看和修改Linux系统的Kernel Boot Parameters的方法\n\n<!--more-->\n\n## 查看\n\n通过`cat /proc/cmdline`命令可以查看当前的Kernel Boot Parameters\n\n## 修改\n\n    vi /etc/default/grub\n\n添加一行\n\n    GRUB_CMDLINE_LINUX_DEFAULT=&quot;要添加的命令&quot;\n\n保存退出后\n\n    grub2-mkconfig -o /boot/grub2/grub.cfg\n\n重启即可","slug":"Linux查看和修改Kernel Boot Parameters","published":1,"updated":"2020-02-10T09:33:16.763Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbq4jd000htoojalfc13pm","content":"<p><strong>摘要</strong> 提供了查看和修改Linux系统的Kernel Boot Parameters的方法</p>\n<a id=\"more\"></a>\n\n<h2 id=\"查看\"><a href=\"#查看\" class=\"headerlink\" title=\"查看\"></a>查看</h2><p>通过<code>cat /proc/cmdline</code>命令可以查看当前的Kernel Boot Parameters</p>\n<h2 id=\"修改\"><a href=\"#修改\" class=\"headerlink\" title=\"修改\"></a>修改</h2><pre><code>vi /etc/default/grub</code></pre><p>添加一行</p>\n<pre><code>GRUB_CMDLINE_LINUX_DEFAULT=&amp;quot;要添加的命令&amp;quot;</code></pre><p>保存退出后</p>\n<pre><code>grub2-mkconfig -o /boot/grub2/grub.cfg</code></pre><p>重启即可</p>\n","site":{"data":{}},"excerpt":"<p><strong>摘要</strong> 提供了查看和修改Linux系统的Kernel Boot Parameters的方法</p>","more":"<h2 id=\"查看\"><a href=\"#查看\" class=\"headerlink\" title=\"查看\"></a>查看</h2><p>通过<code>cat /proc/cmdline</code>命令可以查看当前的Kernel Boot Parameters</p>\n<h2 id=\"修改\"><a href=\"#修改\" class=\"headerlink\" title=\"修改\"></a>修改</h2><pre><code>vi /etc/default/grub</code></pre><p>添加一行</p>\n<pre><code>GRUB_CMDLINE_LINUX_DEFAULT=&amp;quot;要添加的命令&amp;quot;</code></pre><p>保存退出后</p>\n<pre><code>grub2-mkconfig -o /boot/grub2/grub.cfg</code></pre><p>重启即可</p>"},{"title":"Python下使用多线程的两种方式","url":"351.html","id":"351","date":"2019-04-21T15:11:00.000Z","_content":"## 1.继承threading类，重写run()函数\n\n    import threading \n    import time\n    class timer(threading.Thread): #继承threading.Thread类\n        def __init__(self, num, interval): \n            threading.Thread.__init__(self) \n            self.thread_num = num \n            self.interval = interval \n            self.thread_stop = False \n    \n        def run(self): #Overwrite run() method, put what you want the thread do here \n            while not self.thread_stop: \n                print &#039;Thread Object(%d), Time:%s\\n&#039; %(self.thread_num, time.ctime()) \n                time.sleep(self.interval) \n        def stop(self): \n            self.thread_stop = True\n    def test(): \n        thread1 = timer(1, 1) \n        thread2 = timer(2, 2) \n        thread1.start() \n        thread2.start() \n        time.sleep(10) \n        thread1.stop() \n        thread2.stop() \n        return \n    \n    if __name__ == &#039;__main__&#039;: \n        test()","source":"_posts/Python多线程的两种方式.md","raw":"title: Python下使用多线程的两种方式\nurl: 351.html\nid: 351\ncategories:\n  - Python\ntags: []\ndate: 2019-04-21 23:11:00\n---\n## 1.继承threading类，重写run()函数\n\n    import threading \n    import time\n    class timer(threading.Thread): #继承threading.Thread类\n        def __init__(self, num, interval): \n            threading.Thread.__init__(self) \n            self.thread_num = num \n            self.interval = interval \n            self.thread_stop = False \n    \n        def run(self): #Overwrite run() method, put what you want the thread do here \n            while not self.thread_stop: \n                print &#039;Thread Object(%d), Time:%s\\n&#039; %(self.thread_num, time.ctime()) \n                time.sleep(self.interval) \n        def stop(self): \n            self.thread_stop = True\n    def test(): \n        thread1 = timer(1, 1) \n        thread2 = timer(2, 2) \n        thread1.start() \n        thread2.start() \n        time.sleep(10) \n        thread1.stop() \n        thread2.stop() \n        return \n    \n    if __name__ == &#039;__main__&#039;: \n        test()","slug":"Python多线程的两种方式","published":1,"updated":"2020-02-10T09:33:16.764Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbq4ji000jtoojdpjda4sq","content":"<h2 id=\"1-继承threading类，重写run-函数\"><a href=\"#1-继承threading类，重写run-函数\" class=\"headerlink\" title=\"1.继承threading类，重写run()函数\"></a>1.继承threading类，重写run()函数</h2><pre><code>import threading \nimport time\nclass timer(threading.Thread): #继承threading.Thread类\n    def __init__(self, num, interval): \n        threading.Thread.__init__(self) \n        self.thread_num = num \n        self.interval = interval \n        self.thread_stop = False \n\n    def run(self): #Overwrite run() method, put what you want the thread do here \n        while not self.thread_stop: \n            print &amp;#039;Thread Object(%d), Time:%s\\n&amp;#039; %(self.thread_num, time.ctime()) \n            time.sleep(self.interval) \n    def stop(self): \n        self.thread_stop = True\ndef test(): \n    thread1 = timer(1, 1) \n    thread2 = timer(2, 2) \n    thread1.start() \n    thread2.start() \n    time.sleep(10) \n    thread1.stop() \n    thread2.stop() \n    return \n\nif __name__ == &amp;#039;__main__&amp;#039;: \n    test()</code></pre>","site":{"data":{}},"excerpt":"","more":"<h2 id=\"1-继承threading类，重写run-函数\"><a href=\"#1-继承threading类，重写run-函数\" class=\"headerlink\" title=\"1.继承threading类，重写run()函数\"></a>1.继承threading类，重写run()函数</h2><pre><code>import threading \nimport time\nclass timer(threading.Thread): #继承threading.Thread类\n    def __init__(self, num, interval): \n        threading.Thread.__init__(self) \n        self.thread_num = num \n        self.interval = interval \n        self.thread_stop = False \n\n    def run(self): #Overwrite run() method, put what you want the thread do here \n        while not self.thread_stop: \n            print &amp;#039;Thread Object(%d), Time:%s\\n&amp;#039; %(self.thread_num, time.ctime()) \n            time.sleep(self.interval) \n    def stop(self): \n        self.thread_stop = True\ndef test(): \n    thread1 = timer(1, 1) \n    thread2 = timer(2, 2) \n    thread1.start() \n    thread2.start() \n    time.sleep(10) \n    thread1.stop() \n    thread2.stop() \n    return \n\nif __name__ == &amp;#039;__main__&amp;#039;: \n    test()</code></pre>"},{"title":"Python终止子线程","url":"353.html","id":"353","date":"2019-04-21T15:12:19.000Z","toc":true,"_content":"\n### 利用event()\n\n    import threading\n    \n    class StoppableThread(threading.Thread):\n        \"\"\"Thread class with a stop() method. The thread itself has to check\n        regularly for the stopped() condition.\"\"\"\n    \n        def __init__(self):\n            super(StoppableThread, self).__init__()\n            self._stop_event = threading.Event()\n    \n        def stop(self):\n            self._stop_event.set()\n    \n        def stopped(self):\n            return self._stop_event.is_set()","source":"_posts/Python终止子线程.md","raw":"---\ntitle: Python终止子线程\nurl: 353.html\nid: 353\ncategories:\n  - Linux &amp; VPS\ndate: 2019-04-21 23:12:19\ntoc: true\ntags:\n---\n\n### 利用event()\n\n    import threading\n    \n    class StoppableThread(threading.Thread):\n        \"\"\"Thread class with a stop() method. The thread itself has to check\n        regularly for the stopped() condition.\"\"\"\n    \n        def __init__(self):\n            super(StoppableThread, self).__init__()\n            self._stop_event = threading.Event()\n    \n        def stop(self):\n            self._stop_event.set()\n    \n        def stopped(self):\n            return self._stop_event.is_set()","slug":"Python终止子线程","published":1,"updated":"2020-02-10T09:33:16.764Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbq4k1000ltooj6s0t9cln","content":"<h3 id=\"利用event\"><a href=\"#利用event\" class=\"headerlink\" title=\"利用event()\"></a>利用event()</h3><pre><code>import threading\n\nclass StoppableThread(threading.Thread):\n    &quot;&quot;&quot;Thread class with a stop() method. The thread itself has to check\n    regularly for the stopped() condition.&quot;&quot;&quot;\n\n    def __init__(self):\n        super(StoppableThread, self).__init__()\n        self._stop_event = threading.Event()\n\n    def stop(self):\n        self._stop_event.set()\n\n    def stopped(self):\n        return self._stop_event.is_set()</code></pre>","site":{"data":{}},"excerpt":"","more":"<h3 id=\"利用event\"><a href=\"#利用event\" class=\"headerlink\" title=\"利用event()\"></a>利用event()</h3><pre><code>import threading\n\nclass StoppableThread(threading.Thread):\n    &quot;&quot;&quot;Thread class with a stop() method. The thread itself has to check\n    regularly for the stopped() condition.&quot;&quot;&quot;\n\n    def __init__(self):\n        super(StoppableThread, self).__init__()\n        self._stop_event = threading.Event()\n\n    def stop(self):\n        self._stop_event.set()\n\n    def stopped(self):\n        return self._stop_event.is_set()</code></pre>"},{"title":"Sqlalchemy的一些学习笔记","url":"371.html","id":"371","date":"2019-05-06T15:04:47.000Z","_content":"\n### Sqlalchemy的正确打开方式\n\n    from sqlalchemy.ext.declarative import declarative_base\n    from sqlalchemy import Column, Integer, String, create_engine, Text, Boolean\n    from sqlalchemy.orm import sessionmaker\n    \n    # 首先创建链接\n    engine = create_engine(\n        &#039;sqlite:///books.db?check_same_thread=False&#039;, echo=False)\n    # 依据上文创建的链接初始化一个Session类\n    Session = sessionmaker(bind=engine)\n    # 创建一个Session类实例\n    session = Session()\n    \n    # 数据库模型的基类\n    Base = declarative_base()\n    \n    class BookDatabase(Base):  # 继承Base类\n        __tablename__ = &#039;Books&#039;  # 此模型类对应的表名\n    \n        id = Column(Integer, primary_key=True, autoincrement=True)  # 主键自增\n        bookName = Column(String(40))\n        pathString = Column(Text)\n        unique=True)  # 唯一性要求\n        hasDownload = Column(Boolean, default=False)\n    \n    Base.metadata.create_all(engine)  # 创建数据库\n\n### query的几种用法\n\n说几点印象深刻的 1.获取某一字段（某一列）的所有值\n\n    session.query(BookDatabase.bookName).all()  # 以上文的BookDatabase类和bookName字段值为例\n\n2.修改某一字段的值\n\n    book.hasDownload = True\n    session.commit() \n    # 记得要commit(), 当然，也可以用update()来修改\n\nPS: print(session.query(XXXX))可以看到具体的SQL语句，e.g.\n\n    print(session.query(BookDatabase.bookName))\n    output:\n    SELECT &quot;Books&quot;.&quot;bookName&quot; AS &quot;Books_bookName&quot; \n    FROM &quot;Books&quot;\n\n一些参考文档 [SQlAlchemy的增删改查](https://www.cnblogs.com/chenxi67/p/10376617.html) [SQLAlchemy技术文档（中文版）（全）](https://blog.csdn.net/Lotfee/article/details/57406450) [Python:数据库操作模块SQLAlchemy](http://blog.sina.com.cn/s/blog_4ddef8f80101g6cl.html)","source":"_posts/Sqlalchemy的一些学习笔记.md","raw":"---\ntitle: Sqlalchemy的一些学习笔记\nurl: 371.html\nid: 371\ncategories:\n  - Python\ndate: 2019-05-06 23:04:47\ntags:\n---\n\n### Sqlalchemy的正确打开方式\n\n    from sqlalchemy.ext.declarative import declarative_base\n    from sqlalchemy import Column, Integer, String, create_engine, Text, Boolean\n    from sqlalchemy.orm import sessionmaker\n    \n    # 首先创建链接\n    engine = create_engine(\n        &#039;sqlite:///books.db?check_same_thread=False&#039;, echo=False)\n    # 依据上文创建的链接初始化一个Session类\n    Session = sessionmaker(bind=engine)\n    # 创建一个Session类实例\n    session = Session()\n    \n    # 数据库模型的基类\n    Base = declarative_base()\n    \n    class BookDatabase(Base):  # 继承Base类\n        __tablename__ = &#039;Books&#039;  # 此模型类对应的表名\n    \n        id = Column(Integer, primary_key=True, autoincrement=True)  # 主键自增\n        bookName = Column(String(40))\n        pathString = Column(Text)\n        unique=True)  # 唯一性要求\n        hasDownload = Column(Boolean, default=False)\n    \n    Base.metadata.create_all(engine)  # 创建数据库\n\n### query的几种用法\n\n说几点印象深刻的 1.获取某一字段（某一列）的所有值\n\n    session.query(BookDatabase.bookName).all()  # 以上文的BookDatabase类和bookName字段值为例\n\n2.修改某一字段的值\n\n    book.hasDownload = True\n    session.commit() \n    # 记得要commit(), 当然，也可以用update()来修改\n\nPS: print(session.query(XXXX))可以看到具体的SQL语句，e.g.\n\n    print(session.query(BookDatabase.bookName))\n    output:\n    SELECT &quot;Books&quot;.&quot;bookName&quot; AS &quot;Books_bookName&quot; \n    FROM &quot;Books&quot;\n\n一些参考文档 [SQlAlchemy的增删改查](https://www.cnblogs.com/chenxi67/p/10376617.html) [SQLAlchemy技术文档（中文版）（全）](https://blog.csdn.net/Lotfee/article/details/57406450) [Python:数据库操作模块SQLAlchemy](http://blog.sina.com.cn/s/blog_4ddef8f80101g6cl.html)","slug":"Sqlalchemy的一些学习笔记","published":1,"updated":"2020-02-10T09:33:16.764Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbq4kb000otoojcev1308u","content":"<h3 id=\"Sqlalchemy的正确打开方式\"><a href=\"#Sqlalchemy的正确打开方式\" class=\"headerlink\" title=\"Sqlalchemy的正确打开方式\"></a>Sqlalchemy的正确打开方式</h3><pre><code>from sqlalchemy.ext.declarative import declarative_base\nfrom sqlalchemy import Column, Integer, String, create_engine, Text, Boolean\nfrom sqlalchemy.orm import sessionmaker\n\n# 首先创建链接\nengine = create_engine(\n    &amp;#039;sqlite:///books.db?check_same_thread=False&amp;#039;, echo=False)\n# 依据上文创建的链接初始化一个Session类\nSession = sessionmaker(bind=engine)\n# 创建一个Session类实例\nsession = Session()\n\n# 数据库模型的基类\nBase = declarative_base()\n\nclass BookDatabase(Base):  # 继承Base类\n    __tablename__ = &amp;#039;Books&amp;#039;  # 此模型类对应的表名\n\n    id = Column(Integer, primary_key=True, autoincrement=True)  # 主键自增\n    bookName = Column(String(40))\n    pathString = Column(Text)\n    unique=True)  # 唯一性要求\n    hasDownload = Column(Boolean, default=False)\n\nBase.metadata.create_all(engine)  # 创建数据库</code></pre><h3 id=\"query的几种用法\"><a href=\"#query的几种用法\" class=\"headerlink\" title=\"query的几种用法\"></a>query的几种用法</h3><p>说几点印象深刻的 1.获取某一字段（某一列）的所有值</p>\n<pre><code>session.query(BookDatabase.bookName).all()  # 以上文的BookDatabase类和bookName字段值为例</code></pre><p>2.修改某一字段的值</p>\n<pre><code>book.hasDownload = True\nsession.commit() \n# 记得要commit(), 当然，也可以用update()来修改</code></pre><p>PS: print(session.query(XXXX))可以看到具体的SQL语句，e.g.</p>\n<pre><code>print(session.query(BookDatabase.bookName))\noutput:\nSELECT &amp;quot;Books&amp;quot;.&amp;quot;bookName&amp;quot; AS &amp;quot;Books_bookName&amp;quot; \nFROM &amp;quot;Books&amp;quot;</code></pre><p>一些参考文档 <a href=\"https://www.cnblogs.com/chenxi67/p/10376617.html\" target=\"_blank\" rel=\"noopener\">SQlAlchemy的增删改查</a> <a href=\"https://blog.csdn.net/Lotfee/article/details/57406450\" target=\"_blank\" rel=\"noopener\">SQLAlchemy技术文档（中文版）（全）</a> <a href=\"http://blog.sina.com.cn/s/blog_4ddef8f80101g6cl.html\" target=\"_blank\" rel=\"noopener\">Python:数据库操作模块SQLAlchemy</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"Sqlalchemy的正确打开方式\"><a href=\"#Sqlalchemy的正确打开方式\" class=\"headerlink\" title=\"Sqlalchemy的正确打开方式\"></a>Sqlalchemy的正确打开方式</h3><pre><code>from sqlalchemy.ext.declarative import declarative_base\nfrom sqlalchemy import Column, Integer, String, create_engine, Text, Boolean\nfrom sqlalchemy.orm import sessionmaker\n\n# 首先创建链接\nengine = create_engine(\n    &amp;#039;sqlite:///books.db?check_same_thread=False&amp;#039;, echo=False)\n# 依据上文创建的链接初始化一个Session类\nSession = sessionmaker(bind=engine)\n# 创建一个Session类实例\nsession = Session()\n\n# 数据库模型的基类\nBase = declarative_base()\n\nclass BookDatabase(Base):  # 继承Base类\n    __tablename__ = &amp;#039;Books&amp;#039;  # 此模型类对应的表名\n\n    id = Column(Integer, primary_key=True, autoincrement=True)  # 主键自增\n    bookName = Column(String(40))\n    pathString = Column(Text)\n    unique=True)  # 唯一性要求\n    hasDownload = Column(Boolean, default=False)\n\nBase.metadata.create_all(engine)  # 创建数据库</code></pre><h3 id=\"query的几种用法\"><a href=\"#query的几种用法\" class=\"headerlink\" title=\"query的几种用法\"></a>query的几种用法</h3><p>说几点印象深刻的 1.获取某一字段（某一列）的所有值</p>\n<pre><code>session.query(BookDatabase.bookName).all()  # 以上文的BookDatabase类和bookName字段值为例</code></pre><p>2.修改某一字段的值</p>\n<pre><code>book.hasDownload = True\nsession.commit() \n# 记得要commit(), 当然，也可以用update()来修改</code></pre><p>PS: print(session.query(XXXX))可以看到具体的SQL语句，e.g.</p>\n<pre><code>print(session.query(BookDatabase.bookName))\noutput:\nSELECT &amp;quot;Books&amp;quot;.&amp;quot;bookName&amp;quot; AS &amp;quot;Books_bookName&amp;quot; \nFROM &amp;quot;Books&amp;quot;</code></pre><p>一些参考文档 <a href=\"https://www.cnblogs.com/chenxi67/p/10376617.html\" target=\"_blank\" rel=\"noopener\">SQlAlchemy的增删改查</a> <a href=\"https://blog.csdn.net/Lotfee/article/details/57406450\" target=\"_blank\" rel=\"noopener\">SQLAlchemy技术文档（中文版）（全）</a> <a href=\"http://blog.sina.com.cn/s/blog_4ddef8f80101g6cl.html\" target=\"_blank\" rel=\"noopener\">Python:数据库操作模块SQLAlchemy</a></p>\n"},{"title":"centos7 升级内核","url":"161.html","id":"161","date":"2018-07-24T04:29:39.000Z","_content":"其实本身想到升级内核是为了能够开启BBR进而对网速进行加速，但不知何故，网上的各种一键脚本都卡在了更换内核的步骤上，主要症状表现为：\n\n1.  新内核的确被安装了\n2.  直接reboot命令重启，依然会进入旧内核\n3.  通过VNC连接，手动选择新内核进行启动，则会启动失败.\n\n正文\n--\n\n研究了网上的几篇文章，发现问题主要出在没有编译内核启动文件上，为了以后遇到相似的情况可以迅速找到解决办法，撰本篇博文以记录：\n\n    #使用cat /boot/grub2/grub.cfg |grep menuentry  查看系统可用内核\n    #这是我的输出内容，引号之间为内核名\n    if [ x\"${feature_menuentry_id}\" = xy ]; then\n    menuentry_id_option=\"--id\"\n    menuentry_id_option=\"\"\n    export menuentry_id_option\n    menuentry'CentOS Linux (4.11.8-1.el7.elrepo.x86_64) 7 (Core)' --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option  'gnulinux-simple-LABEL=root' {\n    menuentry 'CentOS Linux' --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux-simple-LABEL=root' {\n    submenu 'Advanced options for CentOS Linux' $menuentry_id_option 'gnulinux-advanced-LABEL=root' {\n    menuentry 'CentOS Linux, with Linux 3.10.0-123.4.4.el7.x86_64' --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux-3.10.0-123.4.4.el7.x86_64-advanced-LABEL=root' {\n    menuentry 'CentOS Linux, with Linux 3.10.0-123.4.4.el7.x86_64 (recovery mode)' --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux-3.10.0-123.4.4.el7.x86_64-recovery-LABEL=root' {\n    \n\n安装新内核后，需要使用以下命令修改内核配置文件\n\n    vi /etc/default/grub\n    \n\n将第一行内容修改为\n\n    GRUB_DEFAULT=0 #或者其他内核，内核名参加上面\n    \n\n之后，重新编译内核启动文件\n\n    grub2-mkconfig -o /boot/grub2/grub.cfg\n    \n\n错误排除\n----\n\n1.  /boot/grub2/grub.cfg不存在（grub2-mkconfig: command not found）\n    1.  打开grub.conf `shell vi /etc/grub.conf`\n    2.  将default=0修改为default=1（具体取决于希望使用的内核在列表中的顺序）","source":"_posts/centos7 升级内核.md","raw":"title: centos7 升级内核\nurl: 161.html\nid: 161\ncategories:\n  - Linux &amp; VPS\ndate: 2018-07-24 12:29:39\ntags:\n---\n其实本身想到升级内核是为了能够开启BBR进而对网速进行加速，但不知何故，网上的各种一键脚本都卡在了更换内核的步骤上，主要症状表现为：\n\n1.  新内核的确被安装了\n2.  直接reboot命令重启，依然会进入旧内核\n3.  通过VNC连接，手动选择新内核进行启动，则会启动失败.\n\n正文\n--\n\n研究了网上的几篇文章，发现问题主要出在没有编译内核启动文件上，为了以后遇到相似的情况可以迅速找到解决办法，撰本篇博文以记录：\n\n    #使用cat /boot/grub2/grub.cfg |grep menuentry  查看系统可用内核\n    #这是我的输出内容，引号之间为内核名\n    if [ x\"${feature_menuentry_id}\" = xy ]; then\n    menuentry_id_option=\"--id\"\n    menuentry_id_option=\"\"\n    export menuentry_id_option\n    menuentry'CentOS Linux (4.11.8-1.el7.elrepo.x86_64) 7 (Core)' --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option  'gnulinux-simple-LABEL=root' {\n    menuentry 'CentOS Linux' --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux-simple-LABEL=root' {\n    submenu 'Advanced options for CentOS Linux' $menuentry_id_option 'gnulinux-advanced-LABEL=root' {\n    menuentry 'CentOS Linux, with Linux 3.10.0-123.4.4.el7.x86_64' --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux-3.10.0-123.4.4.el7.x86_64-advanced-LABEL=root' {\n    menuentry 'CentOS Linux, with Linux 3.10.0-123.4.4.el7.x86_64 (recovery mode)' --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux-3.10.0-123.4.4.el7.x86_64-recovery-LABEL=root' {\n    \n\n安装新内核后，需要使用以下命令修改内核配置文件\n\n    vi /etc/default/grub\n    \n\n将第一行内容修改为\n\n    GRUB_DEFAULT=0 #或者其他内核，内核名参加上面\n    \n\n之后，重新编译内核启动文件\n\n    grub2-mkconfig -o /boot/grub2/grub.cfg\n    \n\n错误排除\n----\n\n1.  /boot/grub2/grub.cfg不存在（grub2-mkconfig: command not found）\n    1.  打开grub.conf `shell vi /etc/grub.conf`\n    2.  将default=0修改为default=1（具体取决于希望使用的内核在列表中的顺序）","slug":"centos7 升级内核","published":1,"updated":"2020-02-10T09:33:16.764Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbq4kf000qtooj069daesm","content":"<p>其实本身想到升级内核是为了能够开启BBR进而对网速进行加速，但不知何故，网上的各种一键脚本都卡在了更换内核的步骤上，主要症状表现为：</p>\n<ol>\n<li>新内核的确被安装了</li>\n<li>直接reboot命令重启，依然会进入旧内核</li>\n<li>通过VNC连接，手动选择新内核进行启动，则会启动失败.</li>\n</ol>\n<h2 id=\"正文\"><a href=\"#正文\" class=\"headerlink\" title=\"正文\"></a>正文</h2><p>研究了网上的几篇文章，发现问题主要出在没有编译内核启动文件上，为了以后遇到相似的情况可以迅速找到解决办法，撰本篇博文以记录：</p>\n<pre><code>#使用cat /boot/grub2/grub.cfg |grep menuentry  查看系统可用内核\n#这是我的输出内容，引号之间为内核名\nif [ x&quot;${feature_menuentry_id}&quot; = xy ]; then\nmenuentry_id_option=&quot;--id&quot;\nmenuentry_id_option=&quot;&quot;\nexport menuentry_id_option\nmenuentry&apos;CentOS Linux (4.11.8-1.el7.elrepo.x86_64) 7 (Core)&apos; --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option  &apos;gnulinux-simple-LABEL=root&apos; {\nmenuentry &apos;CentOS Linux&apos; --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option &apos;gnulinux-simple-LABEL=root&apos; {\nsubmenu &apos;Advanced options for CentOS Linux&apos; $menuentry_id_option &apos;gnulinux-advanced-LABEL=root&apos; {\nmenuentry &apos;CentOS Linux, with Linux 3.10.0-123.4.4.el7.x86_64&apos; --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option &apos;gnulinux-3.10.0-123.4.4.el7.x86_64-advanced-LABEL=root&apos; {\nmenuentry &apos;CentOS Linux, with Linux 3.10.0-123.4.4.el7.x86_64 (recovery mode)&apos; --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option &apos;gnulinux-3.10.0-123.4.4.el7.x86_64-recovery-LABEL=root&apos; {</code></pre><p>安装新内核后，需要使用以下命令修改内核配置文件</p>\n<pre><code>vi /etc/default/grub</code></pre><p>将第一行内容修改为</p>\n<pre><code>GRUB_DEFAULT=0 #或者其他内核，内核名参加上面</code></pre><p>之后，重新编译内核启动文件</p>\n<pre><code>grub2-mkconfig -o /boot/grub2/grub.cfg</code></pre><h2 id=\"错误排除\"><a href=\"#错误排除\" class=\"headerlink\" title=\"错误排除\"></a>错误排除</h2><ol>\n<li>/boot/grub2/grub.cfg不存在（grub2-mkconfig: command not found）<ol>\n<li>打开grub.conf <code>shell vi /etc/grub.conf</code></li>\n<li>将default=0修改为default=1（具体取决于希望使用的内核在列表中的顺序）</li>\n</ol>\n</li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<p>其实本身想到升级内核是为了能够开启BBR进而对网速进行加速，但不知何故，网上的各种一键脚本都卡在了更换内核的步骤上，主要症状表现为：</p>\n<ol>\n<li>新内核的确被安装了</li>\n<li>直接reboot命令重启，依然会进入旧内核</li>\n<li>通过VNC连接，手动选择新内核进行启动，则会启动失败.</li>\n</ol>\n<h2 id=\"正文\"><a href=\"#正文\" class=\"headerlink\" title=\"正文\"></a>正文</h2><p>研究了网上的几篇文章，发现问题主要出在没有编译内核启动文件上，为了以后遇到相似的情况可以迅速找到解决办法，撰本篇博文以记录：</p>\n<pre><code>#使用cat /boot/grub2/grub.cfg |grep menuentry  查看系统可用内核\n#这是我的输出内容，引号之间为内核名\nif [ x&quot;${feature_menuentry_id}&quot; = xy ]; then\nmenuentry_id_option=&quot;--id&quot;\nmenuentry_id_option=&quot;&quot;\nexport menuentry_id_option\nmenuentry&apos;CentOS Linux (4.11.8-1.el7.elrepo.x86_64) 7 (Core)&apos; --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option  &apos;gnulinux-simple-LABEL=root&apos; {\nmenuentry &apos;CentOS Linux&apos; --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option &apos;gnulinux-simple-LABEL=root&apos; {\nsubmenu &apos;Advanced options for CentOS Linux&apos; $menuentry_id_option &apos;gnulinux-advanced-LABEL=root&apos; {\nmenuentry &apos;CentOS Linux, with Linux 3.10.0-123.4.4.el7.x86_64&apos; --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option &apos;gnulinux-3.10.0-123.4.4.el7.x86_64-advanced-LABEL=root&apos; {\nmenuentry &apos;CentOS Linux, with Linux 3.10.0-123.4.4.el7.x86_64 (recovery mode)&apos; --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option &apos;gnulinux-3.10.0-123.4.4.el7.x86_64-recovery-LABEL=root&apos; {</code></pre><p>安装新内核后，需要使用以下命令修改内核配置文件</p>\n<pre><code>vi /etc/default/grub</code></pre><p>将第一行内容修改为</p>\n<pre><code>GRUB_DEFAULT=0 #或者其他内核，内核名参加上面</code></pre><p>之后，重新编译内核启动文件</p>\n<pre><code>grub2-mkconfig -o /boot/grub2/grub.cfg</code></pre><h2 id=\"错误排除\"><a href=\"#错误排除\" class=\"headerlink\" title=\"错误排除\"></a>错误排除</h2><ol>\n<li>/boot/grub2/grub.cfg不存在（grub2-mkconfig: command not found）<ol>\n<li>打开grub.conf <code>shell vi /etc/grub.conf</code></li>\n<li>将default=0修改为default=1（具体取决于希望使用的内核在列表中的顺序）</li>\n</ol>\n</li>\n</ol>\n"},{"title":"docker安装nginx","url":"319.html","id":"319","date":"2019-02-20T15:18:07.000Z","_content":"\n假设将nginx的相关数据及配置挂载于/docker/nginx目录下，则创建目录结构如下：\n\n    docker\n    └── nginx\n        ├── conf\n        │   ├── conf.d\n        │   └── nginx.conf\n        ├── logs\n        └── www\n    \n\n其中nginx.congf为文件，其余为文件夹。 将nginx的默认配置复制至nginx.conf\n\n    server {\n        listen       80;\n        server_name  localhost;\n    \n        #charset koi8-r;\n        #access_log  /var/log/nginx/host.access.log  main;\n    \n        location / {\n            root   /usr/share/nginx/html;\n            index  index.html index.htm;\n        }\n    \n        #error_page  404              /404.html;\n    \n        # redirect server error pages to the static page /50x.html\n        #\n        error_page   500 502 503 504  /50x.html;\n        location = /50x.html {\n            root   /usr/share/nginx/html;\n        }\n    \n        # proxy the PHP scripts to Apache listening on 127.0.0.1:80\n        #\n        #location ~ \\.php$ {\n        #    proxy_pass   http://127.0.0.1;\n        #}\n    \n        # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000\n        #\n        #location ~ \\.php$ {\n        #    root           html;\n        #    fastcgi_pass   127.0.0.1:9000;\n        #    fastcgi_index  index.php;\n        #    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;\n        #    include        fastcgi_params;\n        #}\n    \n        # deny access to .htaccess files, if Apache's document root\n        # concurs with nginx's one\n        #\n        #location ~ /\\.ht {\n        #    deny  all;\n        #}\n    }\n    \n\n运行命令\n\n    docker run -p 80:80 -p 443:443 --name nginx -v $PWD/www:/www -v $PWD/conf/nginx.conf:/etc/nginx/nginx.conf -v $PWD/logs:/wwwlogs -v $PWD/conf/conf.d:/etc/nginx/conf.d -d nginx","source":"_posts/docker安装nginx.md","raw":"---\ntitle: docker安装nginx\nurl: 319.html\nid: 319\ncategories:\n  - Linux &amp; VPS\ndate: 2019-02-20 23:18:07\ntags:\n---\n\n假设将nginx的相关数据及配置挂载于/docker/nginx目录下，则创建目录结构如下：\n\n    docker\n    └── nginx\n        ├── conf\n        │   ├── conf.d\n        │   └── nginx.conf\n        ├── logs\n        └── www\n    \n\n其中nginx.congf为文件，其余为文件夹。 将nginx的默认配置复制至nginx.conf\n\n    server {\n        listen       80;\n        server_name  localhost;\n    \n        #charset koi8-r;\n        #access_log  /var/log/nginx/host.access.log  main;\n    \n        location / {\n            root   /usr/share/nginx/html;\n            index  index.html index.htm;\n        }\n    \n        #error_page  404              /404.html;\n    \n        # redirect server error pages to the static page /50x.html\n        #\n        error_page   500 502 503 504  /50x.html;\n        location = /50x.html {\n            root   /usr/share/nginx/html;\n        }\n    \n        # proxy the PHP scripts to Apache listening on 127.0.0.1:80\n        #\n        #location ~ \\.php$ {\n        #    proxy_pass   http://127.0.0.1;\n        #}\n    \n        # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000\n        #\n        #location ~ \\.php$ {\n        #    root           html;\n        #    fastcgi_pass   127.0.0.1:9000;\n        #    fastcgi_index  index.php;\n        #    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;\n        #    include        fastcgi_params;\n        #}\n    \n        # deny access to .htaccess files, if Apache's document root\n        # concurs with nginx's one\n        #\n        #location ~ /\\.ht {\n        #    deny  all;\n        #}\n    }\n    \n\n运行命令\n\n    docker run -p 80:80 -p 443:443 --name nginx -v $PWD/www:/www -v $PWD/conf/nginx.conf:/etc/nginx/nginx.conf -v $PWD/logs:/wwwlogs -v $PWD/conf/conf.d:/etc/nginx/conf.d -d nginx","slug":"docker安装nginx","published":1,"updated":"2020-02-10T09:33:16.764Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbq4kl000stoojb7ci7rc0","content":"<p>假设将nginx的相关数据及配置挂载于/docker/nginx目录下，则创建目录结构如下：</p>\n<pre><code>docker\n└── nginx\n    ├── conf\n    │   ├── conf.d\n    │   └── nginx.conf\n    ├── logs\n    └── www</code></pre><p>其中nginx.congf为文件，其余为文件夹。 将nginx的默认配置复制至nginx.conf</p>\n<pre><code>server {\n    listen       80;\n    server_name  localhost;\n\n    #charset koi8-r;\n    #access_log  /var/log/nginx/host.access.log  main;\n\n    location / {\n        root   /usr/share/nginx/html;\n        index  index.html index.htm;\n    }\n\n    #error_page  404              /404.html;\n\n    # redirect server error pages to the static page /50x.html\n    #\n    error_page   500 502 503 504  /50x.html;\n    location = /50x.html {\n        root   /usr/share/nginx/html;\n    }\n\n    # proxy the PHP scripts to Apache listening on 127.0.0.1:80\n    #\n    #location ~ \\.php$ {\n    #    proxy_pass   http://127.0.0.1;\n    #}\n\n    # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000\n    #\n    #location ~ \\.php$ {\n    #    root           html;\n    #    fastcgi_pass   127.0.0.1:9000;\n    #    fastcgi_index  index.php;\n    #    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;\n    #    include        fastcgi_params;\n    #}\n\n    # deny access to .htaccess files, if Apache&apos;s document root\n    # concurs with nginx&apos;s one\n    #\n    #location ~ /\\.ht {\n    #    deny  all;\n    #}\n}</code></pre><p>运行命令</p>\n<pre><code>docker run -p 80:80 -p 443:443 --name nginx -v $PWD/www:/www -v $PWD/conf/nginx.conf:/etc/nginx/nginx.conf -v $PWD/logs:/wwwlogs -v $PWD/conf/conf.d:/etc/nginx/conf.d -d nginx</code></pre>","site":{"data":{}},"excerpt":"","more":"<p>假设将nginx的相关数据及配置挂载于/docker/nginx目录下，则创建目录结构如下：</p>\n<pre><code>docker\n└── nginx\n    ├── conf\n    │   ├── conf.d\n    │   └── nginx.conf\n    ├── logs\n    └── www</code></pre><p>其中nginx.congf为文件，其余为文件夹。 将nginx的默认配置复制至nginx.conf</p>\n<pre><code>server {\n    listen       80;\n    server_name  localhost;\n\n    #charset koi8-r;\n    #access_log  /var/log/nginx/host.access.log  main;\n\n    location / {\n        root   /usr/share/nginx/html;\n        index  index.html index.htm;\n    }\n\n    #error_page  404              /404.html;\n\n    # redirect server error pages to the static page /50x.html\n    #\n    error_page   500 502 503 504  /50x.html;\n    location = /50x.html {\n        root   /usr/share/nginx/html;\n    }\n\n    # proxy the PHP scripts to Apache listening on 127.0.0.1:80\n    #\n    #location ~ \\.php$ {\n    #    proxy_pass   http://127.0.0.1;\n    #}\n\n    # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000\n    #\n    #location ~ \\.php$ {\n    #    root           html;\n    #    fastcgi_pass   127.0.0.1:9000;\n    #    fastcgi_index  index.php;\n    #    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;\n    #    include        fastcgi_params;\n    #}\n\n    # deny access to .htaccess files, if Apache&apos;s document root\n    # concurs with nginx&apos;s one\n    #\n    #location ~ /\\.ht {\n    #    deny  all;\n    #}\n}</code></pre><p>运行命令</p>\n<pre><code>docker run -p 80:80 -p 443:443 --name nginx -v $PWD/www:/www -v $PWD/conf/nginx.conf:/etc/nginx/nginx.conf -v $PWD/logs:/wwwlogs -v $PWD/conf/conf.d:/etc/nginx/conf.d -d nginx</code></pre>"},{"title":"shell的字符串处理","author":"Creling","toc":true,"date":"2020-01-17T04:46:00.000Z","_content":"**摘要** 借助`${expression}`表达式进行字符串操作的一些方法\n<!--more-->\n\n## 替换\n```bash\n${parameter:-word} # ${parameter}为空时用${word}替换\n${parameter:=word} # ${parameter}为空时用${word}替换，并将值赋给$parameter变量\n${parameter:?word} # ${parameter}为空时,以标准错误的方式输出${word}\n${parameter:+word} # ${parameter}不为空时用${word}替换替换\n```\n\n## 截取\n1. `${parameter%word}`  \n最小限度从后面截去`${word}`，也就是说，从右向左，截去第一个出现的`${word}`及其右边的内容，保留左边的内容。\n2. `${parameter%%word}`  \n最大限度从后面截去`${word}`，也就是说，从右向左，截去最后一个出现的`${word}`及其右边的内容，保留左边的内容。\n3. `${parameter#word}`\n最小限度从前面截去`${word}`，也就是说，从左向右，截去第一个出现的`${word}`及其左边的内容，保留右边的内容。  \n4. `${parameter##word}`\n最大限度从前面截去`${word}`，也就是说，从左向右，截去最后一个出现的`${word}`及其左边的内容，保留右边的内容。  \n5. `${parameter:offset}`或`${parameter:offset:length}`\n从偏移量`${offset}`开始获得子序列，如果指定了`${length}`，则返回指定长度的子序列。当`${offset}`为负数时，为了避免和`${parameter:-word}`冲突，往往在`:`后加一个`0`或者空格。\n\n## 杂项\n```bash\n${#parameter} # 获取字符串的长度\n```","source":"_posts/shell的字符串处理.md","raw":"title: shell的字符串处理\nauthor: Creling\ntoc: true\ntags:\n  - shell\ncategories:\n  - Linux\ndate: 2020-01-17 12:46:00\n---\n**摘要** 借助`${expression}`表达式进行字符串操作的一些方法\n<!--more-->\n\n## 替换\n```bash\n${parameter:-word} # ${parameter}为空时用${word}替换\n${parameter:=word} # ${parameter}为空时用${word}替换，并将值赋给$parameter变量\n${parameter:?word} # ${parameter}为空时,以标准错误的方式输出${word}\n${parameter:+word} # ${parameter}不为空时用${word}替换替换\n```\n\n## 截取\n1. `${parameter%word}`  \n最小限度从后面截去`${word}`，也就是说，从右向左，截去第一个出现的`${word}`及其右边的内容，保留左边的内容。\n2. `${parameter%%word}`  \n最大限度从后面截去`${word}`，也就是说，从右向左，截去最后一个出现的`${word}`及其右边的内容，保留左边的内容。\n3. `${parameter#word}`\n最小限度从前面截去`${word}`，也就是说，从左向右，截去第一个出现的`${word}`及其左边的内容，保留右边的内容。  \n4. `${parameter##word}`\n最大限度从前面截去`${word}`，也就是说，从左向右，截去最后一个出现的`${word}`及其左边的内容，保留右边的内容。  \n5. `${parameter:offset}`或`${parameter:offset:length}`\n从偏移量`${offset}`开始获得子序列，如果指定了`${length}`，则返回指定长度的子序列。当`${offset}`为负数时，为了避免和`${parameter:-word}`冲突，往往在`:`后加一个`0`或者空格。\n\n## 杂项\n```bash\n${#parameter} # 获取字符串的长度\n```","slug":"shell的字符串处理","published":1,"updated":"2020-02-10T09:33:16.764Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbq4kq000vtooj6fq99hge","content":"<p><strong>摘要</strong> 借助<code>${expression}</code>表达式进行字符串操作的一些方法</p>\n<a id=\"more\"></a>\n\n<h2 id=\"替换\"><a href=\"#替换\" class=\"headerlink\" title=\"替换\"></a>替换</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$&#123;parameter:-word&#125;</span> <span class=\"comment\"># $&#123;parameter&#125;为空时用$&#123;word&#125;替换</span></span><br><span class=\"line\"><span class=\"variable\">$&#123;parameter:=word&#125;</span> <span class=\"comment\"># $&#123;parameter&#125;为空时用$&#123;word&#125;替换，并将值赋给$parameter变量</span></span><br><span class=\"line\"><span class=\"variable\">$&#123;parameter:?word&#125;</span> <span class=\"comment\"># $&#123;parameter&#125;为空时,以标准错误的方式输出$&#123;word&#125;</span></span><br><span class=\"line\"><span class=\"variable\">$&#123;parameter:+word&#125;</span> <span class=\"comment\"># $&#123;parameter&#125;不为空时用$&#123;word&#125;替换替换</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"截取\"><a href=\"#截取\" class=\"headerlink\" title=\"截取\"></a>截取</h2><ol>\n<li><code>${parameter%word}</code><br>最小限度从后面截去<code>${word}</code>，也就是说，从右向左，截去第一个出现的<code>${word}</code>及其右边的内容，保留左边的内容。</li>\n<li><code>${parameter%%word}</code><br>最大限度从后面截去<code>${word}</code>，也就是说，从右向左，截去最后一个出现的<code>${word}</code>及其右边的内容，保留左边的内容。</li>\n<li><code>${parameter#word}</code><br>最小限度从前面截去<code>${word}</code>，也就是说，从左向右，截去第一个出现的<code>${word}</code>及其左边的内容，保留右边的内容。  </li>\n<li><code>${parameter##word}</code><br>最大限度从前面截去<code>${word}</code>，也就是说，从左向右，截去最后一个出现的<code>${word}</code>及其左边的内容，保留右边的内容。  </li>\n<li><code>${parameter:offset}</code>或<code>${parameter:offset:length}</code><br>从偏移量<code>${offset}</code>开始获得子序列，如果指定了<code>${length}</code>，则返回指定长度的子序列。当<code>${offset}</code>为负数时，为了避免和<code>${parameter:-word}</code>冲突，往往在<code>:</code>后加一个<code>0</code>或者空格。</li>\n</ol>\n<h2 id=\"杂项\"><a href=\"#杂项\" class=\"headerlink\" title=\"杂项\"></a>杂项</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$&#123;#parameter&#125;</span> <span class=\"comment\"># 获取字符串的长度</span></span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<p><strong>摘要</strong> 借助<code>${expression}</code>表达式进行字符串操作的一些方法</p>","more":"<h2 id=\"替换\"><a href=\"#替换\" class=\"headerlink\" title=\"替换\"></a>替换</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$&#123;parameter:-word&#125;</span> <span class=\"comment\"># $&#123;parameter&#125;为空时用$&#123;word&#125;替换</span></span><br><span class=\"line\"><span class=\"variable\">$&#123;parameter:=word&#125;</span> <span class=\"comment\"># $&#123;parameter&#125;为空时用$&#123;word&#125;替换，并将值赋给$parameter变量</span></span><br><span class=\"line\"><span class=\"variable\">$&#123;parameter:?word&#125;</span> <span class=\"comment\"># $&#123;parameter&#125;为空时,以标准错误的方式输出$&#123;word&#125;</span></span><br><span class=\"line\"><span class=\"variable\">$&#123;parameter:+word&#125;</span> <span class=\"comment\"># $&#123;parameter&#125;不为空时用$&#123;word&#125;替换替换</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"截取\"><a href=\"#截取\" class=\"headerlink\" title=\"截取\"></a>截取</h2><ol>\n<li><code>${parameter%word}</code><br>最小限度从后面截去<code>${word}</code>，也就是说，从右向左，截去第一个出现的<code>${word}</code>及其右边的内容，保留左边的内容。</li>\n<li><code>${parameter%%word}</code><br>最大限度从后面截去<code>${word}</code>，也就是说，从右向左，截去最后一个出现的<code>${word}</code>及其右边的内容，保留左边的内容。</li>\n<li><code>${parameter#word}</code><br>最小限度从前面截去<code>${word}</code>，也就是说，从左向右，截去第一个出现的<code>${word}</code>及其左边的内容，保留右边的内容。  </li>\n<li><code>${parameter##word}</code><br>最大限度从前面截去<code>${word}</code>，也就是说，从左向右，截去最后一个出现的<code>${word}</code>及其左边的内容，保留右边的内容。  </li>\n<li><code>${parameter:offset}</code>或<code>${parameter:offset:length}</code><br>从偏移量<code>${offset}</code>开始获得子序列，如果指定了<code>${length}</code>，则返回指定长度的子序列。当<code>${offset}</code>为负数时，为了避免和<code>${parameter:-word}</code>冲突，往往在<code>:</code>后加一个<code>0</code>或者空格。</li>\n</ol>\n<h2 id=\"杂项\"><a href=\"#杂项\" class=\"headerlink\" title=\"杂项\"></a>杂项</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$&#123;#parameter&#125;</span> <span class=\"comment\"># 获取字符串的长度</span></span><br></pre></td></tr></table></figure>"},{"title":"Linux下的几款服务器监控工具","url":"221.html","id":"221","toc":"true","date":"2019-02-03T04:35:00.000Z","_content":"这里所说的监控网站，是指可以显示cpu用量，内存用量等系统信息的监控网站，若是仅仅需要检查服务器是否在线，则uptimeRobot是最好的选择。  \n\n<!--more-->\n\n## 1.Pinguzo\n\n\t特色在于显示的信息极其详尽，但也因此显得操作有些复杂\n\n## 2.Nodequery\n\n## 3.Hetrixtools\n\nhttps://anturis.com \nhttps://nodequery.com \nhttps://cp.pinguzo.com","source":"_posts/trashed-2.md","raw":"title: Linux下的几款服务器监控工具\nurl: 221.html\nid: 221\ncategories:\n  - vps\ntags: []\ntoc: 'true'\ndate: 2019-02-03 12:35:00\n---\n这里所说的监控网站，是指可以显示cpu用量，内存用量等系统信息的监控网站，若是仅仅需要检查服务器是否在线，则uptimeRobot是最好的选择。  \n\n<!--more-->\n\n## 1.Pinguzo\n\n\t特色在于显示的信息极其详尽，但也因此显得操作有些复杂\n\n## 2.Nodequery\n\n## 3.Hetrixtools\n\nhttps://anturis.com \nhttps://nodequery.com \nhttps://cp.pinguzo.com","slug":"trashed-2","published":1,"updated":"2020-02-10T09:33:16.764Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbq4kt000xtoojbyu85o1s","content":"<p>这里所说的监控网站，是指可以显示cpu用量，内存用量等系统信息的监控网站，若是仅仅需要检查服务器是否在线，则uptimeRobot是最好的选择。  </p>\n<a id=\"more\"></a>\n\n<h2 id=\"1-Pinguzo\"><a href=\"#1-Pinguzo\" class=\"headerlink\" title=\"1.Pinguzo\"></a>1.Pinguzo</h2><pre><code>特色在于显示的信息极其详尽，但也因此显得操作有些复杂</code></pre><h2 id=\"2-Nodequery\"><a href=\"#2-Nodequery\" class=\"headerlink\" title=\"2.Nodequery\"></a>2.Nodequery</h2><h2 id=\"3-Hetrixtools\"><a href=\"#3-Hetrixtools\" class=\"headerlink\" title=\"3.Hetrixtools\"></a>3.Hetrixtools</h2><p><a href=\"https://anturis.com\" target=\"_blank\" rel=\"noopener\">https://anturis.com</a><br><a href=\"https://nodequery.com\" target=\"_blank\" rel=\"noopener\">https://nodequery.com</a><br><a href=\"https://cp.pinguzo.com\" target=\"_blank\" rel=\"noopener\">https://cp.pinguzo.com</a></p>\n","site":{"data":{}},"excerpt":"<p>这里所说的监控网站，是指可以显示cpu用量，内存用量等系统信息的监控网站，若是仅仅需要检查服务器是否在线，则uptimeRobot是最好的选择。  </p>","more":"<h2 id=\"1-Pinguzo\"><a href=\"#1-Pinguzo\" class=\"headerlink\" title=\"1.Pinguzo\"></a>1.Pinguzo</h2><pre><code>特色在于显示的信息极其详尽，但也因此显得操作有些复杂</code></pre><h2 id=\"2-Nodequery\"><a href=\"#2-Nodequery\" class=\"headerlink\" title=\"2.Nodequery\"></a>2.Nodequery</h2><h2 id=\"3-Hetrixtools\"><a href=\"#3-Hetrixtools\" class=\"headerlink\" title=\"3.Hetrixtools\"></a>3.Hetrixtools</h2><p><a href=\"https://anturis.com\" target=\"_blank\" rel=\"noopener\">https://anturis.com</a><br><a href=\"https://nodequery.com\" target=\"_blank\" rel=\"noopener\">https://nodequery.com</a><br><a href=\"https://cp.pinguzo.com\" target=\"_blank\" rel=\"noopener\">https://cp.pinguzo.com</a></p>"},{"title":"xfs文件系统移动分区","url":"467.html","id":"467","date":"2019-08-05T12:52:00.000Z","_content":"\n本文的适用于xfs文件系统（ext*文件系统可以直接用`parted`进行分区移动）\n\n<!--more-->\n\n步骤\n\n1.  进入救援模式\n2.  备份原本的分区（以`/dev/vd2`为例）\n\n    dd if=/dev/vda2 of=/root/temp/vda2.bak\n    \n\n3.  删除原本的vda2分区，重新划分分区表\n4.  还原先前的分区\n\n    dd if=/root/temp/vda2.bak of=/dev/vda2","source":"_posts/xfs文件系统移动分区.md","raw":"title: xfs文件系统移动分区\nurl: 467.html\nid: 467\ncategories:\n  - Linux\n  - ''\ntags: []\ndate: 2019-08-05 20:52:00\n---\n\n本文的适用于xfs文件系统（ext*文件系统可以直接用`parted`进行分区移动）\n\n<!--more-->\n\n步骤\n\n1.  进入救援模式\n2.  备份原本的分区（以`/dev/vd2`为例）\n\n    dd if=/dev/vda2 of=/root/temp/vda2.bak\n    \n\n3.  删除原本的vda2分区，重新划分分区表\n4.  还原先前的分区\n\n    dd if=/root/temp/vda2.bak of=/dev/vda2","slug":"xfs文件系统移动分区","published":1,"updated":"2020-02-10T09:33:16.764Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbq4l30010tooj2hd43d0o","content":"<p>本文的适用于xfs文件系统（ext*文件系统可以直接用<code>parted</code>进行分区移动）</p>\n<a id=\"more\"></a>\n\n<p>步骤</p>\n<ol>\n<li><p>进入救援模式</p>\n</li>\n<li><p>备份原本的分区（以<code>/dev/vd2</code>为例）</p>\n<p>dd if=/dev/vda2 of=/root/temp/vda2.bak</p>\n</li>\n</ol>\n<ol start=\"3\">\n<li><p>删除原本的vda2分区，重新划分分区表</p>\n</li>\n<li><p>还原先前的分区</p>\n<p>dd if=/root/temp/vda2.bak of=/dev/vda2</p>\n</li>\n</ol>\n","site":{"data":{}},"excerpt":"<p>本文的适用于xfs文件系统（ext*文件系统可以直接用<code>parted</code>进行分区移动）</p>","more":"<p>步骤</p>\n<ol>\n<li><p>进入救援模式</p>\n</li>\n<li><p>备份原本的分区（以<code>/dev/vd2</code>为例）</p>\n<p>dd if=/dev/vda2 of=/root/temp/vda2.bak</p>\n</li>\n</ol>\n<ol start=\"3\">\n<li><p>删除原本的vda2分区，重新划分分区表</p>\n</li>\n<li><p>还原先前的分区</p>\n<p>dd if=/root/temp/vda2.bak of=/dev/vda2</p>\n</li>\n</ol>"},{"title":"ztsh项目完成后的一些感悟","url":"456.html","id":"456","date":"2019-07-13T07:31:37.000Z","_content":"因为接了腾讯的兼职任务，之前一段时间一直在做一个反向代理的管理平台，项目完成之后也积累了一些感悟，特此记录，免得日后忘却。\n<!--more-->\n\n正文\n--\n\n### 阶段一\n\n这段时间，目标主要是对标nc，也就是bash+管道重定向，相对而言比较简单，主要涉及了 - Django框架的使用 - xtermjs前端库的使用 - jinja2模板渲染引擎的使用 - websocket的接触与使用（django的channels模块） 大概花了三天完成了主要工作，前端设计套用了现成的模板。但和腾讯方接触的时候，发现不符合要求。单纯的管道重定向无法支持sudo，vim等操作，于是废弃之前的代码，从伪终端入手，重构整个项目。\n\n### 阶段二\n\n主要学习了伪终端，了解伪终端的时候查看了这篇文章，帮助很大，[Linux 的伪终端的基本原理 及其在远程登录（SSH，telnet等）中的应用](https://www.cnblogs.com/zzdyyy/p/7538077.html)，主要是对伪终端有了一个概念。 后来查阅相关资料，准备用python完成伪终端的制作，却发现python关于这方面的资料很少，最终决定修改GitHub上的[orangetw/tsh](https://github.com/orangetw/tsh)项目。 修改项目的过程中遇到了一些坑，也给我提了一个醒： **修改项目之前一定要通读全项目，不要觉得看懂了项目的逻辑就开始修改，不然你永远不知道项目哪里是不是有一行代码会坑你！！** 遇到过一个问题，在一个线程中accept一个socket，然后recv没有问题，结果把这个socket传送到其他线程再recv就出现了问题，debug了很久，最终发现recv的wrapper有一个alarm定时器，传送socket的过程已经超时了。","source":"_posts/ztsh项目完成后的一些感悟.md","raw":"title: ztsh项目完成后的一些感悟\nurl: 456.html\nid: 456\ncategories:\n  - Linux &amp; VPS\ndate: 2019-07-13 15:31:37\ntags:\n---\n因为接了腾讯的兼职任务，之前一段时间一直在做一个反向代理的管理平台，项目完成之后也积累了一些感悟，特此记录，免得日后忘却。\n<!--more-->\n\n正文\n--\n\n### 阶段一\n\n这段时间，目标主要是对标nc，也就是bash+管道重定向，相对而言比较简单，主要涉及了 - Django框架的使用 - xtermjs前端库的使用 - jinja2模板渲染引擎的使用 - websocket的接触与使用（django的channels模块） 大概花了三天完成了主要工作，前端设计套用了现成的模板。但和腾讯方接触的时候，发现不符合要求。单纯的管道重定向无法支持sudo，vim等操作，于是废弃之前的代码，从伪终端入手，重构整个项目。\n\n### 阶段二\n\n主要学习了伪终端，了解伪终端的时候查看了这篇文章，帮助很大，[Linux 的伪终端的基本原理 及其在远程登录（SSH，telnet等）中的应用](https://www.cnblogs.com/zzdyyy/p/7538077.html)，主要是对伪终端有了一个概念。 后来查阅相关资料，准备用python完成伪终端的制作，却发现python关于这方面的资料很少，最终决定修改GitHub上的[orangetw/tsh](https://github.com/orangetw/tsh)项目。 修改项目的过程中遇到了一些坑，也给我提了一个醒： **修改项目之前一定要通读全项目，不要觉得看懂了项目的逻辑就开始修改，不然你永远不知道项目哪里是不是有一行代码会坑你！！** 遇到过一个问题，在一个线程中accept一个socket，然后recv没有问题，结果把这个socket传送到其他线程再recv就出现了问题，debug了很久，最终发现recv的wrapper有一个alarm定时器，传送socket的过程已经超时了。","slug":"ztsh项目完成后的一些感悟","published":1,"updated":"2020-02-10T09:33:16.765Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbq4l80013toojb2sjccsb","content":"<p>因为接了腾讯的兼职任务，之前一段时间一直在做一个反向代理的管理平台，项目完成之后也积累了一些感悟，特此记录，免得日后忘却。</p>\n<a id=\"more\"></a>\n\n<h2 id=\"正文\"><a href=\"#正文\" class=\"headerlink\" title=\"正文\"></a>正文</h2><h3 id=\"阶段一\"><a href=\"#阶段一\" class=\"headerlink\" title=\"阶段一\"></a>阶段一</h3><p>这段时间，目标主要是对标nc，也就是bash+管道重定向，相对而言比较简单，主要涉及了 - Django框架的使用 - xtermjs前端库的使用 - jinja2模板渲染引擎的使用 - websocket的接触与使用（django的channels模块） 大概花了三天完成了主要工作，前端设计套用了现成的模板。但和腾讯方接触的时候，发现不符合要求。单纯的管道重定向无法支持sudo，vim等操作，于是废弃之前的代码，从伪终端入手，重构整个项目。</p>\n<h3 id=\"阶段二\"><a href=\"#阶段二\" class=\"headerlink\" title=\"阶段二\"></a>阶段二</h3><p>主要学习了伪终端，了解伪终端的时候查看了这篇文章，帮助很大，<a href=\"https://www.cnblogs.com/zzdyyy/p/7538077.html\" target=\"_blank\" rel=\"noopener\">Linux 的伪终端的基本原理 及其在远程登录（SSH，telnet等）中的应用</a>，主要是对伪终端有了一个概念。 后来查阅相关资料，准备用python完成伪终端的制作，却发现python关于这方面的资料很少，最终决定修改GitHub上的<a href=\"https://github.com/orangetw/tsh\" target=\"_blank\" rel=\"noopener\">orangetw/tsh</a>项目。 修改项目的过程中遇到了一些坑，也给我提了一个醒： <strong>修改项目之前一定要通读全项目，不要觉得看懂了项目的逻辑就开始修改，不然你永远不知道项目哪里是不是有一行代码会坑你！！</strong> 遇到过一个问题，在一个线程中accept一个socket，然后recv没有问题，结果把这个socket传送到其他线程再recv就出现了问题，debug了很久，最终发现recv的wrapper有一个alarm定时器，传送socket的过程已经超时了。</p>\n","site":{"data":{}},"excerpt":"<p>因为接了腾讯的兼职任务，之前一段时间一直在做一个反向代理的管理平台，项目完成之后也积累了一些感悟，特此记录，免得日后忘却。</p>","more":"<h2 id=\"正文\"><a href=\"#正文\" class=\"headerlink\" title=\"正文\"></a>正文</h2><h3 id=\"阶段一\"><a href=\"#阶段一\" class=\"headerlink\" title=\"阶段一\"></a>阶段一</h3><p>这段时间，目标主要是对标nc，也就是bash+管道重定向，相对而言比较简单，主要涉及了 - Django框架的使用 - xtermjs前端库的使用 - jinja2模板渲染引擎的使用 - websocket的接触与使用（django的channels模块） 大概花了三天完成了主要工作，前端设计套用了现成的模板。但和腾讯方接触的时候，发现不符合要求。单纯的管道重定向无法支持sudo，vim等操作，于是废弃之前的代码，从伪终端入手，重构整个项目。</p>\n<h3 id=\"阶段二\"><a href=\"#阶段二\" class=\"headerlink\" title=\"阶段二\"></a>阶段二</h3><p>主要学习了伪终端，了解伪终端的时候查看了这篇文章，帮助很大，<a href=\"https://www.cnblogs.com/zzdyyy/p/7538077.html\" target=\"_blank\" rel=\"noopener\">Linux 的伪终端的基本原理 及其在远程登录（SSH，telnet等）中的应用</a>，主要是对伪终端有了一个概念。 后来查阅相关资料，准备用python完成伪终端的制作，却发现python关于这方面的资料很少，最终决定修改GitHub上的<a href=\"https://github.com/orangetw/tsh\" target=\"_blank\" rel=\"noopener\">orangetw/tsh</a>项目。 修改项目的过程中遇到了一些坑，也给我提了一个醒： <strong>修改项目之前一定要通读全项目，不要觉得看懂了项目的逻辑就开始修改，不然你永远不知道项目哪里是不是有一行代码会坑你！！</strong> 遇到过一个问题，在一个线程中accept一个socket，然后recv没有问题，结果把这个socket传送到其他线程再recv就出现了问题，debug了很久，最终发现recv的wrapper有一个alarm定时器，传送socket的过程已经超时了。</p>"},{"title":"【CentOS7】给Linux服务器安装图形界面","url":"188.html","id":"188","date":"2018-09-01T06:16:13.000Z","_content":"**摘要：** 提供了给Linux服务器安装图形界面的一种方法\n\n如果说想要给本地的Linux发行版安装图形界面的话，是一件非常简单的事情，安装完成后，使用快捷键ctrl+F1/2/3/4便可以切换图形界面与命令行界面了。若是给远程Linux服务器安装图形界面的话，“安装图形界面”这个操作本身，其实和给本地Linux系统安装图形界面没有差别。但若是想要能够远程连接上图形界面，便要废一番周折了，毕竟，Linux系统可没有微软的远程桌面连接，xshell之类的ssh客户端也并不支持图形化界面。\n\n### 安装图形界面\n\n```bash\nyum groupinstall \"X Window System\" //安装X(X Window System) yum groupinstall \"GNOME Desktop\"\n```\n\n### 安装、配置 VNC\n\n1. 安装 VNC\n\t```\n\tyum install tigervnc-server\n    ```\n\n2. 配置 VNCServer\n\t```\n\tcp /lib/systemd/system/vncserver@.service /etc/systemd/system/vncserver@:1.service vi /etc/systemd/system/vncserver@:1.service\n    ```\n\n\n\n\n将文件修改为如下内容 （主要是将原文件中的 <>修改为 root）\n\n```ini\n    [Unit]\n    Description=Remote desktop service (VNC)\n    After=syslog.target network.target\n    \n    [Service]\n    Type=forking\n    # Clean any existing files in /tmp/.X11-unix environment\n    ExecStartPre=/bin/sh -c '/usr/bin/vncserver -kill %i > /dev/null 2>&1 || :'\n    ExecStart=/usr/sbin/runuser -l root -c \"/usr/bin/vncserver %i\"\n    PIDFile=/root/.vnc/%H%i.pid\n    ExecStop=/bin/sh -c '/usr/bin/vncserver -kill %i > /dev/null 2>&1 || :'\n```\n    \n\n接着\n\n> systemctl daemon-reload //更新systemctl以使其生效 vncpasswd root //设置vncserver的密码\n\n*   使用 VNCServer\n\n> systemctl start vncserver@:1.service // 启动VNC ；或者 vncserver :1 systemctl stop vncserver@:1.service // 停止VNC ；或者 vncserver -kill :1 systemctl enable vncserver@:1.service //设置为开机自动启动\n\n*   关于VNC的其他命令\n\n修改VNC界面的分辨率\n\n> vi /usr/bin/vncserver\n\n找到默认的1024*768修改为自己显示器的分辨率，并重启。 ps: 旧版本中可以通过修改配置文件`/etc/sysconfig/vncservers`来修改分辨率，但是在新版本中，此配置文件已被 弃用\n\n#### 参考资料\n\n[Linux CentOS 7的图形界面安装（GNOME、KDE等）](https://jingyan.baidu.com/article/0964eca26fc3b38284f53642.html) [CentOS7下安装配置vncserver](https://www.cnblogs.com/luhouxiang/p/4829443.html) [修改VNCSERVER 默认的分辨率的方法](https://www.cnblogs.com/del88/p/5656356.html)","source":"_posts/【CentOS7】给Linux服务器安装图形界面.md","raw":"title: 【CentOS7】给Linux服务器安装图形界面\nurl: 188.html\nid: 188\ncategories:\n  - Linux &amp; VPS\ndate: 2018-09-01 14:16:13\ntags:\n---\n**摘要：** 提供了给Linux服务器安装图形界面的一种方法\n\n如果说想要给本地的Linux发行版安装图形界面的话，是一件非常简单的事情，安装完成后，使用快捷键ctrl+F1/2/3/4便可以切换图形界面与命令行界面了。若是给远程Linux服务器安装图形界面的话，“安装图形界面”这个操作本身，其实和给本地Linux系统安装图形界面没有差别。但若是想要能够远程连接上图形界面，便要废一番周折了，毕竟，Linux系统可没有微软的远程桌面连接，xshell之类的ssh客户端也并不支持图形化界面。\n\n### 安装图形界面\n\n```bash\nyum groupinstall \"X Window System\" //安装X(X Window System) yum groupinstall \"GNOME Desktop\"\n```\n\n### 安装、配置 VNC\n\n1. 安装 VNC\n\t```\n\tyum install tigervnc-server\n    ```\n\n2. 配置 VNCServer\n\t```\n\tcp /lib/systemd/system/vncserver@.service /etc/systemd/system/vncserver@:1.service vi /etc/systemd/system/vncserver@:1.service\n    ```\n\n\n\n\n将文件修改为如下内容 （主要是将原文件中的 <>修改为 root）\n\n```ini\n    [Unit]\n    Description=Remote desktop service (VNC)\n    After=syslog.target network.target\n    \n    [Service]\n    Type=forking\n    # Clean any existing files in /tmp/.X11-unix environment\n    ExecStartPre=/bin/sh -c '/usr/bin/vncserver -kill %i > /dev/null 2>&1 || :'\n    ExecStart=/usr/sbin/runuser -l root -c \"/usr/bin/vncserver %i\"\n    PIDFile=/root/.vnc/%H%i.pid\n    ExecStop=/bin/sh -c '/usr/bin/vncserver -kill %i > /dev/null 2>&1 || :'\n```\n    \n\n接着\n\n> systemctl daemon-reload //更新systemctl以使其生效 vncpasswd root //设置vncserver的密码\n\n*   使用 VNCServer\n\n> systemctl start vncserver@:1.service // 启动VNC ；或者 vncserver :1 systemctl stop vncserver@:1.service // 停止VNC ；或者 vncserver -kill :1 systemctl enable vncserver@:1.service //设置为开机自动启动\n\n*   关于VNC的其他命令\n\n修改VNC界面的分辨率\n\n> vi /usr/bin/vncserver\n\n找到默认的1024*768修改为自己显示器的分辨率，并重启。 ps: 旧版本中可以通过修改配置文件`/etc/sysconfig/vncservers`来修改分辨率，但是在新版本中，此配置文件已被 弃用\n\n#### 参考资料\n\n[Linux CentOS 7的图形界面安装（GNOME、KDE等）](https://jingyan.baidu.com/article/0964eca26fc3b38284f53642.html) [CentOS7下安装配置vncserver](https://www.cnblogs.com/luhouxiang/p/4829443.html) [修改VNCSERVER 默认的分辨率的方法](https://www.cnblogs.com/del88/p/5656356.html)","slug":"【CentOS7】给Linux服务器安装图形界面","published":1,"updated":"2020-02-10T09:33:16.765Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbq4mf0015tooj7qgkhouj","content":"<p><strong>摘要：</strong> 提供了给Linux服务器安装图形界面的一种方法</p>\n<p>如果说想要给本地的Linux发行版安装图形界面的话，是一件非常简单的事情，安装完成后，使用快捷键ctrl+F1/2/3/4便可以切换图形界面与命令行界面了。若是给远程Linux服务器安装图形界面的话，“安装图形界面”这个操作本身，其实和给本地Linux系统安装图形界面没有差别。但若是想要能够远程连接上图形界面，便要废一番周折了，毕竟，Linux系统可没有微软的远程桌面连接，xshell之类的ssh客户端也并不支持图形化界面。</p>\n<h3 id=\"安装图形界面\"><a href=\"#安装图形界面\" class=\"headerlink\" title=\"安装图形界面\"></a>安装图形界面</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum groupinstall <span class=\"string\">\"X Window System\"</span> //安装X(X Window System) yum groupinstall <span class=\"string\">\"GNOME Desktop\"</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"安装、配置-VNC\"><a href=\"#安装、配置-VNC\" class=\"headerlink\" title=\"安装、配置 VNC\"></a>安装、配置 VNC</h3><ol>\n<li><p>安装 VNC</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install tigervnc-server</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>配置 VNCServer</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cp &#x2F;lib&#x2F;systemd&#x2F;system&#x2F;vncserver@.service &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;vncserver@:1.service vi &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;vncserver@:1.service</span><br></pre></td></tr></table></figure>\n\n\n\n\n</li>\n</ol>\n<p>将文件修改为如下内容 （主要是将原文件中的 &lt;&gt;修改为 root）</p>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">[Unit]</span></span><br><span class=\"line\"><span class=\"attr\">Description</span>=Remote desktop service (VNC)</span><br><span class=\"line\"><span class=\"attr\">After</span>=syslog.target network.target</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">[Service]</span></span><br><span class=\"line\"><span class=\"attr\">Type</span>=forking</span><br><span class=\"line\"><span class=\"comment\"># Clean any existing files in /tmp/.X11-unix environment</span></span><br><span class=\"line\"><span class=\"attr\">ExecStartPre</span>=/bin/sh -c <span class=\"string\">'/usr/bin/vncserver -kill %i &gt; /dev/null 2&gt;&amp;1 || :'</span></span><br><span class=\"line\"><span class=\"attr\">ExecStart</span>=/usr/sbin/runuser -l root -c <span class=\"string\">\"/usr/bin/vncserver %i\"</span></span><br><span class=\"line\"><span class=\"attr\">PIDFile</span>=/root/.vnc/%H%i.pid</span><br><span class=\"line\"><span class=\"attr\">ExecStop</span>=/bin/sh -c <span class=\"string\">'/usr/bin/vncserver -kill %i &gt; /dev/null 2&gt;&amp;1 || :'</span></span><br></pre></td></tr></table></figure>\n\n\n<p>接着</p>\n<blockquote>\n<p>systemctl daemon-reload //更新systemctl以使其生效 vncpasswd root //设置vncserver的密码</p>\n</blockquote>\n<ul>\n<li>使用 VNCServer</li>\n</ul>\n<blockquote>\n<p>systemctl start vncserver@:1.service // 启动VNC ；或者 vncserver :1 systemctl stop vncserver@:1.service // 停止VNC ；或者 vncserver -kill :1 systemctl enable vncserver@:1.service //设置为开机自动启动</p>\n</blockquote>\n<ul>\n<li>关于VNC的其他命令</li>\n</ul>\n<p>修改VNC界面的分辨率</p>\n<blockquote>\n<p>vi /usr/bin/vncserver</p>\n</blockquote>\n<p>找到默认的1024*768修改为自己显示器的分辨率，并重启。 ps: 旧版本中可以通过修改配置文件<code>/etc/sysconfig/vncservers</code>来修改分辨率，但是在新版本中，此配置文件已被 弃用</p>\n<h4 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h4><p><a href=\"https://jingyan.baidu.com/article/0964eca26fc3b38284f53642.html\" target=\"_blank\" rel=\"noopener\">Linux CentOS 7的图形界面安装（GNOME、KDE等）</a> <a href=\"https://www.cnblogs.com/luhouxiang/p/4829443.html\" target=\"_blank\" rel=\"noopener\">CentOS7下安装配置vncserver</a> <a href=\"https://www.cnblogs.com/del88/p/5656356.html\" target=\"_blank\" rel=\"noopener\">修改VNCSERVER 默认的分辨率的方法</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p><strong>摘要：</strong> 提供了给Linux服务器安装图形界面的一种方法</p>\n<p>如果说想要给本地的Linux发行版安装图形界面的话，是一件非常简单的事情，安装完成后，使用快捷键ctrl+F1/2/3/4便可以切换图形界面与命令行界面了。若是给远程Linux服务器安装图形界面的话，“安装图形界面”这个操作本身，其实和给本地Linux系统安装图形界面没有差别。但若是想要能够远程连接上图形界面，便要废一番周折了，毕竟，Linux系统可没有微软的远程桌面连接，xshell之类的ssh客户端也并不支持图形化界面。</p>\n<h3 id=\"安装图形界面\"><a href=\"#安装图形界面\" class=\"headerlink\" title=\"安装图形界面\"></a>安装图形界面</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum groupinstall <span class=\"string\">\"X Window System\"</span> //安装X(X Window System) yum groupinstall <span class=\"string\">\"GNOME Desktop\"</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"安装、配置-VNC\"><a href=\"#安装、配置-VNC\" class=\"headerlink\" title=\"安装、配置 VNC\"></a>安装、配置 VNC</h3><ol>\n<li><p>安装 VNC</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install tigervnc-server</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>配置 VNCServer</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cp &#x2F;lib&#x2F;systemd&#x2F;system&#x2F;vncserver@.service &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;vncserver@:1.service vi &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;vncserver@:1.service</span><br></pre></td></tr></table></figure>\n\n\n\n\n</li>\n</ol>\n<p>将文件修改为如下内容 （主要是将原文件中的 &lt;&gt;修改为 root）</p>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">[Unit]</span></span><br><span class=\"line\"><span class=\"attr\">Description</span>=Remote desktop service (VNC)</span><br><span class=\"line\"><span class=\"attr\">After</span>=syslog.target network.target</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">[Service]</span></span><br><span class=\"line\"><span class=\"attr\">Type</span>=forking</span><br><span class=\"line\"><span class=\"comment\"># Clean any existing files in /tmp/.X11-unix environment</span></span><br><span class=\"line\"><span class=\"attr\">ExecStartPre</span>=/bin/sh -c <span class=\"string\">'/usr/bin/vncserver -kill %i &gt; /dev/null 2&gt;&amp;1 || :'</span></span><br><span class=\"line\"><span class=\"attr\">ExecStart</span>=/usr/sbin/runuser -l root -c <span class=\"string\">\"/usr/bin/vncserver %i\"</span></span><br><span class=\"line\"><span class=\"attr\">PIDFile</span>=/root/.vnc/%H%i.pid</span><br><span class=\"line\"><span class=\"attr\">ExecStop</span>=/bin/sh -c <span class=\"string\">'/usr/bin/vncserver -kill %i &gt; /dev/null 2&gt;&amp;1 || :'</span></span><br></pre></td></tr></table></figure>\n\n\n<p>接着</p>\n<blockquote>\n<p>systemctl daemon-reload //更新systemctl以使其生效 vncpasswd root //设置vncserver的密码</p>\n</blockquote>\n<ul>\n<li>使用 VNCServer</li>\n</ul>\n<blockquote>\n<p>systemctl start vncserver@:1.service // 启动VNC ；或者 vncserver :1 systemctl stop vncserver@:1.service // 停止VNC ；或者 vncserver -kill :1 systemctl enable vncserver@:1.service //设置为开机自动启动</p>\n</blockquote>\n<ul>\n<li>关于VNC的其他命令</li>\n</ul>\n<p>修改VNC界面的分辨率</p>\n<blockquote>\n<p>vi /usr/bin/vncserver</p>\n</blockquote>\n<p>找到默认的1024*768修改为自己显示器的分辨率，并重启。 ps: 旧版本中可以通过修改配置文件<code>/etc/sysconfig/vncservers</code>来修改分辨率，但是在新版本中，此配置文件已被 弃用</p>\n<h4 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h4><p><a href=\"https://jingyan.baidu.com/article/0964eca26fc3b38284f53642.html\" target=\"_blank\" rel=\"noopener\">Linux CentOS 7的图形界面安装（GNOME、KDE等）</a> <a href=\"https://www.cnblogs.com/luhouxiang/p/4829443.html\" target=\"_blank\" rel=\"noopener\">CentOS7下安装配置vncserver</a> <a href=\"https://www.cnblogs.com/del88/p/5656356.html\" target=\"_blank\" rel=\"noopener\">修改VNCSERVER 默认的分辨率的方法</a></p>\n"},{"title":"【Ceotos7】Linux下安装字体","url":"296.html","id":"296","date":"2019-01-28T02:38:34.000Z","_content":"\n> yum install -y fontconfig mkfontscale \n> cd /usr/share/fonts/ #将tff文件拷贝至该目录后\n> mkfontscale\n> mkfontdir\n> fc-cache \n> fc-list#查看已安装字体列表","source":"_posts/【Ceotos7】Linux下安装字体.md","raw":"---\ntitle: 【Ceotos7】Linux下安装字体\nurl: 296.html\nid: 296\ncategories:\n  - Linux &amp; VPS\ndate: 2019-01-28 10:38:34\ntags:\n---\n\n> yum install -y fontconfig mkfontscale \n> cd /usr/share/fonts/ #将tff文件拷贝至该目录后\n> mkfontscale\n> mkfontdir\n> fc-cache \n> fc-list#查看已安装字体列表","slug":"【Ceotos7】Linux下安装字体","published":1,"updated":"2020-02-10T09:33:16.765Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbq4mm0018toojbyzo5rds","content":"<blockquote>\n<p>yum install -y fontconfig mkfontscale<br>cd /usr/share/fonts/ #将tff文件拷贝至该目录后<br>mkfontscale<br>mkfontdir<br>fc-cache<br>fc-list#查看已安装字体列表</p>\n</blockquote>\n","site":{"data":{}},"excerpt":"","more":"<blockquote>\n<p>yum install -y fontconfig mkfontscale<br>cd /usr/share/fonts/ #将tff文件拷贝至该目录后<br>mkfontscale<br>mkfontdir<br>fc-cache<br>fc-list#查看已安装字体列表</p>\n</blockquote>\n"},{"title":"Debian下安装新内核及更换默认内核","author":"Creling","toc":"true","date":"2019-12-12T16:13:00.000Z","_content":"**摘要** 介绍了Debian下安装新内核及更换默认内核的方法\n\n<!--more-->\n\n## 安装新内核\n```bash\ndpkg -i *deb\n```\n\n## 修改默认内核\n1. 查看当前启动菜单\n\n  ```ini /boot/grub/grub.cfg\n  #\n  # DO NOT EDIT THIS FILE\n  #\n  # It is automatically generated by grub-mkconfig using templates\n  # from /etc/grub.d and settings from /etc/default/grub\n  #\n\n  ### BEGIN /etc/grub.d/00_header ###\n  if [ -s $prefix/grubenv ]; then\n    set have_grubenv=true\n    load_env\n  fi\n  if [ \"${next_entry}\" ] ; then\n     set default=\"${next_entry}\"\n     set next_entry=\n     save_env next_entry\n     set boot_once=true\n  else\n     set default=\"Advanced options for Debian GNU/Linux>Debian GNU/Linux, with Linux 4.14.129-bbrplus\"\n  fi\n\n  if [ x\"${feature_menuentry_id}\" = xy ]; then\n    menuentry_id_option=\"--id\"\n  else\n    menuentry_id_option=\"\"\n  fi\n\n  export menuentry_id_option\n\n  if [ \"${prev_saved_entry}\" ]; then\n    set saved_entry=\"${prev_saved_entry}\"\n    save_env saved_entry\n    set prev_saved_entry=\n    save_env prev_saved_entry\n    set boot_once=true\n  fi\n\n  function savedefault {\n    if [ -z \"${boot_once}\" ]; then\n      saved_entry=\"${chosen}\"\n      save_env saved_entry\n    fi\n  }\n  function load_video {\n    if [ x$feature_all_video_module = xy ]; then\n      insmod all_video\n    else\n      insmod efi_gop\n      insmod efi_uga\n      insmod ieee1275_fb\n      insmod vbe\n      insmod vga\n      insmod video_bochs\n      insmod video_cirrus\n    fi\n  }\n\n  if [ x$feature_default_font_path = xy ] ; then\n     font=unicode\n  else\n  insmod part_msdos\n  insmod ext2\n  if [ x$feature_platform_search_hint = xy ]; then\n    search --no-floppy --fs-uuid --set=root  027db92b-683c-47c8-8767-e1fc16ee6df7\n  else\n    search --no-floppy --fs-uuid --set=root 027db92b-683c-47c8-8767-e1fc16ee6df7\n  fi\n      font=\"/usr/share/grub/unicode.pf2\"\n  fi\n\n  if loadfont $font ; then\n    set gfxmode=auto\n    load_video\n    insmod gfxterm\n    set locale_dir=$prefix/locale\n    set lang=en_US\n    insmod gettext\n  fi\n  terminal_output gfxterm\n  if [ \"${recordfail}\" = 1 ] ; then\n    set timeout=30\n  else\n    if [ x$feature_timeout_style = xy ] ; then\n      set timeout_style=menu\n      set timeout=5\n    # Fallback normal timeout code in case the timeout_style feature is\n    # unavailable.\n    else\n      set timeout=5\n    fi\n  fi\n  ### END /etc/grub.d/00_header ###\n\n  ### BEGIN /etc/grub.d/05_debian_theme ###\n  set menu_color_normal=cyan/blue\n  set menu_color_highlight=white/blue\n  ### END /etc/grub.d/05_debian_theme ###\n\n  ### BEGIN /etc/grub.d/10_linux ###\n  function gfxmode {\n          set gfxpayload=\"${1}\"\n  }\n  set linux_gfx_mode=\n  export linux_gfx_mode\n  menuentry 'Debian GNU/Linux' --class debian --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-simple-027db92b-683c-47c8-8767-e1fc16ee6df7' {\n          load_video\n          insmod gzio\n          if [ x$grub_platform = xxen ]; then insmod xzio; insmod lzopio; fi\n          insmod part_msdos\n          insmod ext2\n          if [ x$feature_platform_search_hint = xy ]; then\n            search --no-floppy --fs-uuid --set=root  f9cae74d-6fc8-47c0-be89-00a237271167\n          else\n            search --no-floppy --fs-uuid --set=root f9cae74d-6fc8-47c0-be89-00a237271167\n          fi\n          echo    'Loading Linux 4.14.129-bbrplus ...'\n          linux   /vmlinuz-4.14.129-bbrplus root=UUID=027db92b-683c-47c8-8767-e1fc16ee6df7 ro  quiet\n          echo    'Loading initial ramdisk ...'\n          initrd  /initrd.img-4.14.129-bbrplus\n  }\n  submenu 'Advanced options for Debian GNU/Linux' $menuentry_id_option 'gnulinux-advanced-027db92b-683c-47c8-8767-e1fc16ee6df7' {\n          menuentry 'Debian GNU/Linux, with Linux 4.14.129-bbrplus' --class debian --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-4.14.129-bbrplus-advanced-027db92b-683c-47c8-8767-e1fc16ee6df7' {\n                  load_video\n                  insmod gzio\n                  if [ x$grub_platform = xxen ]; then insmod xzio; insmod lzopio; fi\n                  insmod part_msdos\n                  insmod ext2\n                  if [ x$feature_platform_search_hint = xy ]; then\n                    search --no-floppy --fs-uuid --set=root  f9cae74d-6fc8-47c0-be89-00a237271167\n                  else\n                    search --no-floppy --fs-uuid --set=root f9cae74d-6fc8-47c0-be89-00a237271167\n                  fi\n                  echo    'Loading Linux 4.14.129-bbrplus ...'\n                  linux   /vmlinuz-4.14.129-bbrplus root=UUID=027db92b-683c-47c8-8767-e1fc16ee6df7 ro  quiet\n                  echo    'Loading initial ramdisk ...'\n                  initrd  /initrd.img-4.14.129-bbrplus\n          }\n          menuentry 'Debian GNU/Linux, with Linux 4.14.129-bbrplus (recovery mode)' --class debian --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-4.14.129-bbrplus-recovery-027db92b-683c-47c8-8767-e1fc16ee6df7' {\n                  load_video\n                  insmod gzio\n                  if [ x$grub_platform = xxen ]; then insmod xzio; insmod lzopio; fi\n                  insmod part_msdos\n                  insmod ext2\n                  if [ x$feature_platform_search_hint = xy ]; then\n                    search --no-floppy --fs-uuid --set=root  f9cae74d-6fc8-47c0-be89-00a237271167\n                  else\n                    search --no-floppy --fs-uuid --set=root f9cae74d-6fc8-47c0-be89-00a237271167\n                  fi\n                  echo    'Loading Linux 4.14.129-bbrplus ...'\n                  linux   /vmlinuz-4.14.129-bbrplus root=UUID=027db92b-683c-47c8-8767-e1fc16ee6df7 ro single\n                  echo    'Loading initial ramdisk ...'\n                  initrd  /initrd.img-4.14.129-bbrplus\n          }\n          menuentry 'Debian GNU/Linux, with Linux 4.9.0-8-amd64' --class debian --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-4.9.0-8-amd64-advanced-027db92b-683c-47c8-8767-e1fc16ee6df7' {\n                  load_video\n                  insmod gzio\n                  if [ x$grub_platform = xxen ]; then insmod xzio; insmod lzopio; fi\n                  insmod part_msdos\n                  insmod ext2\n                  if [ x$feature_platform_search_hint = xy ]; then\n                    search --no-floppy --fs-uuid --set=root  f9cae74d-6fc8-47c0-be89-00a237271167\n                  else\n                    search --no-floppy --fs-uuid --set=root f9cae74d-6fc8-47c0-be89-00a237271167\n                  fi\n                  echo    'Loading Linux 4.9.0-8-amd64 ...'\n                  linux   /vmlinuz-4.9.0-8-amd64 root=UUID=027db92b-683c-47c8-8767-e1fc16ee6df7 ro  quiet\n                  echo    'Loading initial ramdisk ...'\n                  initrd  /initrd.img-4.9.0-8-amd64\n          }\n          menuentry 'Debian GNU/Linux, with Linux 4.9.0-8-amd64 (recovery mode)' --class debian --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-4.9.0-8-amd64-recovery-027db92b-683c-47c8-8767-e1fc16ee6df7' {\n                  load_video\n                  insmod gzio\n                  if [ x$grub_platform = xxen ]; then insmod xzio; insmod lzopio; fi\n                  insmod part_msdos\n                  insmod ext2\n                  if [ x$feature_platform_search_hint = xy ]; then\n                    search --no-floppy --fs-uuid --set=root  f9cae74d-6fc8-47c0-be89-00a237271167\n                  else\n                    search --no-floppy --fs-uuid --set=root f9cae74d-6fc8-47c0-be89-00a237271167\n                  fi\n                  echo    'Loading Linux 4.9.0-8-amd64 ...'\n                  linux   /vmlinuz-4.9.0-8-amd64 root=UUID=027db92b-683c-47c8-8767-e1fc16ee6df7 ro single\n                  echo    'Loading initial ramdisk ...'\n                  initrd  /initrd.img-4.9.0-8-amd64\n          }\n  }\n\n  ### END /etc/grub.d/10_linux ###\n\n  ### BEGIN /etc/grub.d/20_linux_xen ###\n\n  ### END /etc/grub.d/20_linux_xen ###\n\n  ### BEGIN /etc/grub.d/30_os-prober ###\n  ### END /etc/grub.d/30_os-prober ###\n\n  ### BEGIN /etc/grub.d/30_uefi-firmware ###\n  ### END /etc/grub.d/30_uefi-firmware ###\n\n  ### BEGIN /etc/grub.d/40_custom ###\n  # This file provides an easy way to add custom menu entries.  Simply type the\n  # menu entries you want to add after this comment.  Be careful not to change\n  # the 'exec tail' line above.\n  ### END /etc/grub.d/40_custom ###\n\n  ### BEGIN /etc/grub.d/41_custom ###\n  if [ -f  ${config_directory}/custom.cfg ]; then\n    source ${config_directory}/custom.cfg\n  elif [ -z \"${config_directory}\" -a -f  $prefix/custom.cfg ]; then\n    source $prefix/custom.cfg;\n  fi\n  ### END /etc/grub.d/41_custom ###\n  ```\n  这其实是一个树结构，包含了`menuentry`，`submenu`等项，而我们的目标就是将我们的新内核变成默认的启动项。为此，我们需要修改启动菜单模板。\n  \n2. 修改启动菜单模板\n```bash /etc/default/grub \nGRUB_DEFAULT=0 修改为\nGRUB_DEFAULT=\"Advanced options for Debian GNU/Linux>Debian GNU/Linux, with Linux 4.14.129-bbrplus\"\n```\n其中`Advanced options for Debian GNU/Linux`是一级菜单,`Debian GNU/Linux, with Linux 4.14.129-bbrplus`是二级菜单, 中间用`>`连接.\n\n3. 生成新的启动菜单文件\n```bash\nupdate-grub\n```\n\n4. 重启系统\n","source":"_posts/Debian下安装新内核及更换默认内核.md","raw":"title: Debian下安装新内核及更换默认内核\nauthor: Creling\ntags: []\ncategories:\n  - Linux\ntoc: 'true'\ndate: 2019-12-13 00:13:00\n---\n**摘要** 介绍了Debian下安装新内核及更换默认内核的方法\n\n<!--more-->\n\n## 安装新内核\n```bash\ndpkg -i *deb\n```\n\n## 修改默认内核\n1. 查看当前启动菜单\n\n  ```ini /boot/grub/grub.cfg\n  #\n  # DO NOT EDIT THIS FILE\n  #\n  # It is automatically generated by grub-mkconfig using templates\n  # from /etc/grub.d and settings from /etc/default/grub\n  #\n\n  ### BEGIN /etc/grub.d/00_header ###\n  if [ -s $prefix/grubenv ]; then\n    set have_grubenv=true\n    load_env\n  fi\n  if [ \"${next_entry}\" ] ; then\n     set default=\"${next_entry}\"\n     set next_entry=\n     save_env next_entry\n     set boot_once=true\n  else\n     set default=\"Advanced options for Debian GNU/Linux>Debian GNU/Linux, with Linux 4.14.129-bbrplus\"\n  fi\n\n  if [ x\"${feature_menuentry_id}\" = xy ]; then\n    menuentry_id_option=\"--id\"\n  else\n    menuentry_id_option=\"\"\n  fi\n\n  export menuentry_id_option\n\n  if [ \"${prev_saved_entry}\" ]; then\n    set saved_entry=\"${prev_saved_entry}\"\n    save_env saved_entry\n    set prev_saved_entry=\n    save_env prev_saved_entry\n    set boot_once=true\n  fi\n\n  function savedefault {\n    if [ -z \"${boot_once}\" ]; then\n      saved_entry=\"${chosen}\"\n      save_env saved_entry\n    fi\n  }\n  function load_video {\n    if [ x$feature_all_video_module = xy ]; then\n      insmod all_video\n    else\n      insmod efi_gop\n      insmod efi_uga\n      insmod ieee1275_fb\n      insmod vbe\n      insmod vga\n      insmod video_bochs\n      insmod video_cirrus\n    fi\n  }\n\n  if [ x$feature_default_font_path = xy ] ; then\n     font=unicode\n  else\n  insmod part_msdos\n  insmod ext2\n  if [ x$feature_platform_search_hint = xy ]; then\n    search --no-floppy --fs-uuid --set=root  027db92b-683c-47c8-8767-e1fc16ee6df7\n  else\n    search --no-floppy --fs-uuid --set=root 027db92b-683c-47c8-8767-e1fc16ee6df7\n  fi\n      font=\"/usr/share/grub/unicode.pf2\"\n  fi\n\n  if loadfont $font ; then\n    set gfxmode=auto\n    load_video\n    insmod gfxterm\n    set locale_dir=$prefix/locale\n    set lang=en_US\n    insmod gettext\n  fi\n  terminal_output gfxterm\n  if [ \"${recordfail}\" = 1 ] ; then\n    set timeout=30\n  else\n    if [ x$feature_timeout_style = xy ] ; then\n      set timeout_style=menu\n      set timeout=5\n    # Fallback normal timeout code in case the timeout_style feature is\n    # unavailable.\n    else\n      set timeout=5\n    fi\n  fi\n  ### END /etc/grub.d/00_header ###\n\n  ### BEGIN /etc/grub.d/05_debian_theme ###\n  set menu_color_normal=cyan/blue\n  set menu_color_highlight=white/blue\n  ### END /etc/grub.d/05_debian_theme ###\n\n  ### BEGIN /etc/grub.d/10_linux ###\n  function gfxmode {\n          set gfxpayload=\"${1}\"\n  }\n  set linux_gfx_mode=\n  export linux_gfx_mode\n  menuentry 'Debian GNU/Linux' --class debian --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-simple-027db92b-683c-47c8-8767-e1fc16ee6df7' {\n          load_video\n          insmod gzio\n          if [ x$grub_platform = xxen ]; then insmod xzio; insmod lzopio; fi\n          insmod part_msdos\n          insmod ext2\n          if [ x$feature_platform_search_hint = xy ]; then\n            search --no-floppy --fs-uuid --set=root  f9cae74d-6fc8-47c0-be89-00a237271167\n          else\n            search --no-floppy --fs-uuid --set=root f9cae74d-6fc8-47c0-be89-00a237271167\n          fi\n          echo    'Loading Linux 4.14.129-bbrplus ...'\n          linux   /vmlinuz-4.14.129-bbrplus root=UUID=027db92b-683c-47c8-8767-e1fc16ee6df7 ro  quiet\n          echo    'Loading initial ramdisk ...'\n          initrd  /initrd.img-4.14.129-bbrplus\n  }\n  submenu 'Advanced options for Debian GNU/Linux' $menuentry_id_option 'gnulinux-advanced-027db92b-683c-47c8-8767-e1fc16ee6df7' {\n          menuentry 'Debian GNU/Linux, with Linux 4.14.129-bbrplus' --class debian --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-4.14.129-bbrplus-advanced-027db92b-683c-47c8-8767-e1fc16ee6df7' {\n                  load_video\n                  insmod gzio\n                  if [ x$grub_platform = xxen ]; then insmod xzio; insmod lzopio; fi\n                  insmod part_msdos\n                  insmod ext2\n                  if [ x$feature_platform_search_hint = xy ]; then\n                    search --no-floppy --fs-uuid --set=root  f9cae74d-6fc8-47c0-be89-00a237271167\n                  else\n                    search --no-floppy --fs-uuid --set=root f9cae74d-6fc8-47c0-be89-00a237271167\n                  fi\n                  echo    'Loading Linux 4.14.129-bbrplus ...'\n                  linux   /vmlinuz-4.14.129-bbrplus root=UUID=027db92b-683c-47c8-8767-e1fc16ee6df7 ro  quiet\n                  echo    'Loading initial ramdisk ...'\n                  initrd  /initrd.img-4.14.129-bbrplus\n          }\n          menuentry 'Debian GNU/Linux, with Linux 4.14.129-bbrplus (recovery mode)' --class debian --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-4.14.129-bbrplus-recovery-027db92b-683c-47c8-8767-e1fc16ee6df7' {\n                  load_video\n                  insmod gzio\n                  if [ x$grub_platform = xxen ]; then insmod xzio; insmod lzopio; fi\n                  insmod part_msdos\n                  insmod ext2\n                  if [ x$feature_platform_search_hint = xy ]; then\n                    search --no-floppy --fs-uuid --set=root  f9cae74d-6fc8-47c0-be89-00a237271167\n                  else\n                    search --no-floppy --fs-uuid --set=root f9cae74d-6fc8-47c0-be89-00a237271167\n                  fi\n                  echo    'Loading Linux 4.14.129-bbrplus ...'\n                  linux   /vmlinuz-4.14.129-bbrplus root=UUID=027db92b-683c-47c8-8767-e1fc16ee6df7 ro single\n                  echo    'Loading initial ramdisk ...'\n                  initrd  /initrd.img-4.14.129-bbrplus\n          }\n          menuentry 'Debian GNU/Linux, with Linux 4.9.0-8-amd64' --class debian --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-4.9.0-8-amd64-advanced-027db92b-683c-47c8-8767-e1fc16ee6df7' {\n                  load_video\n                  insmod gzio\n                  if [ x$grub_platform = xxen ]; then insmod xzio; insmod lzopio; fi\n                  insmod part_msdos\n                  insmod ext2\n                  if [ x$feature_platform_search_hint = xy ]; then\n                    search --no-floppy --fs-uuid --set=root  f9cae74d-6fc8-47c0-be89-00a237271167\n                  else\n                    search --no-floppy --fs-uuid --set=root f9cae74d-6fc8-47c0-be89-00a237271167\n                  fi\n                  echo    'Loading Linux 4.9.0-8-amd64 ...'\n                  linux   /vmlinuz-4.9.0-8-amd64 root=UUID=027db92b-683c-47c8-8767-e1fc16ee6df7 ro  quiet\n                  echo    'Loading initial ramdisk ...'\n                  initrd  /initrd.img-4.9.0-8-amd64\n          }\n          menuentry 'Debian GNU/Linux, with Linux 4.9.0-8-amd64 (recovery mode)' --class debian --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-4.9.0-8-amd64-recovery-027db92b-683c-47c8-8767-e1fc16ee6df7' {\n                  load_video\n                  insmod gzio\n                  if [ x$grub_platform = xxen ]; then insmod xzio; insmod lzopio; fi\n                  insmod part_msdos\n                  insmod ext2\n                  if [ x$feature_platform_search_hint = xy ]; then\n                    search --no-floppy --fs-uuid --set=root  f9cae74d-6fc8-47c0-be89-00a237271167\n                  else\n                    search --no-floppy --fs-uuid --set=root f9cae74d-6fc8-47c0-be89-00a237271167\n                  fi\n                  echo    'Loading Linux 4.9.0-8-amd64 ...'\n                  linux   /vmlinuz-4.9.0-8-amd64 root=UUID=027db92b-683c-47c8-8767-e1fc16ee6df7 ro single\n                  echo    'Loading initial ramdisk ...'\n                  initrd  /initrd.img-4.9.0-8-amd64\n          }\n  }\n\n  ### END /etc/grub.d/10_linux ###\n\n  ### BEGIN /etc/grub.d/20_linux_xen ###\n\n  ### END /etc/grub.d/20_linux_xen ###\n\n  ### BEGIN /etc/grub.d/30_os-prober ###\n  ### END /etc/grub.d/30_os-prober ###\n\n  ### BEGIN /etc/grub.d/30_uefi-firmware ###\n  ### END /etc/grub.d/30_uefi-firmware ###\n\n  ### BEGIN /etc/grub.d/40_custom ###\n  # This file provides an easy way to add custom menu entries.  Simply type the\n  # menu entries you want to add after this comment.  Be careful not to change\n  # the 'exec tail' line above.\n  ### END /etc/grub.d/40_custom ###\n\n  ### BEGIN /etc/grub.d/41_custom ###\n  if [ -f  ${config_directory}/custom.cfg ]; then\n    source ${config_directory}/custom.cfg\n  elif [ -z \"${config_directory}\" -a -f  $prefix/custom.cfg ]; then\n    source $prefix/custom.cfg;\n  fi\n  ### END /etc/grub.d/41_custom ###\n  ```\n  这其实是一个树结构，包含了`menuentry`，`submenu`等项，而我们的目标就是将我们的新内核变成默认的启动项。为此，我们需要修改启动菜单模板。\n  \n2. 修改启动菜单模板\n```bash /etc/default/grub \nGRUB_DEFAULT=0 修改为\nGRUB_DEFAULT=\"Advanced options for Debian GNU/Linux>Debian GNU/Linux, with Linux 4.14.129-bbrplus\"\n```\n其中`Advanced options for Debian GNU/Linux`是一级菜单,`Debian GNU/Linux, with Linux 4.14.129-bbrplus`是二级菜单, 中间用`>`连接.\n\n3. 生成新的启动菜单文件\n```bash\nupdate-grub\n```\n\n4. 重启系统\n","slug":"Debian下安装新内核及更换默认内核","published":1,"updated":"2020-02-10T09:33:16.762Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbqbaq001ftooj7ly90n1o","content":"<p><strong>摘要</strong> 介绍了Debian下安装新内核及更换默认内核的方法</p>\n<a id=\"more\"></a>\n\n<h2 id=\"安装新内核\"><a href=\"#安装新内核\" class=\"headerlink\" title=\"安装新内核\"></a>安装新内核</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dpkg -i *deb</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"修改默认内核\"><a href=\"#修改默认内核\" class=\"headerlink\" title=\"修改默认内核\"></a>修改默认内核</h2><ol>\n<li><p>查看当前启动菜单</p>\n<figure class=\"highlight ini\"><figcaption><span>/boot/grub/grub.cfg</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"comment\"># DO NOT EDIT THIS FILE</span></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"comment\"># It is automatically generated by grub-mkconfig using templates</span></span><br><span class=\"line\"><span class=\"comment\"># from /etc/grub.d and settings from /etc/default/grub</span></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">### BEGIN /etc/grub.d/00_header ###</span></span><br><span class=\"line\">if [ -s $prefix/grubenv ]; then</span><br><span class=\"line\">  set have_grubenv=true</span><br><span class=\"line\">  load_env</span><br><span class=\"line\">fi</span><br><span class=\"line\">if [ \"$&#123;next_entry&#125;\" ] ; then</span><br><span class=\"line\">   set default=\"$&#123;next_entry&#125;\"</span><br><span class=\"line\">   set next_entry=</span><br><span class=\"line\">   save_env next_entry</span><br><span class=\"line\">   set boot_once=true</span><br><span class=\"line\">else</span><br><span class=\"line\">   set default=\"Advanced options for Debian GNU/Linux&gt;Debian GNU/Linux, with Linux 4.14.129-bbrplus\"</span><br><span class=\"line\">fi</span><br><span class=\"line\"></span><br><span class=\"line\">if [ x\"$&#123;feature_menuentry_id&#125;\" = xy ]; then</span><br><span class=\"line\">  menuentry_id_option=\"--id\"</span><br><span class=\"line\">else</span><br><span class=\"line\">  menuentry_id_option=\"\"</span><br><span class=\"line\">fi</span><br><span class=\"line\"></span><br><span class=\"line\">export menuentry_id_option</span><br><span class=\"line\"></span><br><span class=\"line\">if [ \"$&#123;prev_saved_entry&#125;\" ]; then</span><br><span class=\"line\">  set saved_entry=\"$&#123;prev_saved_entry&#125;\"</span><br><span class=\"line\">  save_env saved_entry</span><br><span class=\"line\">  set prev_saved_entry=</span><br><span class=\"line\">  save_env prev_saved_entry</span><br><span class=\"line\">  set boot_once=true</span><br><span class=\"line\">fi</span><br><span class=\"line\"></span><br><span class=\"line\">function savedefault &#123;</span><br><span class=\"line\">  if [ -z \"$&#123;boot_once&#125;\" ]; then</span><br><span class=\"line\">    saved_entry=\"$&#123;chosen&#125;\"</span><br><span class=\"line\">    save_env saved_entry</span><br><span class=\"line\">  fi</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">function load_video &#123;</span><br><span class=\"line\">  if [ x$feature_all_video_module = xy ]; then</span><br><span class=\"line\">    insmod all_video</span><br><span class=\"line\">  else</span><br><span class=\"line\">    insmod efi_gop</span><br><span class=\"line\">    insmod efi_uga</span><br><span class=\"line\">    insmod ieee1275_fb</span><br><span class=\"line\">    insmod vbe</span><br><span class=\"line\">    insmod vga</span><br><span class=\"line\">    insmod video_bochs</span><br><span class=\"line\">    insmod video_cirrus</span><br><span class=\"line\">  fi</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">if [ x$feature_default_font_path = xy ] ; then</span><br><span class=\"line\">   font=unicode</span><br><span class=\"line\">else</span><br><span class=\"line\">insmod part_msdos</span><br><span class=\"line\">insmod ext2</span><br><span class=\"line\">if [ x$feature_platform_search_hint = xy ]; then</span><br><span class=\"line\">  search --no-floppy --fs-uuid --set=root  027db92b-683c-47c8-8767-e1fc16ee6df7</span><br><span class=\"line\">else</span><br><span class=\"line\">  search --no-floppy --fs-uuid --set=root 027db92b-683c-47c8-8767-e1fc16ee6df7</span><br><span class=\"line\">fi</span><br><span class=\"line\">    font=\"/usr/share/grub/unicode.pf2\"</span><br><span class=\"line\">fi</span><br><span class=\"line\"></span><br><span class=\"line\">if loadfont $font ; then</span><br><span class=\"line\">  set gfxmode=auto</span><br><span class=\"line\">  load_video</span><br><span class=\"line\">  insmod gfxterm</span><br><span class=\"line\">  set locale_dir=$prefix/locale</span><br><span class=\"line\">  set lang=en_US</span><br><span class=\"line\">  insmod gettext</span><br><span class=\"line\">fi</span><br><span class=\"line\">terminal_output gfxterm</span><br><span class=\"line\">if [ \"$&#123;recordfail&#125;\" = 1 ] ; then</span><br><span class=\"line\">  set timeout=30</span><br><span class=\"line\">else</span><br><span class=\"line\">  if [ x$feature_timeout_style = xy ] ; then</span><br><span class=\"line\">    set timeout_style=menu</span><br><span class=\"line\">    set timeout=5</span><br><span class=\"line\">  <span class=\"comment\"># Fallback normal timeout code in case the timeout_style feature is</span></span><br><span class=\"line\">  <span class=\"comment\"># unavailable.</span></span><br><span class=\"line\">  else</span><br><span class=\"line\">    set timeout=5</span><br><span class=\"line\">  fi</span><br><span class=\"line\">fi</span><br><span class=\"line\"><span class=\"comment\">### END /etc/grub.d/00_header ###</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">### BEGIN /etc/grub.d/05_debian_theme ###</span></span><br><span class=\"line\">set menu_color_normal=cyan/blue</span><br><span class=\"line\">set menu_color_highlight=white/blue</span><br><span class=\"line\"><span class=\"comment\">### END /etc/grub.d/05_debian_theme ###</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">### BEGIN /etc/grub.d/10_linux ###</span></span><br><span class=\"line\">function gfxmode &#123;</span><br><span class=\"line\">        set gfxpayload=\"$&#123;1&#125;\"</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">set linux_gfx_mode=</span><br><span class=\"line\">export linux_gfx_mode</span><br><span class=\"line\">menuentry 'Debian GNU/Linux' --class debian --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-simple-027db92b-683c-47c8-8767-e1fc16ee6df7' &#123;</span><br><span class=\"line\">        load_video</span><br><span class=\"line\">        insmod gzio</span><br><span class=\"line\">        if [ x$grub_platform = xxen ]; then insmod xzio; insmod lzopio; fi</span><br><span class=\"line\">        insmod part_msdos</span><br><span class=\"line\">        insmod ext2</span><br><span class=\"line\">        if [ x$feature_platform_search_hint = xy ]; then</span><br><span class=\"line\">          search --no-floppy --fs-uuid --set=root  f9cae74d-6fc8-47c0-be89-00a237271167</span><br><span class=\"line\">        else</span><br><span class=\"line\">          search --no-floppy --fs-uuid --set=root f9cae74d-6fc8-47c0-be89-00a237271167</span><br><span class=\"line\">        fi</span><br><span class=\"line\">        echo    'Loading Linux 4.14.129-bbrplus ...'</span><br><span class=\"line\">        linux   /vmlinuz-4.14.129-bbrplus root=UUID=027db92b-683c-47c8-8767-e1fc16ee6df7 ro  quiet</span><br><span class=\"line\">        echo    'Loading initial ramdisk ...'</span><br><span class=\"line\">        initrd  /initrd.img-4.14.129-bbrplus</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">submenu 'Advanced options for Debian GNU/Linux' $menuentry_id_option 'gnulinux-advanced-027db92b-683c-47c8-8767-e1fc16ee6df7' &#123;</span><br><span class=\"line\">        menuentry 'Debian GNU/Linux, with Linux 4.14.129-bbrplus' --class debian --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-4.14.129-bbrplus-advanced-027db92b-683c-47c8-8767-e1fc16ee6df7' &#123;</span><br><span class=\"line\">                load_video</span><br><span class=\"line\">                insmod gzio</span><br><span class=\"line\">                if [ x$grub_platform = xxen ]; then insmod xzio; insmod lzopio; fi</span><br><span class=\"line\">                insmod part_msdos</span><br><span class=\"line\">                insmod ext2</span><br><span class=\"line\">                if [ x$feature_platform_search_hint = xy ]; then</span><br><span class=\"line\">                  search --no-floppy --fs-uuid --set=root  f9cae74d-6fc8-47c0-be89-00a237271167</span><br><span class=\"line\">                else</span><br><span class=\"line\">                  search --no-floppy --fs-uuid --set=root f9cae74d-6fc8-47c0-be89-00a237271167</span><br><span class=\"line\">                fi</span><br><span class=\"line\">                echo    'Loading Linux 4.14.129-bbrplus ...'</span><br><span class=\"line\">                linux   /vmlinuz-4.14.129-bbrplus root=UUID=027db92b-683c-47c8-8767-e1fc16ee6df7 ro  quiet</span><br><span class=\"line\">                echo    'Loading initial ramdisk ...'</span><br><span class=\"line\">                initrd  /initrd.img-4.14.129-bbrplus</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        menuentry 'Debian GNU/Linux, with Linux 4.14.129-bbrplus (recovery mode)' --class debian --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-4.14.129-bbrplus-recovery-027db92b-683c-47c8-8767-e1fc16ee6df7' &#123;</span><br><span class=\"line\">                load_video</span><br><span class=\"line\">                insmod gzio</span><br><span class=\"line\">                if [ x$grub_platform = xxen ]; then insmod xzio; insmod lzopio; fi</span><br><span class=\"line\">                insmod part_msdos</span><br><span class=\"line\">                insmod ext2</span><br><span class=\"line\">                if [ x$feature_platform_search_hint = xy ]; then</span><br><span class=\"line\">                  search --no-floppy --fs-uuid --set=root  f9cae74d-6fc8-47c0-be89-00a237271167</span><br><span class=\"line\">                else</span><br><span class=\"line\">                  search --no-floppy --fs-uuid --set=root f9cae74d-6fc8-47c0-be89-00a237271167</span><br><span class=\"line\">                fi</span><br><span class=\"line\">                echo    'Loading Linux 4.14.129-bbrplus ...'</span><br><span class=\"line\">                linux   /vmlinuz-4.14.129-bbrplus root=UUID=027db92b-683c-47c8-8767-e1fc16ee6df7 ro single</span><br><span class=\"line\">                echo    'Loading initial ramdisk ...'</span><br><span class=\"line\">                initrd  /initrd.img-4.14.129-bbrplus</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        menuentry 'Debian GNU/Linux, with Linux 4.9.0-8-amd64' --class debian --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-4.9.0-8-amd64-advanced-027db92b-683c-47c8-8767-e1fc16ee6df7' &#123;</span><br><span class=\"line\">                load_video</span><br><span class=\"line\">                insmod gzio</span><br><span class=\"line\">                if [ x$grub_platform = xxen ]; then insmod xzio; insmod lzopio; fi</span><br><span class=\"line\">                insmod part_msdos</span><br><span class=\"line\">                insmod ext2</span><br><span class=\"line\">                if [ x$feature_platform_search_hint = xy ]; then</span><br><span class=\"line\">                  search --no-floppy --fs-uuid --set=root  f9cae74d-6fc8-47c0-be89-00a237271167</span><br><span class=\"line\">                else</span><br><span class=\"line\">                  search --no-floppy --fs-uuid --set=root f9cae74d-6fc8-47c0-be89-00a237271167</span><br><span class=\"line\">                fi</span><br><span class=\"line\">                echo    'Loading Linux 4.9.0-8-amd64 ...'</span><br><span class=\"line\">                linux   /vmlinuz-4.9.0-8-amd64 root=UUID=027db92b-683c-47c8-8767-e1fc16ee6df7 ro  quiet</span><br><span class=\"line\">                echo    'Loading initial ramdisk ...'</span><br><span class=\"line\">                initrd  /initrd.img-4.9.0-8-amd64</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        menuentry 'Debian GNU/Linux, with Linux 4.9.0-8-amd64 (recovery mode)' --class debian --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-4.9.0-8-amd64-recovery-027db92b-683c-47c8-8767-e1fc16ee6df7' &#123;</span><br><span class=\"line\">                load_video</span><br><span class=\"line\">                insmod gzio</span><br><span class=\"line\">                if [ x$grub_platform = xxen ]; then insmod xzio; insmod lzopio; fi</span><br><span class=\"line\">                insmod part_msdos</span><br><span class=\"line\">                insmod ext2</span><br><span class=\"line\">                if [ x$feature_platform_search_hint = xy ]; then</span><br><span class=\"line\">                  search --no-floppy --fs-uuid --set=root  f9cae74d-6fc8-47c0-be89-00a237271167</span><br><span class=\"line\">                else</span><br><span class=\"line\">                  search --no-floppy --fs-uuid --set=root f9cae74d-6fc8-47c0-be89-00a237271167</span><br><span class=\"line\">                fi</span><br><span class=\"line\">                echo    'Loading Linux 4.9.0-8-amd64 ...'</span><br><span class=\"line\">                linux   /vmlinuz-4.9.0-8-amd64 root=UUID=027db92b-683c-47c8-8767-e1fc16ee6df7 ro single</span><br><span class=\"line\">                echo    'Loading initial ramdisk ...'</span><br><span class=\"line\">                initrd  /initrd.img-4.9.0-8-amd64</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">### END /etc/grub.d/10_linux ###</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">### BEGIN /etc/grub.d/20_linux_xen ###</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">### END /etc/grub.d/20_linux_xen ###</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">### BEGIN /etc/grub.d/30_os-prober ###</span></span><br><span class=\"line\"><span class=\"comment\">### END /etc/grub.d/30_os-prober ###</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">### BEGIN /etc/grub.d/30_uefi-firmware ###</span></span><br><span class=\"line\"><span class=\"comment\">### END /etc/grub.d/30_uefi-firmware ###</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">### BEGIN /etc/grub.d/40_custom ###</span></span><br><span class=\"line\"><span class=\"comment\"># This file provides an easy way to add custom menu entries.  Simply type the</span></span><br><span class=\"line\"><span class=\"comment\"># menu entries you want to add after this comment.  Be careful not to change</span></span><br><span class=\"line\"><span class=\"comment\"># the 'exec tail' line above.</span></span><br><span class=\"line\"><span class=\"comment\">### END /etc/grub.d/40_custom ###</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">### BEGIN /etc/grub.d/41_custom ###</span></span><br><span class=\"line\">if [ -f  $&#123;config_directory&#125;/custom.cfg ]; then</span><br><span class=\"line\">  source $&#123;config_directory&#125;/custom.cfg</span><br><span class=\"line\">elif [ -z \"$&#123;config_directory&#125;\" -a -f  $prefix/custom.cfg ]; then</span><br><span class=\"line\">  source $prefix/custom.cfg;</span><br><span class=\"line\">fi</span><br><span class=\"line\"><span class=\"comment\">### END /etc/grub.d/41_custom ###</span></span><br></pre></td></tr></table></figure>\n<p>这其实是一个树结构，包含了<code>menuentry</code>，<code>submenu</code>等项，而我们的目标就是将我们的新内核变成默认的启动项。为此，我们需要修改启动菜单模板。</p>\n</li>\n<li><p>修改启动菜单模板</p>\n<figure class=\"highlight bash\"><figcaption><span>/etc/default/grub </span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GRUB_DEFAULT=0 修改为</span><br><span class=\"line\">GRUB_DEFAULT=<span class=\"string\">\"Advanced options for Debian GNU/Linux&gt;Debian GNU/Linux, with Linux 4.14.129-bbrplus\"</span></span><br></pre></td></tr></table></figure>\n<p>其中<code>Advanced options for Debian GNU/Linux</code>是一级菜单,<code>Debian GNU/Linux, with Linux 4.14.129-bbrplus</code>是二级菜单, 中间用<code>&gt;</code>连接.</p>\n</li>\n<li><p>生成新的启动菜单文件</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">update-grub</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>重启系统</p>\n</li>\n</ol>\n","site":{"data":{}},"excerpt":"<p><strong>摘要</strong> 介绍了Debian下安装新内核及更换默认内核的方法</p>","more":"<h2 id=\"安装新内核\"><a href=\"#安装新内核\" class=\"headerlink\" title=\"安装新内核\"></a>安装新内核</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dpkg -i *deb</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"修改默认内核\"><a href=\"#修改默认内核\" class=\"headerlink\" title=\"修改默认内核\"></a>修改默认内核</h2><ol>\n<li><p>查看当前启动菜单</p>\n<figure class=\"highlight ini\"><figcaption><span>/boot/grub/grub.cfg</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"comment\"># DO NOT EDIT THIS FILE</span></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"comment\"># It is automatically generated by grub-mkconfig using templates</span></span><br><span class=\"line\"><span class=\"comment\"># from /etc/grub.d and settings from /etc/default/grub</span></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">### BEGIN /etc/grub.d/00_header ###</span></span><br><span class=\"line\">if [ -s $prefix/grubenv ]; then</span><br><span class=\"line\">  set have_grubenv=true</span><br><span class=\"line\">  load_env</span><br><span class=\"line\">fi</span><br><span class=\"line\">if [ \"$&#123;next_entry&#125;\" ] ; then</span><br><span class=\"line\">   set default=\"$&#123;next_entry&#125;\"</span><br><span class=\"line\">   set next_entry=</span><br><span class=\"line\">   save_env next_entry</span><br><span class=\"line\">   set boot_once=true</span><br><span class=\"line\">else</span><br><span class=\"line\">   set default=\"Advanced options for Debian GNU/Linux&gt;Debian GNU/Linux, with Linux 4.14.129-bbrplus\"</span><br><span class=\"line\">fi</span><br><span class=\"line\"></span><br><span class=\"line\">if [ x\"$&#123;feature_menuentry_id&#125;\" = xy ]; then</span><br><span class=\"line\">  menuentry_id_option=\"--id\"</span><br><span class=\"line\">else</span><br><span class=\"line\">  menuentry_id_option=\"\"</span><br><span class=\"line\">fi</span><br><span class=\"line\"></span><br><span class=\"line\">export menuentry_id_option</span><br><span class=\"line\"></span><br><span class=\"line\">if [ \"$&#123;prev_saved_entry&#125;\" ]; then</span><br><span class=\"line\">  set saved_entry=\"$&#123;prev_saved_entry&#125;\"</span><br><span class=\"line\">  save_env saved_entry</span><br><span class=\"line\">  set prev_saved_entry=</span><br><span class=\"line\">  save_env prev_saved_entry</span><br><span class=\"line\">  set boot_once=true</span><br><span class=\"line\">fi</span><br><span class=\"line\"></span><br><span class=\"line\">function savedefault &#123;</span><br><span class=\"line\">  if [ -z \"$&#123;boot_once&#125;\" ]; then</span><br><span class=\"line\">    saved_entry=\"$&#123;chosen&#125;\"</span><br><span class=\"line\">    save_env saved_entry</span><br><span class=\"line\">  fi</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">function load_video &#123;</span><br><span class=\"line\">  if [ x$feature_all_video_module = xy ]; then</span><br><span class=\"line\">    insmod all_video</span><br><span class=\"line\">  else</span><br><span class=\"line\">    insmod efi_gop</span><br><span class=\"line\">    insmod efi_uga</span><br><span class=\"line\">    insmod ieee1275_fb</span><br><span class=\"line\">    insmod vbe</span><br><span class=\"line\">    insmod vga</span><br><span class=\"line\">    insmod video_bochs</span><br><span class=\"line\">    insmod video_cirrus</span><br><span class=\"line\">  fi</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">if [ x$feature_default_font_path = xy ] ; then</span><br><span class=\"line\">   font=unicode</span><br><span class=\"line\">else</span><br><span class=\"line\">insmod part_msdos</span><br><span class=\"line\">insmod ext2</span><br><span class=\"line\">if [ x$feature_platform_search_hint = xy ]; then</span><br><span class=\"line\">  search --no-floppy --fs-uuid --set=root  027db92b-683c-47c8-8767-e1fc16ee6df7</span><br><span class=\"line\">else</span><br><span class=\"line\">  search --no-floppy --fs-uuid --set=root 027db92b-683c-47c8-8767-e1fc16ee6df7</span><br><span class=\"line\">fi</span><br><span class=\"line\">    font=\"/usr/share/grub/unicode.pf2\"</span><br><span class=\"line\">fi</span><br><span class=\"line\"></span><br><span class=\"line\">if loadfont $font ; then</span><br><span class=\"line\">  set gfxmode=auto</span><br><span class=\"line\">  load_video</span><br><span class=\"line\">  insmod gfxterm</span><br><span class=\"line\">  set locale_dir=$prefix/locale</span><br><span class=\"line\">  set lang=en_US</span><br><span class=\"line\">  insmod gettext</span><br><span class=\"line\">fi</span><br><span class=\"line\">terminal_output gfxterm</span><br><span class=\"line\">if [ \"$&#123;recordfail&#125;\" = 1 ] ; then</span><br><span class=\"line\">  set timeout=30</span><br><span class=\"line\">else</span><br><span class=\"line\">  if [ x$feature_timeout_style = xy ] ; then</span><br><span class=\"line\">    set timeout_style=menu</span><br><span class=\"line\">    set timeout=5</span><br><span class=\"line\">  <span class=\"comment\"># Fallback normal timeout code in case the timeout_style feature is</span></span><br><span class=\"line\">  <span class=\"comment\"># unavailable.</span></span><br><span class=\"line\">  else</span><br><span class=\"line\">    set timeout=5</span><br><span class=\"line\">  fi</span><br><span class=\"line\">fi</span><br><span class=\"line\"><span class=\"comment\">### END /etc/grub.d/00_header ###</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">### BEGIN /etc/grub.d/05_debian_theme ###</span></span><br><span class=\"line\">set menu_color_normal=cyan/blue</span><br><span class=\"line\">set menu_color_highlight=white/blue</span><br><span class=\"line\"><span class=\"comment\">### END /etc/grub.d/05_debian_theme ###</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">### BEGIN /etc/grub.d/10_linux ###</span></span><br><span class=\"line\">function gfxmode &#123;</span><br><span class=\"line\">        set gfxpayload=\"$&#123;1&#125;\"</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">set linux_gfx_mode=</span><br><span class=\"line\">export linux_gfx_mode</span><br><span class=\"line\">menuentry 'Debian GNU/Linux' --class debian --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-simple-027db92b-683c-47c8-8767-e1fc16ee6df7' &#123;</span><br><span class=\"line\">        load_video</span><br><span class=\"line\">        insmod gzio</span><br><span class=\"line\">        if [ x$grub_platform = xxen ]; then insmod xzio; insmod lzopio; fi</span><br><span class=\"line\">        insmod part_msdos</span><br><span class=\"line\">        insmod ext2</span><br><span class=\"line\">        if [ x$feature_platform_search_hint = xy ]; then</span><br><span class=\"line\">          search --no-floppy --fs-uuid --set=root  f9cae74d-6fc8-47c0-be89-00a237271167</span><br><span class=\"line\">        else</span><br><span class=\"line\">          search --no-floppy --fs-uuid --set=root f9cae74d-6fc8-47c0-be89-00a237271167</span><br><span class=\"line\">        fi</span><br><span class=\"line\">        echo    'Loading Linux 4.14.129-bbrplus ...'</span><br><span class=\"line\">        linux   /vmlinuz-4.14.129-bbrplus root=UUID=027db92b-683c-47c8-8767-e1fc16ee6df7 ro  quiet</span><br><span class=\"line\">        echo    'Loading initial ramdisk ...'</span><br><span class=\"line\">        initrd  /initrd.img-4.14.129-bbrplus</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">submenu 'Advanced options for Debian GNU/Linux' $menuentry_id_option 'gnulinux-advanced-027db92b-683c-47c8-8767-e1fc16ee6df7' &#123;</span><br><span class=\"line\">        menuentry 'Debian GNU/Linux, with Linux 4.14.129-bbrplus' --class debian --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-4.14.129-bbrplus-advanced-027db92b-683c-47c8-8767-e1fc16ee6df7' &#123;</span><br><span class=\"line\">                load_video</span><br><span class=\"line\">                insmod gzio</span><br><span class=\"line\">                if [ x$grub_platform = xxen ]; then insmod xzio; insmod lzopio; fi</span><br><span class=\"line\">                insmod part_msdos</span><br><span class=\"line\">                insmod ext2</span><br><span class=\"line\">                if [ x$feature_platform_search_hint = xy ]; then</span><br><span class=\"line\">                  search --no-floppy --fs-uuid --set=root  f9cae74d-6fc8-47c0-be89-00a237271167</span><br><span class=\"line\">                else</span><br><span class=\"line\">                  search --no-floppy --fs-uuid --set=root f9cae74d-6fc8-47c0-be89-00a237271167</span><br><span class=\"line\">                fi</span><br><span class=\"line\">                echo    'Loading Linux 4.14.129-bbrplus ...'</span><br><span class=\"line\">                linux   /vmlinuz-4.14.129-bbrplus root=UUID=027db92b-683c-47c8-8767-e1fc16ee6df7 ro  quiet</span><br><span class=\"line\">                echo    'Loading initial ramdisk ...'</span><br><span class=\"line\">                initrd  /initrd.img-4.14.129-bbrplus</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        menuentry 'Debian GNU/Linux, with Linux 4.14.129-bbrplus (recovery mode)' --class debian --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-4.14.129-bbrplus-recovery-027db92b-683c-47c8-8767-e1fc16ee6df7' &#123;</span><br><span class=\"line\">                load_video</span><br><span class=\"line\">                insmod gzio</span><br><span class=\"line\">                if [ x$grub_platform = xxen ]; then insmod xzio; insmod lzopio; fi</span><br><span class=\"line\">                insmod part_msdos</span><br><span class=\"line\">                insmod ext2</span><br><span class=\"line\">                if [ x$feature_platform_search_hint = xy ]; then</span><br><span class=\"line\">                  search --no-floppy --fs-uuid --set=root  f9cae74d-6fc8-47c0-be89-00a237271167</span><br><span class=\"line\">                else</span><br><span class=\"line\">                  search --no-floppy --fs-uuid --set=root f9cae74d-6fc8-47c0-be89-00a237271167</span><br><span class=\"line\">                fi</span><br><span class=\"line\">                echo    'Loading Linux 4.14.129-bbrplus ...'</span><br><span class=\"line\">                linux   /vmlinuz-4.14.129-bbrplus root=UUID=027db92b-683c-47c8-8767-e1fc16ee6df7 ro single</span><br><span class=\"line\">                echo    'Loading initial ramdisk ...'</span><br><span class=\"line\">                initrd  /initrd.img-4.14.129-bbrplus</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        menuentry 'Debian GNU/Linux, with Linux 4.9.0-8-amd64' --class debian --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-4.9.0-8-amd64-advanced-027db92b-683c-47c8-8767-e1fc16ee6df7' &#123;</span><br><span class=\"line\">                load_video</span><br><span class=\"line\">                insmod gzio</span><br><span class=\"line\">                if [ x$grub_platform = xxen ]; then insmod xzio; insmod lzopio; fi</span><br><span class=\"line\">                insmod part_msdos</span><br><span class=\"line\">                insmod ext2</span><br><span class=\"line\">                if [ x$feature_platform_search_hint = xy ]; then</span><br><span class=\"line\">                  search --no-floppy --fs-uuid --set=root  f9cae74d-6fc8-47c0-be89-00a237271167</span><br><span class=\"line\">                else</span><br><span class=\"line\">                  search --no-floppy --fs-uuid --set=root f9cae74d-6fc8-47c0-be89-00a237271167</span><br><span class=\"line\">                fi</span><br><span class=\"line\">                echo    'Loading Linux 4.9.0-8-amd64 ...'</span><br><span class=\"line\">                linux   /vmlinuz-4.9.0-8-amd64 root=UUID=027db92b-683c-47c8-8767-e1fc16ee6df7 ro  quiet</span><br><span class=\"line\">                echo    'Loading initial ramdisk ...'</span><br><span class=\"line\">                initrd  /initrd.img-4.9.0-8-amd64</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        menuentry 'Debian GNU/Linux, with Linux 4.9.0-8-amd64 (recovery mode)' --class debian --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-4.9.0-8-amd64-recovery-027db92b-683c-47c8-8767-e1fc16ee6df7' &#123;</span><br><span class=\"line\">                load_video</span><br><span class=\"line\">                insmod gzio</span><br><span class=\"line\">                if [ x$grub_platform = xxen ]; then insmod xzio; insmod lzopio; fi</span><br><span class=\"line\">                insmod part_msdos</span><br><span class=\"line\">                insmod ext2</span><br><span class=\"line\">                if [ x$feature_platform_search_hint = xy ]; then</span><br><span class=\"line\">                  search --no-floppy --fs-uuid --set=root  f9cae74d-6fc8-47c0-be89-00a237271167</span><br><span class=\"line\">                else</span><br><span class=\"line\">                  search --no-floppy --fs-uuid --set=root f9cae74d-6fc8-47c0-be89-00a237271167</span><br><span class=\"line\">                fi</span><br><span class=\"line\">                echo    'Loading Linux 4.9.0-8-amd64 ...'</span><br><span class=\"line\">                linux   /vmlinuz-4.9.0-8-amd64 root=UUID=027db92b-683c-47c8-8767-e1fc16ee6df7 ro single</span><br><span class=\"line\">                echo    'Loading initial ramdisk ...'</span><br><span class=\"line\">                initrd  /initrd.img-4.9.0-8-amd64</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">### END /etc/grub.d/10_linux ###</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">### BEGIN /etc/grub.d/20_linux_xen ###</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">### END /etc/grub.d/20_linux_xen ###</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">### BEGIN /etc/grub.d/30_os-prober ###</span></span><br><span class=\"line\"><span class=\"comment\">### END /etc/grub.d/30_os-prober ###</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">### BEGIN /etc/grub.d/30_uefi-firmware ###</span></span><br><span class=\"line\"><span class=\"comment\">### END /etc/grub.d/30_uefi-firmware ###</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">### BEGIN /etc/grub.d/40_custom ###</span></span><br><span class=\"line\"><span class=\"comment\"># This file provides an easy way to add custom menu entries.  Simply type the</span></span><br><span class=\"line\"><span class=\"comment\"># menu entries you want to add after this comment.  Be careful not to change</span></span><br><span class=\"line\"><span class=\"comment\"># the 'exec tail' line above.</span></span><br><span class=\"line\"><span class=\"comment\">### END /etc/grub.d/40_custom ###</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">### BEGIN /etc/grub.d/41_custom ###</span></span><br><span class=\"line\">if [ -f  $&#123;config_directory&#125;/custom.cfg ]; then</span><br><span class=\"line\">  source $&#123;config_directory&#125;/custom.cfg</span><br><span class=\"line\">elif [ -z \"$&#123;config_directory&#125;\" -a -f  $prefix/custom.cfg ]; then</span><br><span class=\"line\">  source $prefix/custom.cfg;</span><br><span class=\"line\">fi</span><br><span class=\"line\"><span class=\"comment\">### END /etc/grub.d/41_custom ###</span></span><br></pre></td></tr></table></figure>\n<p>这其实是一个树结构，包含了<code>menuentry</code>，<code>submenu</code>等项，而我们的目标就是将我们的新内核变成默认的启动项。为此，我们需要修改启动菜单模板。</p>\n</li>\n<li><p>修改启动菜单模板</p>\n<figure class=\"highlight bash\"><figcaption><span>/etc/default/grub </span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GRUB_DEFAULT=0 修改为</span><br><span class=\"line\">GRUB_DEFAULT=<span class=\"string\">\"Advanced options for Debian GNU/Linux&gt;Debian GNU/Linux, with Linux 4.14.129-bbrplus\"</span></span><br></pre></td></tr></table></figure>\n<p>其中<code>Advanced options for Debian GNU/Linux</code>是一级菜单,<code>Debian GNU/Linux, with Linux 4.14.129-bbrplus</code>是二级菜单, 中间用<code>&gt;</code>连接.</p>\n</li>\n<li><p>生成新的启动菜单文件</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">update-grub</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>重启系统</p>\n</li>\n</ol>"},{"title":"将QuerySet转为dict","url":"505.html","id":"505","date":"2019-10-27T05:47:00.000Z","_content":"**摘要** 关于这个问题，中文互联网上有很多错误的方案，这里记录一种亲测可行的解决方案\n\n<!--more-->\n\n具体的场景是：\n\n通过`ServerModel.objects.all().values()`获得了一个`QuerySet`类对象\n```python\n    <QuerySet [{'id': 1, 'server_ip': '193.221.232.1', 'server_name': 'sss', 'server_user': '', 'server_passwd': '', 'server_createtime': datetime.datetime(2019,10, 25, 4, 20, 8, 570196, tzinfo=<UTC>), 'server_comment': ''}, {'id': 2, 'server_ip': '193.221.232.2', 'server_name': 'sss', 'server_user': '', 'server_passwd': '', 'server_createtime': datetime.datetime(2019, 10, 25, 4, 23, 24, 77533, tzinfo=<UTC>), 'server_comment': ''}]>\n```\n\n 现在希望将这个对象通过`JsonResponse()`发送出去。由于`JsonResponse()`的安全限制，只允许发送`dict`对象，因此需要将`QuerySet`转为`dict` 。\n \n 在中文互联网下，大部分的方法是调用`model_to_dict`函数，这是非常愚蠢的做法，顾名思义，`model_to_dict`负责将`model`类而不是`QuerySet`类转变为`dict`，如果坚持使用`model_to_dict`则会报错`'QuerySet' object has no attribute '_meta'`。\n  \n  正确的做法是使用`list`函数。 将`list()`作用在`QuerySet`上会得到一个`list`对象\n\n```python\n    [{'id': 1, 'server_ip': '193.221.232.1', 'server_name': 'sss', 'server_user': '', 'server_passwd': '', 'server_createtime': datetime.datetime(2019,10, 25, 4, 20, 8, 570196, tzinfo=<UTC>), 'server_comment': ''}, {'id': 2, 'server_ip': '193.221.232.2', 'server_name': 'sss', 'server_user': '', 'server_passwd': '', 'server_createtime': datetime.datetime(2019, 10, 25, 4, 23, 24, 77533, tzinfo=<UTC>), 'server_comment': ''}]\n```\n\n  随后将这个`list`对象放入一个`dict`并赋予键名即完成了`QuerySet`到`dic`t的转换.","source":"_posts/【Django】如何将QuerySet转为dict.md","raw":"title: 将QuerySet转为dict\ntags:\n  - django\n  - web\nurl: 505.html\nid: 505\ncategories:\n  - Python\ndate: 2019-10-27 13:47:00\n---\n**摘要** 关于这个问题，中文互联网上有很多错误的方案，这里记录一种亲测可行的解决方案\n\n<!--more-->\n\n具体的场景是：\n\n通过`ServerModel.objects.all().values()`获得了一个`QuerySet`类对象\n```python\n    <QuerySet [{'id': 1, 'server_ip': '193.221.232.1', 'server_name': 'sss', 'server_user': '', 'server_passwd': '', 'server_createtime': datetime.datetime(2019,10, 25, 4, 20, 8, 570196, tzinfo=<UTC>), 'server_comment': ''}, {'id': 2, 'server_ip': '193.221.232.2', 'server_name': 'sss', 'server_user': '', 'server_passwd': '', 'server_createtime': datetime.datetime(2019, 10, 25, 4, 23, 24, 77533, tzinfo=<UTC>), 'server_comment': ''}]>\n```\n\n 现在希望将这个对象通过`JsonResponse()`发送出去。由于`JsonResponse()`的安全限制，只允许发送`dict`对象，因此需要将`QuerySet`转为`dict` 。\n \n 在中文互联网下，大部分的方法是调用`model_to_dict`函数，这是非常愚蠢的做法，顾名思义，`model_to_dict`负责将`model`类而不是`QuerySet`类转变为`dict`，如果坚持使用`model_to_dict`则会报错`'QuerySet' object has no attribute '_meta'`。\n  \n  正确的做法是使用`list`函数。 将`list()`作用在`QuerySet`上会得到一个`list`对象\n\n```python\n    [{'id': 1, 'server_ip': '193.221.232.1', 'server_name': 'sss', 'server_user': '', 'server_passwd': '', 'server_createtime': datetime.datetime(2019,10, 25, 4, 20, 8, 570196, tzinfo=<UTC>), 'server_comment': ''}, {'id': 2, 'server_ip': '193.221.232.2', 'server_name': 'sss', 'server_user': '', 'server_passwd': '', 'server_createtime': datetime.datetime(2019, 10, 25, 4, 23, 24, 77533, tzinfo=<UTC>), 'server_comment': ''}]\n```\n\n  随后将这个`list`对象放入一个`dict`并赋予键名即完成了`QuerySet`到`dic`t的转换.","slug":"【Django】如何将QuerySet转为dict","published":1,"updated":"2020-02-10T09:33:16.765Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbqbaw001htooj91qrd7eo","content":"<p><strong>摘要</strong> 关于这个问题，中文互联网上有很多错误的方案，这里记录一种亲测可行的解决方案</p>\n<a id=\"more\"></a>\n\n<p>具体的场景是：</p>\n<p>通过<code>ServerModel.objects.all().values()</code>获得了一个<code>QuerySet</code>类对象</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;QuerySet [&#123;<span class=\"string\">'id'</span>: <span class=\"number\">1</span>, <span class=\"string\">'server_ip'</span>: <span class=\"string\">'193.221.232.1'</span>, <span class=\"string\">'server_name'</span>: <span class=\"string\">'sss'</span>, <span class=\"string\">'server_user'</span>: <span class=\"string\">''</span>, <span class=\"string\">'server_passwd'</span>: <span class=\"string\">''</span>, <span class=\"string\">'server_createtime'</span>: datetime.datetime(<span class=\"number\">2019</span>,<span class=\"number\">10</span>, <span class=\"number\">25</span>, <span class=\"number\">4</span>, <span class=\"number\">20</span>, <span class=\"number\">8</span>, <span class=\"number\">570196</span>, tzinfo=&lt;UTC&gt;), <span class=\"string\">'server_comment'</span>: <span class=\"string\">''</span>&#125;, &#123;<span class=\"string\">'id'</span>: <span class=\"number\">2</span>, <span class=\"string\">'server_ip'</span>: <span class=\"string\">'193.221.232.2'</span>, <span class=\"string\">'server_name'</span>: <span class=\"string\">'sss'</span>, <span class=\"string\">'server_user'</span>: <span class=\"string\">''</span>, <span class=\"string\">'server_passwd'</span>: <span class=\"string\">''</span>, <span class=\"string\">'server_createtime'</span>: datetime.datetime(<span class=\"number\">2019</span>, <span class=\"number\">10</span>, <span class=\"number\">25</span>, <span class=\"number\">4</span>, <span class=\"number\">23</span>, <span class=\"number\">24</span>, <span class=\"number\">77533</span>, tzinfo=&lt;UTC&gt;), <span class=\"string\">'server_comment'</span>: <span class=\"string\">''</span>&#125;]&gt;</span><br></pre></td></tr></table></figure>\n\n<p> 现在希望将这个对象通过<code>JsonResponse()</code>发送出去。由于<code>JsonResponse()</code>的安全限制，只允许发送<code>dict</code>对象，因此需要将<code>QuerySet</code>转为<code>dict</code> 。</p>\n<p> 在中文互联网下，大部分的方法是调用<code>model_to_dict</code>函数，这是非常愚蠢的做法，顾名思义，<code>model_to_dict</code>负责将<code>model</code>类而不是<code>QuerySet</code>类转变为<code>dict</code>，如果坚持使用<code>model_to_dict</code>则会报错<code>&#39;QuerySet&#39; object has no attribute &#39;_meta&#39;</code>。</p>\n<p>  正确的做法是使用<code>list</code>函数。 将<code>list()</code>作用在<code>QuerySet</code>上会得到一个<code>list</code>对象</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[&#123;<span class=\"string\">'id'</span>: <span class=\"number\">1</span>, <span class=\"string\">'server_ip'</span>: <span class=\"string\">'193.221.232.1'</span>, <span class=\"string\">'server_name'</span>: <span class=\"string\">'sss'</span>, <span class=\"string\">'server_user'</span>: <span class=\"string\">''</span>, <span class=\"string\">'server_passwd'</span>: <span class=\"string\">''</span>, <span class=\"string\">'server_createtime'</span>: datetime.datetime(<span class=\"number\">2019</span>,<span class=\"number\">10</span>, <span class=\"number\">25</span>, <span class=\"number\">4</span>, <span class=\"number\">20</span>, <span class=\"number\">8</span>, <span class=\"number\">570196</span>, tzinfo=&lt;UTC&gt;), <span class=\"string\">'server_comment'</span>: <span class=\"string\">''</span>&#125;, &#123;<span class=\"string\">'id'</span>: <span class=\"number\">2</span>, <span class=\"string\">'server_ip'</span>: <span class=\"string\">'193.221.232.2'</span>, <span class=\"string\">'server_name'</span>: <span class=\"string\">'sss'</span>, <span class=\"string\">'server_user'</span>: <span class=\"string\">''</span>, <span class=\"string\">'server_passwd'</span>: <span class=\"string\">''</span>, <span class=\"string\">'server_createtime'</span>: datetime.datetime(<span class=\"number\">2019</span>, <span class=\"number\">10</span>, <span class=\"number\">25</span>, <span class=\"number\">4</span>, <span class=\"number\">23</span>, <span class=\"number\">24</span>, <span class=\"number\">77533</span>, tzinfo=&lt;UTC&gt;), <span class=\"string\">'server_comment'</span>: <span class=\"string\">''</span>&#125;]</span><br></pre></td></tr></table></figure>\n\n<p>  随后将这个<code>list</code>对象放入一个<code>dict</code>并赋予键名即完成了<code>QuerySet</code>到<code>dic</code>t的转换.</p>\n","site":{"data":{}},"excerpt":"<p><strong>摘要</strong> 关于这个问题，中文互联网上有很多错误的方案，这里记录一种亲测可行的解决方案</p>","more":"<p>具体的场景是：</p>\n<p>通过<code>ServerModel.objects.all().values()</code>获得了一个<code>QuerySet</code>类对象</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;QuerySet [&#123;<span class=\"string\">'id'</span>: <span class=\"number\">1</span>, <span class=\"string\">'server_ip'</span>: <span class=\"string\">'193.221.232.1'</span>, <span class=\"string\">'server_name'</span>: <span class=\"string\">'sss'</span>, <span class=\"string\">'server_user'</span>: <span class=\"string\">''</span>, <span class=\"string\">'server_passwd'</span>: <span class=\"string\">''</span>, <span class=\"string\">'server_createtime'</span>: datetime.datetime(<span class=\"number\">2019</span>,<span class=\"number\">10</span>, <span class=\"number\">25</span>, <span class=\"number\">4</span>, <span class=\"number\">20</span>, <span class=\"number\">8</span>, <span class=\"number\">570196</span>, tzinfo=&lt;UTC&gt;), <span class=\"string\">'server_comment'</span>: <span class=\"string\">''</span>&#125;, &#123;<span class=\"string\">'id'</span>: <span class=\"number\">2</span>, <span class=\"string\">'server_ip'</span>: <span class=\"string\">'193.221.232.2'</span>, <span class=\"string\">'server_name'</span>: <span class=\"string\">'sss'</span>, <span class=\"string\">'server_user'</span>: <span class=\"string\">''</span>, <span class=\"string\">'server_passwd'</span>: <span class=\"string\">''</span>, <span class=\"string\">'server_createtime'</span>: datetime.datetime(<span class=\"number\">2019</span>, <span class=\"number\">10</span>, <span class=\"number\">25</span>, <span class=\"number\">4</span>, <span class=\"number\">23</span>, <span class=\"number\">24</span>, <span class=\"number\">77533</span>, tzinfo=&lt;UTC&gt;), <span class=\"string\">'server_comment'</span>: <span class=\"string\">''</span>&#125;]&gt;</span><br></pre></td></tr></table></figure>\n\n<p> 现在希望将这个对象通过<code>JsonResponse()</code>发送出去。由于<code>JsonResponse()</code>的安全限制，只允许发送<code>dict</code>对象，因此需要将<code>QuerySet</code>转为<code>dict</code> 。</p>\n<p> 在中文互联网下，大部分的方法是调用<code>model_to_dict</code>函数，这是非常愚蠢的做法，顾名思义，<code>model_to_dict</code>负责将<code>model</code>类而不是<code>QuerySet</code>类转变为<code>dict</code>，如果坚持使用<code>model_to_dict</code>则会报错<code>&#39;QuerySet&#39; object has no attribute &#39;_meta&#39;</code>。</p>\n<p>  正确的做法是使用<code>list</code>函数。 将<code>list()</code>作用在<code>QuerySet</code>上会得到一个<code>list</code>对象</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[&#123;<span class=\"string\">'id'</span>: <span class=\"number\">1</span>, <span class=\"string\">'server_ip'</span>: <span class=\"string\">'193.221.232.1'</span>, <span class=\"string\">'server_name'</span>: <span class=\"string\">'sss'</span>, <span class=\"string\">'server_user'</span>: <span class=\"string\">''</span>, <span class=\"string\">'server_passwd'</span>: <span class=\"string\">''</span>, <span class=\"string\">'server_createtime'</span>: datetime.datetime(<span class=\"number\">2019</span>,<span class=\"number\">10</span>, <span class=\"number\">25</span>, <span class=\"number\">4</span>, <span class=\"number\">20</span>, <span class=\"number\">8</span>, <span class=\"number\">570196</span>, tzinfo=&lt;UTC&gt;), <span class=\"string\">'server_comment'</span>: <span class=\"string\">''</span>&#125;, &#123;<span class=\"string\">'id'</span>: <span class=\"number\">2</span>, <span class=\"string\">'server_ip'</span>: <span class=\"string\">'193.221.232.2'</span>, <span class=\"string\">'server_name'</span>: <span class=\"string\">'sss'</span>, <span class=\"string\">'server_user'</span>: <span class=\"string\">''</span>, <span class=\"string\">'server_passwd'</span>: <span class=\"string\">''</span>, <span class=\"string\">'server_createtime'</span>: datetime.datetime(<span class=\"number\">2019</span>, <span class=\"number\">10</span>, <span class=\"number\">25</span>, <span class=\"number\">4</span>, <span class=\"number\">23</span>, <span class=\"number\">24</span>, <span class=\"number\">77533</span>, tzinfo=&lt;UTC&gt;), <span class=\"string\">'server_comment'</span>: <span class=\"string\">''</span>&#125;]</span><br></pre></td></tr></table></figure>\n\n<p>  随后将这个<code>list</code>对象放入一个<code>dict</code>并赋予键名即完成了<code>QuerySet</code>到<code>dic</code>t的转换.</p>"},{"title":"【Python】正则表达式的相关笔记","url":"368.html","id":"368","date":"2019-05-02T08:43:00.000Z","_content":"\n### re.match(pattern, string, flags=0)\n\n该函数是**从头开始**匹配字符串，也就是说，对于文本内容, 想要匹配 `[i++]`\n\n    disr[i++]=\n\n如果像这样使用\n\n    re.match(r'(\\[.*?\\])', 'disr[i++]=')\n\n是无法匹配到的，需要修改为：\n\n    re.match(r'.*(\\[.*?\\])', 'disr[i++]=')\n\n### re.findall(pattern, string, flags=0)\n\n可以在pattern中用（）扩起若干表达式，最终会返回匹配每个表达式的元组。 EG：\n\n    \n    str='\"加泰罗尼亚地图集.Atlas catalan.图8.jpg*34072643*2018-10-23 18:07:02\"'\n    print(re.findall(r'\\\"(.*?)\\*([0-9]*)\\*', str))\n    \n    output: ('加泰罗尼亚地图集.Atlas catalan.图8.jpg', '34072643')","source":"_posts/【Python】正则表达式的相关笔记.md","raw":"title: 【Python】正则表达式的相关笔记\nurl: 368.html\nid: 368\ncategories:\n  - Python\ntags: []\ndate: 2019-05-02 16:43:00\n---\n\n### re.match(pattern, string, flags=0)\n\n该函数是**从头开始**匹配字符串，也就是说，对于文本内容, 想要匹配 `[i++]`\n\n    disr[i++]=\n\n如果像这样使用\n\n    re.match(r'(\\[.*?\\])', 'disr[i++]=')\n\n是无法匹配到的，需要修改为：\n\n    re.match(r'.*(\\[.*?\\])', 'disr[i++]=')\n\n### re.findall(pattern, string, flags=0)\n\n可以在pattern中用（）扩起若干表达式，最终会返回匹配每个表达式的元组。 EG：\n\n    \n    str='\"加泰罗尼亚地图集.Atlas catalan.图8.jpg*34072643*2018-10-23 18:07:02\"'\n    print(re.findall(r'\\\"(.*?)\\*([0-9]*)\\*', str))\n    \n    output: ('加泰罗尼亚地图集.Atlas catalan.图8.jpg', '34072643')","slug":"【Python】正则表达式的相关笔记","published":1,"updated":"2020-02-10T09:33:16.765Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbqbbi001jtooja9jxdf6s","content":"<h3 id=\"re-match-pattern-string-flags-0\"><a href=\"#re-match-pattern-string-flags-0\" class=\"headerlink\" title=\"re.match(pattern, string, flags=0)\"></a>re.match(pattern, string, flags=0)</h3><p>该函数是<strong>从头开始</strong>匹配字符串，也就是说，对于文本内容, 想要匹配 <code>[i++]</code></p>\n<pre><code>disr[i++]=</code></pre><p>如果像这样使用</p>\n<pre><code>re.match(r&apos;(\\[.*?\\])&apos;, &apos;disr[i++]=&apos;)</code></pre><p>是无法匹配到的，需要修改为：</p>\n<pre><code>re.match(r&apos;.*(\\[.*?\\])&apos;, &apos;disr[i++]=&apos;)</code></pre><h3 id=\"re-findall-pattern-string-flags-0\"><a href=\"#re-findall-pattern-string-flags-0\" class=\"headerlink\" title=\"re.findall(pattern, string, flags=0)\"></a>re.findall(pattern, string, flags=0)</h3><p>可以在pattern中用（）扩起若干表达式，最终会返回匹配每个表达式的元组。 EG：</p>\n<pre><code>str=&apos;&quot;加泰罗尼亚地图集.Atlas catalan.图8.jpg*34072643*2018-10-23 18:07:02&quot;&apos;\nprint(re.findall(r&apos;\\&quot;(.*?)\\*([0-9]*)\\*&apos;, str))\n\noutput: (&apos;加泰罗尼亚地图集.Atlas catalan.图8.jpg&apos;, &apos;34072643&apos;)</code></pre>","site":{"data":{}},"excerpt":"","more":"<h3 id=\"re-match-pattern-string-flags-0\"><a href=\"#re-match-pattern-string-flags-0\" class=\"headerlink\" title=\"re.match(pattern, string, flags=0)\"></a>re.match(pattern, string, flags=0)</h3><p>该函数是<strong>从头开始</strong>匹配字符串，也就是说，对于文本内容, 想要匹配 <code>[i++]</code></p>\n<pre><code>disr[i++]=</code></pre><p>如果像这样使用</p>\n<pre><code>re.match(r&apos;(\\[.*?\\])&apos;, &apos;disr[i++]=&apos;)</code></pre><p>是无法匹配到的，需要修改为：</p>\n<pre><code>re.match(r&apos;.*(\\[.*?\\])&apos;, &apos;disr[i++]=&apos;)</code></pre><h3 id=\"re-findall-pattern-string-flags-0\"><a href=\"#re-findall-pattern-string-flags-0\" class=\"headerlink\" title=\"re.findall(pattern, string, flags=0)\"></a>re.findall(pattern, string, flags=0)</h3><p>可以在pattern中用（）扩起若干表达式，最终会返回匹配每个表达式的元组。 EG：</p>\n<pre><code>str=&apos;&quot;加泰罗尼亚地图集.Atlas catalan.图8.jpg*34072643*2018-10-23 18:07:02&quot;&apos;\nprint(re.findall(r&apos;\\&quot;(.*?)\\*([0-9]*)\\*&apos;, str))\n\noutput: (&apos;加泰罗尼亚地图集.Atlas catalan.图8.jpg&apos;, &apos;34072643&apos;)</code></pre>"},{"title":"【VNC】Could not start d-bus. Can you call qdbus? 问题解决","url":"427.html","id":"427","date":"2019-06-06T06:36:32.000Z","_content":"主要解决如下问题：\n\n    Could not start d-bus. Can you call qdbus?`\n    \n<!--more-->\n\n\n解决方案\n--\n\n    vim /usr/bin/startkde # 查看KDE启动脚本。\n    \n\n找到qdbus的定义，发现\n\n    qdbus=qdbus\n    \n\n在bash下直接输入qdbus，报错\n\n    X11 initialization failed\n    \n\n输入\n\n    export DISPLAY=:0\n    \n\n解决","source":"_posts/【VNC】Could not start d-bus Can you call qdbus问题解决.md","raw":"title: 【VNC】Could not start d-bus. Can you call qdbus? 问题解决\nurl: 427.html\nid: 427\ncategories:\n  - Linux &amp; VPS\ndate: 2019-06-06 14:36:32\ntags:\n---\n主要解决如下问题：\n\n    Could not start d-bus. Can you call qdbus?`\n    \n<!--more-->\n\n\n解决方案\n--\n\n    vim /usr/bin/startkde # 查看KDE启动脚本。\n    \n\n找到qdbus的定义，发现\n\n    qdbus=qdbus\n    \n\n在bash下直接输入qdbus，报错\n\n    X11 initialization failed\n    \n\n输入\n\n    export DISPLAY=:0\n    \n\n解决","slug":"【VNC】Could not start d-bus Can you call qdbus问题解决","published":1,"updated":"2020-02-10T09:33:16.765Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbqbc0001mtoojep72hh4j","content":"<p>主要解决如下问题：</p>\n<pre><code>Could not start d-bus. Can you call qdbus?`</code></pre><a id=\"more\"></a>\n\n\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><pre><code>vim /usr/bin/startkde # 查看KDE启动脚本。</code></pre><p>找到qdbus的定义，发现</p>\n<pre><code>qdbus=qdbus</code></pre><p>在bash下直接输入qdbus，报错</p>\n<pre><code>X11 initialization failed</code></pre><p>输入</p>\n<pre><code>export DISPLAY=:0</code></pre><p>解决</p>\n","site":{"data":{}},"excerpt":"<p>主要解决如下问题：</p>\n<pre><code>Could not start d-bus. Can you call qdbus?`</code></pre>","more":"<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><pre><code>vim /usr/bin/startkde # 查看KDE启动脚本。</code></pre><p>找到qdbus的定义，发现</p>\n<pre><code>qdbus=qdbus</code></pre><p>在bash下直接输入qdbus，报错</p>\n<pre><code>X11 initialization failed</code></pre><p>输入</p>\n<pre><code>export DISPLAY=:0</code></pre><p>解决</p>"},{"title":"【leetcode】3. 无重复字符的最长子串","url":"375.html","id":"375","date":"2019-05-18T13:47:03.000Z","toc":true,"_content":"\n题目描述：\n-----\n\n> 给定一个字符串，请你找出其中不含有重复字符的 最长子串 的长度。\n\n本人题解：\n-----\n\n    int lengthOfLongestSubstring(string s) \n        {\n            unordered_map<char, int> storeIndex;\n            queue<char> charlist;\n            int maxSize = 0;\n            for (int i = 0; i < s.size(); ++i)\n            {\n                if (storeIndex.count(s[i]) == 0) // map中不存在该元素\n                {\n                    storeIndex[s[i]] = 1;\n                    charlist.push(s[i]);\n                }\n                else\n                {\n                    while(charlist.front() != s[i])\n                    {\n                        maxSize = maxSize>storeIndex.size()?maxSize:storeIndex.size();\n                        storeIndex.erase(charlist.front());\n                        charlist.pop();\n                    }\n                    charlist.pop();\n                    charlist.push(s[i]);\n                }\n            }\n            return maxSize>storeIndex.size()?maxSize:storeIndex.size();\n        }\n    \n\ndalao题解：\n--------\n\n> 这道题主要用到思路是：滑动窗口 什么是滑动窗口？ 其实就是一个队列,比如例题中的 abcabcbb，进入这个队列（窗口）为 abc 满足题目要求，当再进入 a，队列变成了 abca，这时候不满足要求。所以，我们要移动这个队列！ 如何移动？ 我们只要把队列的左边的元素移出就行了，直到满足题目要求！ 一直维持这样的队列，找出队列出现最长的长度时候，求出解！ 时间复杂度：O(n)\n\n    int lengthOfLongestSubstring(string s) \n    {\n        if(s.size() == 0) return 0;\n        unordered_set<char> lookup;\n        int maxStr = 0;\n        int left = 0;\n        for(int i = 0; i < s.size(); i++)\n        {\n            while (lookup.find(s[i]) != lookup.end())\n            {\n                lookup.erase(s[left]);\n                left ++;\n            }\n            maxStr = max(maxStr,i-left+1);\n            lookup.insert(s[i]);\n        }\n        return maxStr;\n    }","source":"_posts/【leetcode】3. 无重复字符的最长子串.md","raw":"---\ntitle: 【leetcode】3. 无重复字符的最长子串\nurl: 375.html\nid: 375\ncategories:\n  - leetcode\ndate: 2019-05-18 21:47:03\ntags:\ntoc: true\n---\n\n题目描述：\n-----\n\n> 给定一个字符串，请你找出其中不含有重复字符的 最长子串 的长度。\n\n本人题解：\n-----\n\n    int lengthOfLongestSubstring(string s) \n        {\n            unordered_map<char, int> storeIndex;\n            queue<char> charlist;\n            int maxSize = 0;\n            for (int i = 0; i < s.size(); ++i)\n            {\n                if (storeIndex.count(s[i]) == 0) // map中不存在该元素\n                {\n                    storeIndex[s[i]] = 1;\n                    charlist.push(s[i]);\n                }\n                else\n                {\n                    while(charlist.front() != s[i])\n                    {\n                        maxSize = maxSize>storeIndex.size()?maxSize:storeIndex.size();\n                        storeIndex.erase(charlist.front());\n                        charlist.pop();\n                    }\n                    charlist.pop();\n                    charlist.push(s[i]);\n                }\n            }\n            return maxSize>storeIndex.size()?maxSize:storeIndex.size();\n        }\n    \n\ndalao题解：\n--------\n\n> 这道题主要用到思路是：滑动窗口 什么是滑动窗口？ 其实就是一个队列,比如例题中的 abcabcbb，进入这个队列（窗口）为 abc 满足题目要求，当再进入 a，队列变成了 abca，这时候不满足要求。所以，我们要移动这个队列！ 如何移动？ 我们只要把队列的左边的元素移出就行了，直到满足题目要求！ 一直维持这样的队列，找出队列出现最长的长度时候，求出解！ 时间复杂度：O(n)\n\n    int lengthOfLongestSubstring(string s) \n    {\n        if(s.size() == 0) return 0;\n        unordered_set<char> lookup;\n        int maxStr = 0;\n        int left = 0;\n        for(int i = 0; i < s.size(); i++)\n        {\n            while (lookup.find(s[i]) != lookup.end())\n            {\n                lookup.erase(s[left]);\n                left ++;\n            }\n            maxStr = max(maxStr,i-left+1);\n            lookup.insert(s[i]);\n        }\n        return maxStr;\n    }","slug":"【leetcode】3. 无重复字符的最长子串","published":1,"updated":"2020-02-10T09:33:16.765Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbqbcw001ptooj1fg42zje","content":"<h2 id=\"题目描述：\"><a href=\"#题目描述：\" class=\"headerlink\" title=\"题目描述：\"></a>题目描述：</h2><blockquote>\n<p>给定一个字符串，请你找出其中不含有重复字符的 最长子串 的长度。</p>\n</blockquote>\n<h2 id=\"本人题解：\"><a href=\"#本人题解：\" class=\"headerlink\" title=\"本人题解：\"></a>本人题解：</h2><pre><code>int lengthOfLongestSubstring(string s) \n    {\n        unordered_map&lt;char, int&gt; storeIndex;\n        queue&lt;char&gt; charlist;\n        int maxSize = 0;\n        for (int i = 0; i &lt; s.size(); ++i)\n        {\n            if (storeIndex.count(s[i]) == 0) // map中不存在该元素\n            {\n                storeIndex[s[i]] = 1;\n                charlist.push(s[i]);\n            }\n            else\n            {\n                while(charlist.front() != s[i])\n                {\n                    maxSize = maxSize&gt;storeIndex.size()?maxSize:storeIndex.size();\n                    storeIndex.erase(charlist.front());\n                    charlist.pop();\n                }\n                charlist.pop();\n                charlist.push(s[i]);\n            }\n        }\n        return maxSize&gt;storeIndex.size()?maxSize:storeIndex.size();\n    }</code></pre><h2 id=\"dalao题解：\"><a href=\"#dalao题解：\" class=\"headerlink\" title=\"dalao题解：\"></a>dalao题解：</h2><blockquote>\n<p>这道题主要用到思路是：滑动窗口 什么是滑动窗口？ 其实就是一个队列,比如例题中的 abcabcbb，进入这个队列（窗口）为 abc 满足题目要求，当再进入 a，队列变成了 abca，这时候不满足要求。所以，我们要移动这个队列！ 如何移动？ 我们只要把队列的左边的元素移出就行了，直到满足题目要求！ 一直维持这样的队列，找出队列出现最长的长度时候，求出解！ 时间复杂度：O(n)</p>\n</blockquote>\n<pre><code>int lengthOfLongestSubstring(string s) \n{\n    if(s.size() == 0) return 0;\n    unordered_set&lt;char&gt; lookup;\n    int maxStr = 0;\n    int left = 0;\n    for(int i = 0; i &lt; s.size(); i++)\n    {\n        while (lookup.find(s[i]) != lookup.end())\n        {\n            lookup.erase(s[left]);\n            left ++;\n        }\n        maxStr = max(maxStr,i-left+1);\n        lookup.insert(s[i]);\n    }\n    return maxStr;\n}</code></pre>","site":{"data":{}},"excerpt":"","more":"<h2 id=\"题目描述：\"><a href=\"#题目描述：\" class=\"headerlink\" title=\"题目描述：\"></a>题目描述：</h2><blockquote>\n<p>给定一个字符串，请你找出其中不含有重复字符的 最长子串 的长度。</p>\n</blockquote>\n<h2 id=\"本人题解：\"><a href=\"#本人题解：\" class=\"headerlink\" title=\"本人题解：\"></a>本人题解：</h2><pre><code>int lengthOfLongestSubstring(string s) \n    {\n        unordered_map&lt;char, int&gt; storeIndex;\n        queue&lt;char&gt; charlist;\n        int maxSize = 0;\n        for (int i = 0; i &lt; s.size(); ++i)\n        {\n            if (storeIndex.count(s[i]) == 0) // map中不存在该元素\n            {\n                storeIndex[s[i]] = 1;\n                charlist.push(s[i]);\n            }\n            else\n            {\n                while(charlist.front() != s[i])\n                {\n                    maxSize = maxSize&gt;storeIndex.size()?maxSize:storeIndex.size();\n                    storeIndex.erase(charlist.front());\n                    charlist.pop();\n                }\n                charlist.pop();\n                charlist.push(s[i]);\n            }\n        }\n        return maxSize&gt;storeIndex.size()?maxSize:storeIndex.size();\n    }</code></pre><h2 id=\"dalao题解：\"><a href=\"#dalao题解：\" class=\"headerlink\" title=\"dalao题解：\"></a>dalao题解：</h2><blockquote>\n<p>这道题主要用到思路是：滑动窗口 什么是滑动窗口？ 其实就是一个队列,比如例题中的 abcabcbb，进入这个队列（窗口）为 abc 满足题目要求，当再进入 a，队列变成了 abca，这时候不满足要求。所以，我们要移动这个队列！ 如何移动？ 我们只要把队列的左边的元素移出就行了，直到满足题目要求！ 一直维持这样的队列，找出队列出现最长的长度时候，求出解！ 时间复杂度：O(n)</p>\n</blockquote>\n<pre><code>int lengthOfLongestSubstring(string s) \n{\n    if(s.size() == 0) return 0;\n    unordered_set&lt;char&gt; lookup;\n    int maxStr = 0;\n    int left = 0;\n    for(int i = 0; i &lt; s.size(); i++)\n    {\n        while (lookup.find(s[i]) != lookup.end())\n        {\n            lookup.erase(s[left]);\n            left ++;\n        }\n        maxStr = max(maxStr,i-left+1);\n        lookup.insert(s[i]);\n    }\n    return maxStr;\n}</code></pre>"},{"title":"【leetcode】4. 寻找两个有序数组的中位数","url":"421.html","id":"421","date":"2019-05-20T08:55:45.000Z","_content":"\n题目描述：\n-----\n\n> 给定两个大小为 m 和 n 的有序数组 nums1 和 nums2。 请你找出这两个有序数组的中位数，并且要求算法的时间复杂度为 O(log(m + n))。 你可以假设 nums1 和 nums2 不会同时为空。\n\n本人题解：\n-----\n\n> ![](https://images.fromling.com/images/1d5b9bb3bf021a6ee0dba56382e3ff0c.png)\n\n    double findMedianSortedArrays(vector<int>& nums1, vector<int>& nums2) \n        {\n            int m = nums1.size();\n            int n = nums2.size();\n            vector<int>::iterator miter = nums1.begin();\n            vector<int>::iterator niter = nums2.begin();\n            int count = 0;\n    \n            switch((m+n) % 2)\n            {\n                case 1:\n                    {\n                        vector<int>::iterator curriter;\n                        while(miter != nums1.end() || niter != nums2.end())\n                        {\n                            if (miter != nums1.end() && niter != nums2.end())\n                            {\n                                curriter = (*miter) < (*niter)?miter++:niter++;\n                            }\n    \n                            else if(miter != nums1.end())\n                            {\n                                curriter = miter++;\n                            }\n    \n                            else if(niter != nums2.end())\n                            {\n                                curriter = niter++;\n                            }\n    \n                            count ++;   \n    \n                            if (count == (m + n + 1) / 2)\n                            {\n                                return *curriter;\n                            }\n                        }\n                    }\n                    break;\n                case 0:\n                    {\n                        vector<int>::iterator curriter = nums1.end();\n                        vector<int>::iterator olditer = nums1.end();\n                        while(miter != nums1.end() || niter != nums2.end())\n                        {\n                            olditer = curriter;\n    \n                            if (miter != nums1.end() && niter != nums2.end())\n                            {\n                                curriter = (*miter) < (*niter)?miter++:niter++;\n                            }\n    \n                            else if(miter != nums1.end())\n                            {\n                                curriter = miter++;\n                            }\n    \n                            else if(niter != nums2.end())\n                            {\n                                curriter = niter++;\n                            } \n    \n                            count ++;   \n                            if (count == (m + n + 2) / 2)\n                            {\n                                return (double(*olditer) + double(*curriter)) / 2;\n                            }\n                        }\n                    }\n            }\n    \n\ndalao题解\n-------\n\n    double findMedianSortedArrays(vector<int>& nums1, vector<int>& nums2) {\n            int mid = nums1.size() + nums2.size() ;\n            int is_even = mid % 2;\n            mid = mid / 2 + 1;\n            double tmp = 0;\n            int cur_1 = 0;\n            int cur_2 = 0;\n            for(int i = 0 ;i<mid;i++){\n                int a = 0;\n                if (cur_1 == nums1.size()){                \n                    a = nums2[cur_2];\n                    cur_2 ++;\n                }else if (cur_2 == nums2.size()){\n                    a = nums1[cur_1];\n                    cur_1 ++;\n                }else{\n                    if (nums1[cur_1] < nums2[cur_2]){\n                        a = nums1[cur_1];\n                        cur_1 ++;\n                    }else{\n                        a = nums2[cur_2];\n                        cur_2 ++;\n                    }\n                }\n                if (is_even == 0 && i == mid - 2){\n                    tmp += a;\n                }else if (i == mid - 1){\n                    tmp += a;\n                }\n            }\n            if (is_even == 0){\n                tmp = tmp / 2;\n            }\n            return tmp;\n        }\n    \n\n收获\n--\n\n1.  `iterator`不可以赋值为`NULL`，不可以与`NULL`比较。如果想要起到类似的效果，可以赋值为`end()`\n2.  dalao题解中关于中位数的判断很有意思，值得学习一下：设定temp，如果m+n为偶数，则提前两位进行相加，如果m+n为奇数，则只相加一次。避免了两个iterator的浪费","source":"_posts/【leetcode】4. 寻找两个有序数组的中位数.md","raw":"---\ntitle: 【leetcode】4. 寻找两个有序数组的中位数\nurl: 421.html\nid: 421\ncategories:\n  - Linux &amp; VPS\ndate: 2019-05-20 16:55:45\ntags:\n---\n\n题目描述：\n-----\n\n> 给定两个大小为 m 和 n 的有序数组 nums1 和 nums2。 请你找出这两个有序数组的中位数，并且要求算法的时间复杂度为 O(log(m + n))。 你可以假设 nums1 和 nums2 不会同时为空。\n\n本人题解：\n-----\n\n> ![](https://images.fromling.com/images/1d5b9bb3bf021a6ee0dba56382e3ff0c.png)\n\n    double findMedianSortedArrays(vector<int>& nums1, vector<int>& nums2) \n        {\n            int m = nums1.size();\n            int n = nums2.size();\n            vector<int>::iterator miter = nums1.begin();\n            vector<int>::iterator niter = nums2.begin();\n            int count = 0;\n    \n            switch((m+n) % 2)\n            {\n                case 1:\n                    {\n                        vector<int>::iterator curriter;\n                        while(miter != nums1.end() || niter != nums2.end())\n                        {\n                            if (miter != nums1.end() && niter != nums2.end())\n                            {\n                                curriter = (*miter) < (*niter)?miter++:niter++;\n                            }\n    \n                            else if(miter != nums1.end())\n                            {\n                                curriter = miter++;\n                            }\n    \n                            else if(niter != nums2.end())\n                            {\n                                curriter = niter++;\n                            }\n    \n                            count ++;   \n    \n                            if (count == (m + n + 1) / 2)\n                            {\n                                return *curriter;\n                            }\n                        }\n                    }\n                    break;\n                case 0:\n                    {\n                        vector<int>::iterator curriter = nums1.end();\n                        vector<int>::iterator olditer = nums1.end();\n                        while(miter != nums1.end() || niter != nums2.end())\n                        {\n                            olditer = curriter;\n    \n                            if (miter != nums1.end() && niter != nums2.end())\n                            {\n                                curriter = (*miter) < (*niter)?miter++:niter++;\n                            }\n    \n                            else if(miter != nums1.end())\n                            {\n                                curriter = miter++;\n                            }\n    \n                            else if(niter != nums2.end())\n                            {\n                                curriter = niter++;\n                            } \n    \n                            count ++;   \n                            if (count == (m + n + 2) / 2)\n                            {\n                                return (double(*olditer) + double(*curriter)) / 2;\n                            }\n                        }\n                    }\n            }\n    \n\ndalao题解\n-------\n\n    double findMedianSortedArrays(vector<int>& nums1, vector<int>& nums2) {\n            int mid = nums1.size() + nums2.size() ;\n            int is_even = mid % 2;\n            mid = mid / 2 + 1;\n            double tmp = 0;\n            int cur_1 = 0;\n            int cur_2 = 0;\n            for(int i = 0 ;i<mid;i++){\n                int a = 0;\n                if (cur_1 == nums1.size()){                \n                    a = nums2[cur_2];\n                    cur_2 ++;\n                }else if (cur_2 == nums2.size()){\n                    a = nums1[cur_1];\n                    cur_1 ++;\n                }else{\n                    if (nums1[cur_1] < nums2[cur_2]){\n                        a = nums1[cur_1];\n                        cur_1 ++;\n                    }else{\n                        a = nums2[cur_2];\n                        cur_2 ++;\n                    }\n                }\n                if (is_even == 0 && i == mid - 2){\n                    tmp += a;\n                }else if (i == mid - 1){\n                    tmp += a;\n                }\n            }\n            if (is_even == 0){\n                tmp = tmp / 2;\n            }\n            return tmp;\n        }\n    \n\n收获\n--\n\n1.  `iterator`不可以赋值为`NULL`，不可以与`NULL`比较。如果想要起到类似的效果，可以赋值为`end()`\n2.  dalao题解中关于中位数的判断很有意思，值得学习一下：设定temp，如果m+n为偶数，则提前两位进行相加，如果m+n为奇数，则只相加一次。避免了两个iterator的浪费","slug":"【leetcode】4. 寻找两个有序数组的中位数","published":1,"updated":"2020-02-10T09:33:16.765Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbqbd3001rtoojec3f3gix","content":"<h2 id=\"题目描述：\"><a href=\"#题目描述：\" class=\"headerlink\" title=\"题目描述：\"></a>题目描述：</h2><blockquote>\n<p>给定两个大小为 m 和 n 的有序数组 nums1 和 nums2。 请你找出这两个有序数组的中位数，并且要求算法的时间复杂度为 O(log(m + n))。 你可以假设 nums1 和 nums2 不会同时为空。</p>\n</blockquote>\n<h2 id=\"本人题解：\"><a href=\"#本人题解：\" class=\"headerlink\" title=\"本人题解：\"></a>本人题解：</h2><blockquote>\n<p><img src=\"https://images.fromling.com/images/1d5b9bb3bf021a6ee0dba56382e3ff0c.png\" alt=\"\"></p>\n</blockquote>\n<pre><code>double findMedianSortedArrays(vector&lt;int&gt;&amp; nums1, vector&lt;int&gt;&amp; nums2) \n    {\n        int m = nums1.size();\n        int n = nums2.size();\n        vector&lt;int&gt;::iterator miter = nums1.begin();\n        vector&lt;int&gt;::iterator niter = nums2.begin();\n        int count = 0;\n\n        switch((m+n) % 2)\n        {\n            case 1:\n                {\n                    vector&lt;int&gt;::iterator curriter;\n                    while(miter != nums1.end() || niter != nums2.end())\n                    {\n                        if (miter != nums1.end() &amp;&amp; niter != nums2.end())\n                        {\n                            curriter = (*miter) &lt; (*niter)?miter++:niter++;\n                        }\n\n                        else if(miter != nums1.end())\n                        {\n                            curriter = miter++;\n                        }\n\n                        else if(niter != nums2.end())\n                        {\n                            curriter = niter++;\n                        }\n\n                        count ++;   \n\n                        if (count == (m + n + 1) / 2)\n                        {\n                            return *curriter;\n                        }\n                    }\n                }\n                break;\n            case 0:\n                {\n                    vector&lt;int&gt;::iterator curriter = nums1.end();\n                    vector&lt;int&gt;::iterator olditer = nums1.end();\n                    while(miter != nums1.end() || niter != nums2.end())\n                    {\n                        olditer = curriter;\n\n                        if (miter != nums1.end() &amp;&amp; niter != nums2.end())\n                        {\n                            curriter = (*miter) &lt; (*niter)?miter++:niter++;\n                        }\n\n                        else if(miter != nums1.end())\n                        {\n                            curriter = miter++;\n                        }\n\n                        else if(niter != nums2.end())\n                        {\n                            curriter = niter++;\n                        } \n\n                        count ++;   \n                        if (count == (m + n + 2) / 2)\n                        {\n                            return (double(*olditer) + double(*curriter)) / 2;\n                        }\n                    }\n                }\n        }</code></pre><h2 id=\"dalao题解\"><a href=\"#dalao题解\" class=\"headerlink\" title=\"dalao题解\"></a>dalao题解</h2><pre><code>double findMedianSortedArrays(vector&lt;int&gt;&amp; nums1, vector&lt;int&gt;&amp; nums2) {\n        int mid = nums1.size() + nums2.size() ;\n        int is_even = mid % 2;\n        mid = mid / 2 + 1;\n        double tmp = 0;\n        int cur_1 = 0;\n        int cur_2 = 0;\n        for(int i = 0 ;i&lt;mid;i++){\n            int a = 0;\n            if (cur_1 == nums1.size()){                \n                a = nums2[cur_2];\n                cur_2 ++;\n            }else if (cur_2 == nums2.size()){\n                a = nums1[cur_1];\n                cur_1 ++;\n            }else{\n                if (nums1[cur_1] &lt; nums2[cur_2]){\n                    a = nums1[cur_1];\n                    cur_1 ++;\n                }else{\n                    a = nums2[cur_2];\n                    cur_2 ++;\n                }\n            }\n            if (is_even == 0 &amp;&amp; i == mid - 2){\n                tmp += a;\n            }else if (i == mid - 1){\n                tmp += a;\n            }\n        }\n        if (is_even == 0){\n            tmp = tmp / 2;\n        }\n        return tmp;\n    }</code></pre><h2 id=\"收获\"><a href=\"#收获\" class=\"headerlink\" title=\"收获\"></a>收获</h2><ol>\n<li><code>iterator</code>不可以赋值为<code>NULL</code>，不可以与<code>NULL</code>比较。如果想要起到类似的效果，可以赋值为<code>end()</code></li>\n<li>dalao题解中关于中位数的判断很有意思，值得学习一下：设定temp，如果m+n为偶数，则提前两位进行相加，如果m+n为奇数，则只相加一次。避免了两个iterator的浪费</li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"题目描述：\"><a href=\"#题目描述：\" class=\"headerlink\" title=\"题目描述：\"></a>题目描述：</h2><blockquote>\n<p>给定两个大小为 m 和 n 的有序数组 nums1 和 nums2。 请你找出这两个有序数组的中位数，并且要求算法的时间复杂度为 O(log(m + n))。 你可以假设 nums1 和 nums2 不会同时为空。</p>\n</blockquote>\n<h2 id=\"本人题解：\"><a href=\"#本人题解：\" class=\"headerlink\" title=\"本人题解：\"></a>本人题解：</h2><blockquote>\n<p><img src=\"https://images.fromling.com/images/1d5b9bb3bf021a6ee0dba56382e3ff0c.png\" alt=\"\"></p>\n</blockquote>\n<pre><code>double findMedianSortedArrays(vector&lt;int&gt;&amp; nums1, vector&lt;int&gt;&amp; nums2) \n    {\n        int m = nums1.size();\n        int n = nums2.size();\n        vector&lt;int&gt;::iterator miter = nums1.begin();\n        vector&lt;int&gt;::iterator niter = nums2.begin();\n        int count = 0;\n\n        switch((m+n) % 2)\n        {\n            case 1:\n                {\n                    vector&lt;int&gt;::iterator curriter;\n                    while(miter != nums1.end() || niter != nums2.end())\n                    {\n                        if (miter != nums1.end() &amp;&amp; niter != nums2.end())\n                        {\n                            curriter = (*miter) &lt; (*niter)?miter++:niter++;\n                        }\n\n                        else if(miter != nums1.end())\n                        {\n                            curriter = miter++;\n                        }\n\n                        else if(niter != nums2.end())\n                        {\n                            curriter = niter++;\n                        }\n\n                        count ++;   \n\n                        if (count == (m + n + 1) / 2)\n                        {\n                            return *curriter;\n                        }\n                    }\n                }\n                break;\n            case 0:\n                {\n                    vector&lt;int&gt;::iterator curriter = nums1.end();\n                    vector&lt;int&gt;::iterator olditer = nums1.end();\n                    while(miter != nums1.end() || niter != nums2.end())\n                    {\n                        olditer = curriter;\n\n                        if (miter != nums1.end() &amp;&amp; niter != nums2.end())\n                        {\n                            curriter = (*miter) &lt; (*niter)?miter++:niter++;\n                        }\n\n                        else if(miter != nums1.end())\n                        {\n                            curriter = miter++;\n                        }\n\n                        else if(niter != nums2.end())\n                        {\n                            curriter = niter++;\n                        } \n\n                        count ++;   \n                        if (count == (m + n + 2) / 2)\n                        {\n                            return (double(*olditer) + double(*curriter)) / 2;\n                        }\n                    }\n                }\n        }</code></pre><h2 id=\"dalao题解\"><a href=\"#dalao题解\" class=\"headerlink\" title=\"dalao题解\"></a>dalao题解</h2><pre><code>double findMedianSortedArrays(vector&lt;int&gt;&amp; nums1, vector&lt;int&gt;&amp; nums2) {\n        int mid = nums1.size() + nums2.size() ;\n        int is_even = mid % 2;\n        mid = mid / 2 + 1;\n        double tmp = 0;\n        int cur_1 = 0;\n        int cur_2 = 0;\n        for(int i = 0 ;i&lt;mid;i++){\n            int a = 0;\n            if (cur_1 == nums1.size()){                \n                a = nums2[cur_2];\n                cur_2 ++;\n            }else if (cur_2 == nums2.size()){\n                a = nums1[cur_1];\n                cur_1 ++;\n            }else{\n                if (nums1[cur_1] &lt; nums2[cur_2]){\n                    a = nums1[cur_1];\n                    cur_1 ++;\n                }else{\n                    a = nums2[cur_2];\n                    cur_2 ++;\n                }\n            }\n            if (is_even == 0 &amp;&amp; i == mid - 2){\n                tmp += a;\n            }else if (i == mid - 1){\n                tmp += a;\n            }\n        }\n        if (is_even == 0){\n            tmp = tmp / 2;\n        }\n        return tmp;\n    }</code></pre><h2 id=\"收获\"><a href=\"#收获\" class=\"headerlink\" title=\"收获\"></a>收获</h2><ol>\n<li><code>iterator</code>不可以赋值为<code>NULL</code>，不可以与<code>NULL</code>比较。如果想要起到类似的效果，可以赋值为<code>end()</code></li>\n<li>dalao题解中关于中位数的判断很有意思，值得学习一下：设定temp，如果m+n为偶数，则提前两位进行相加，如果m+n为奇数，则只相加一次。避免了两个iterator的浪费</li>\n</ol>\n"},{"title":"【摘抄】Djangodui对URL尾斜杠(back slash)的处理","url":"453.html","id":"453","date":"2019-07-06T12:58:27.000Z","_content":"**摘抄自 https://www.bbsmax.com/A/kjdwABD6JN/** \n\n首先说下什么是尾斜杠。\n\n    http://www.baidu.com/    # 有尾斜杠\n    http://www.baidu.com     # 无尾斜杠\n    \n\n那么为什么我们要关注尾斜杠这个问题呢？这个要从Django和Flask对于URL的设置说起。 Django和Flask设置URL方式：\n\n    r'^admin/$'   # Django\n    'admin/'   # flask\n    \n\n可见两者都是基于字符串的匹配。所以问题就出来了： 如果我设置了一个形如'admin'的URL，那么当用户输入'admin/'的时候应不应该匹配呢？ 或者换种说法： 如果我设置了一个形如'admin/的'URL，那么当用户输入'admin'的时候应不应该匹配呢？ 这就是尾斜杠问题。 下面我们看看Django和Flask是如何处理的。 Django中的处理方法是提供了一个设置项，`APPEND_SLASH`，这个设置的默认值是True。当APPEND_SLASH为True的时候，如果一个URL没有匹配成功，那么Django会在这个URL尾部加上一个`/`并重新redirect回来。如果设置为False，那没有匹配成功的时候就什么都不会做。 需要注意的是，由于采用了redirect的方式，所以POST数据可能会丢失。 Flask默认行为和Django一样，只不过文档中并没有说明是不是采用redirect方法，如果不是的话，那么数据就没有丢失的风险了。 总结 **如果设置了'admin'，那么只有'admin'会匹配，'admin/'不会匹配。** **如果设置了'admin/'，那么'admin'和'admin/'都会匹配。**","source":"_posts/【摘抄】Djangodui对URL尾斜杠(back slash)的处理.md","raw":"title: 【摘抄】Djangodui对URL尾斜杠(back slash)的处理\nurl: 453.html\nid: 453\ncategories:\n  - Linux &amp; VPS\ndate: 2019-07-06 20:58:27\ntags:\n---\n**摘抄自 https://www.bbsmax.com/A/kjdwABD6JN/** \n\n首先说下什么是尾斜杠。\n\n    http://www.baidu.com/    # 有尾斜杠\n    http://www.baidu.com     # 无尾斜杠\n    \n\n那么为什么我们要关注尾斜杠这个问题呢？这个要从Django和Flask对于URL的设置说起。 Django和Flask设置URL方式：\n\n    r'^admin/$'   # Django\n    'admin/'   # flask\n    \n\n可见两者都是基于字符串的匹配。所以问题就出来了： 如果我设置了一个形如'admin'的URL，那么当用户输入'admin/'的时候应不应该匹配呢？ 或者换种说法： 如果我设置了一个形如'admin/的'URL，那么当用户输入'admin'的时候应不应该匹配呢？ 这就是尾斜杠问题。 下面我们看看Django和Flask是如何处理的。 Django中的处理方法是提供了一个设置项，`APPEND_SLASH`，这个设置的默认值是True。当APPEND_SLASH为True的时候，如果一个URL没有匹配成功，那么Django会在这个URL尾部加上一个`/`并重新redirect回来。如果设置为False，那没有匹配成功的时候就什么都不会做。 需要注意的是，由于采用了redirect的方式，所以POST数据可能会丢失。 Flask默认行为和Django一样，只不过文档中并没有说明是不是采用redirect方法，如果不是的话，那么数据就没有丢失的风险了。 总结 **如果设置了'admin'，那么只有'admin'会匹配，'admin/'不会匹配。** **如果设置了'admin/'，那么'admin'和'admin/'都会匹配。**","slug":"【摘抄】Djangodui对URL尾斜杠(back slash)的处理","published":1,"updated":"2020-02-10T09:33:16.766Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbqbdp001vtooj26hr6bol","content":"<p><strong>摘抄自 <a href=\"https://www.bbsmax.com/A/kjdwABD6JN/\" target=\"_blank\" rel=\"noopener\">https://www.bbsmax.com/A/kjdwABD6JN/</a></strong> </p>\n<p>首先说下什么是尾斜杠。</p>\n<pre><code>http://www.baidu.com/    # 有尾斜杠\nhttp://www.baidu.com     # 无尾斜杠</code></pre><p>那么为什么我们要关注尾斜杠这个问题呢？这个要从Django和Flask对于URL的设置说起。 Django和Flask设置URL方式：</p>\n<pre><code>r&apos;^admin/$&apos;   # Django\n&apos;admin/&apos;   # flask</code></pre><p>可见两者都是基于字符串的匹配。所以问题就出来了： 如果我设置了一个形如’admin’的URL，那么当用户输入’admin/‘的时候应不应该匹配呢？ 或者换种说法： 如果我设置了一个形如’admin/的’URL，那么当用户输入’admin’的时候应不应该匹配呢？ 这就是尾斜杠问题。 下面我们看看Django和Flask是如何处理的。 Django中的处理方法是提供了一个设置项，<code>APPEND_SLASH</code>，这个设置的默认值是True。当APPEND_SLASH为True的时候，如果一个URL没有匹配成功，那么Django会在这个URL尾部加上一个<code>/</code>并重新redirect回来。如果设置为False，那没有匹配成功的时候就什么都不会做。 需要注意的是，由于采用了redirect的方式，所以POST数据可能会丢失。 Flask默认行为和Django一样，只不过文档中并没有说明是不是采用redirect方法，如果不是的话，那么数据就没有丢失的风险了。 总结 <strong>如果设置了’admin’，那么只有’admin’会匹配，’admin/‘不会匹配。</strong> <strong>如果设置了’admin/‘，那么’admin’和’admin/‘都会匹配。</strong></p>\n","site":{"data":{}},"excerpt":"","more":"<p><strong>摘抄自 <a href=\"https://www.bbsmax.com/A/kjdwABD6JN/\" target=\"_blank\" rel=\"noopener\">https://www.bbsmax.com/A/kjdwABD6JN/</a></strong> </p>\n<p>首先说下什么是尾斜杠。</p>\n<pre><code>http://www.baidu.com/    # 有尾斜杠\nhttp://www.baidu.com     # 无尾斜杠</code></pre><p>那么为什么我们要关注尾斜杠这个问题呢？这个要从Django和Flask对于URL的设置说起。 Django和Flask设置URL方式：</p>\n<pre><code>r&apos;^admin/$&apos;   # Django\n&apos;admin/&apos;   # flask</code></pre><p>可见两者都是基于字符串的匹配。所以问题就出来了： 如果我设置了一个形如’admin’的URL，那么当用户输入’admin/‘的时候应不应该匹配呢？ 或者换种说法： 如果我设置了一个形如’admin/的’URL，那么当用户输入’admin’的时候应不应该匹配呢？ 这就是尾斜杠问题。 下面我们看看Django和Flask是如何处理的。 Django中的处理方法是提供了一个设置项，<code>APPEND_SLASH</code>，这个设置的默认值是True。当APPEND_SLASH为True的时候，如果一个URL没有匹配成功，那么Django会在这个URL尾部加上一个<code>/</code>并重新redirect回来。如果设置为False，那没有匹配成功的时候就什么都不会做。 需要注意的是，由于采用了redirect的方式，所以POST数据可能会丢失。 Flask默认行为和Django一样，只不过文档中并没有说明是不是采用redirect方法，如果不是的话，那么数据就没有丢失的风险了。 总结 <strong>如果设置了’admin’，那么只有’admin’会匹配，’admin/‘不会匹配。</strong> <strong>如果设置了’admin/‘，那么’admin’和’admin/‘都会匹配。</strong></p>\n"},{"title":"配置双栈网站——使Nginx同时监听ipv4/ipv6","author":"Creling","toc":"true","date":"2019-12-10T16:27:00.000Z","_content":"**摘要** 提供了使Nginx同时监听ipv4和ipv6的配置方法\n\n<!--more-->\n\n曾经有一种方式是在端口前加上`[::]:`，具体操作方式如下：\n```ini\n# listen 80;\nlisten [::]:80;\n# listen 443 ssl http2;\nlisten [::]:443 ssl http2;\n```\n但是新版Nginx默认启用`ipv6only=on`选项，如果按照上文方式修改，最终只会监听ipv6而不会监听ipv4，因此正确的修改方式显示指定监听ipv4和ipv6，具体操作如下：\n```ini\nlisten 80;\nlisten [::]:80;\nlisten 443 ssl http2;\nlisten [::]:443 ssl http2;\n```","source":"_posts/使Nginx同时监听ipv4和ipv6的配置方法.md","raw":"title: 配置双栈网站——使Nginx同时监听ipv4/ipv6\nauthor: Creling\ntags:\n  - vps\ncategories:\n  - Linux\ntoc: 'true'\ndate: 2019-12-11 00:27:00\n---\n**摘要** 提供了使Nginx同时监听ipv4和ipv6的配置方法\n\n<!--more-->\n\n曾经有一种方式是在端口前加上`[::]:`，具体操作方式如下：\n```ini\n# listen 80;\nlisten [::]:80;\n# listen 443 ssl http2;\nlisten [::]:443 ssl http2;\n```\n但是新版Nginx默认启用`ipv6only=on`选项，如果按照上文方式修改，最终只会监听ipv6而不会监听ipv4，因此正确的修改方式显示指定监听ipv4和ipv6，具体操作如下：\n```ini\nlisten 80;\nlisten [::]:80;\nlisten 443 ssl http2;\nlisten [::]:443 ssl http2;\n```","slug":"使Nginx同时监听ipv4和ipv6的配置方法","published":1,"updated":"2020-02-10T09:33:16.766Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbqbe1001xtooj6te7668n","content":"<p><strong>摘要</strong> 提供了使Nginx同时监听ipv4和ipv6的配置方法</p>\n<a id=\"more\"></a>\n\n<p>曾经有一种方式是在端口前加上<code>[::]:</code>，具体操作方式如下：</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># listen 80;</span></span><br><span class=\"line\">listen [::]:80;</span><br><span class=\"line\"><span class=\"comment\"># listen 443 ssl http2;</span></span><br><span class=\"line\">listen [::]:443 ssl http2;</span><br></pre></td></tr></table></figure>\n<p>但是新版Nginx默认启用<code>ipv6only=on</code>选项，如果按照上文方式修改，最终只会监听ipv6而不会监听ipv4，因此正确的修改方式显示指定监听ipv4和ipv6，具体操作如下：</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">listen 80;</span><br><span class=\"line\">listen [::]:80;</span><br><span class=\"line\">listen 443 ssl http2;</span><br><span class=\"line\">listen [::]:443 ssl http2;</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<p><strong>摘要</strong> 提供了使Nginx同时监听ipv4和ipv6的配置方法</p>","more":"<p>曾经有一种方式是在端口前加上<code>[::]:</code>，具体操作方式如下：</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># listen 80;</span></span><br><span class=\"line\">listen [::]:80;</span><br><span class=\"line\"><span class=\"comment\"># listen 443 ssl http2;</span></span><br><span class=\"line\">listen [::]:443 ssl http2;</span><br></pre></td></tr></table></figure>\n<p>但是新版Nginx默认启用<code>ipv6only=on</code>选项，如果按照上文方式修改，最终只会监听ipv6而不会监听ipv4，因此正确的修改方式显示指定监听ipv4和ipv6，具体操作如下：</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">listen 80;</span><br><span class=\"line\">listen [::]:80;</span><br><span class=\"line\">listen 443 ssl http2;</span><br><span class=\"line\">listen [::]:443 ssl http2;</span><br></pre></td></tr></table></figure>"},{"title":"修改Linux终端提示符的颜色","url":"325.html","id":"325","date":"2019-02-21T03:16:15.000Z","_content":"\n### 1.了解PS1:\n\n　　PS1是Linux终端用户的一个环境变量，用来定义命令行提示符的参数。 　　在终端输入命令：`echo $PS1` 可得到当前PS1的定义值：\n\n### 2.PS1的常用参数以及含义:\n\n参数\n\n含义\n\n　　\\\\d\n\n代表日期，格式为weekday month date，例如：\"Mon Aug 1\"\n\n　　\\\\H\n\n完整的主机名称\n\n　　\\\\h\n\n仅取主机名中的第一个名字\n\n　　\\\\t\n\n显示时间为24小时格式，如：HH：MM：SS\n\n　　\\\\T\n\n显示时间为12小时格式\n\n　　\\\\A\n\n显示时间为24小时格式：HH：MM\n\n　　\\\\u\n\n当前用户的账号名称\n\n　　\\\\v\n\nBASH的版本信息\n\n　　\\\\w\n\n完整的工作目录名称\n\n　　\\\\W\n\n利用basename取得工作目录名称，只显示最后一个目录名\n\n　　#\n\n下达的第几个命令\n\n　　\\\\$\n\n提示字符，如果是root用户，提示符为 # ，普通用户则为 $\n\n所以linux默认的命令行提示信息的格式 　　 `PS1='[\\u@\\h \\W]\\$ '`  \n意思就是：\n\n    [当前用户的账号名称@主机名的第一个名字 工作目录的最后一层目录名]#\n    \n\n### 3.颜色设置参数\n\n　　在PS1中设置字符颜色的格式为： `\\[\\e[F;Bm\\]........\\[\\e[0m\\]` 其中“F“为字体颜色，编号为30-37，“B”为背景颜色，编号为40-47,`\\[\\e[0m\\]`作为颜色设定的结束。\n\n#### 颜色对照表：\n\nF\n\nB\n\n颜色\n\n30\n\n40\n\n黑色\n\n31\n\n41\n\n红色\n\n32\n\n42\n\n绿色\n\n33\n\n43\n\n黄色\n\n34\n\n44\n\n蓝色\n\n35\n\n45\n\n紫红色\n\n36\n\n46\n\n青蓝色\n\n37\n\n47\n\n白色\n\n只需将对应数字套入设置格式中即可。 比如要设置命令行的格式为绿字黑底(\\[\\\\e\\[32;40m\\])，显示当前用户的账号名称(\\\\u)、主机的第一个名字(\\\\h)、完整的当前工作目录名称(\\\\w)、24小时格式时间(\\\\t)，可以直接在命令行键入如下命令：\n\n    PS1='[\\[\\e[32;40m\\]\\u@\\h \\w \\t]$ \\[\\e[0m\\]'\n    \n\n推荐配色\n\n    PS1=\"\\[\\e[37;40m\\][\\[\\e[32;40m\\]\\u\\[\\e[37;40m\\]@\\h \\[\\e[36;40m\\]\\w\\[\\e[0m\\]]\\\\$ \"\n    \n\n3.修改.bashrc文件,永久保存命令行样式. 　　上面的设置的作用域只有当前终端的登陆有效，关闭终端或退出登录即刻失效。要想永久性的保存设置，需要修改.bashrc配置文件。 　　键入命令：\n\n    vim ~/.bashrc\n    \n\n在底部加入这一行:\n\n    PS1=\"\\[\\e[37;40m\\][\\[\\e[32;40m\\]\\u\\[\\e[37;40m\\]@\\h \\[\\e[36;40m\\]\\w\\[\\e[0m\\]]\\\\$ \" \n    \n\n　　保存退出。 　　重新加载bash配置文件:\n\n    source ~/.bashrc\n    \n\n　　即可立即并永久生效了。","source":"_posts/修改Linux终端提示符的颜色.md","raw":"---\ntitle: 修改Linux终端提示符的颜色\nurl: 325.html\nid: 325\ncategories:\n  - Linux &amp; VPS\ndate: 2019-02-21 11:16:15\ntags:\n---\n\n### 1.了解PS1:\n\n　　PS1是Linux终端用户的一个环境变量，用来定义命令行提示符的参数。 　　在终端输入命令：`echo $PS1` 可得到当前PS1的定义值：\n\n### 2.PS1的常用参数以及含义:\n\n参数\n\n含义\n\n　　\\\\d\n\n代表日期，格式为weekday month date，例如：\"Mon Aug 1\"\n\n　　\\\\H\n\n完整的主机名称\n\n　　\\\\h\n\n仅取主机名中的第一个名字\n\n　　\\\\t\n\n显示时间为24小时格式，如：HH：MM：SS\n\n　　\\\\T\n\n显示时间为12小时格式\n\n　　\\\\A\n\n显示时间为24小时格式：HH：MM\n\n　　\\\\u\n\n当前用户的账号名称\n\n　　\\\\v\n\nBASH的版本信息\n\n　　\\\\w\n\n完整的工作目录名称\n\n　　\\\\W\n\n利用basename取得工作目录名称，只显示最后一个目录名\n\n　　#\n\n下达的第几个命令\n\n　　\\\\$\n\n提示字符，如果是root用户，提示符为 # ，普通用户则为 $\n\n所以linux默认的命令行提示信息的格式 　　 `PS1='[\\u@\\h \\W]\\$ '`  \n意思就是：\n\n    [当前用户的账号名称@主机名的第一个名字 工作目录的最后一层目录名]#\n    \n\n### 3.颜色设置参数\n\n　　在PS1中设置字符颜色的格式为： `\\[\\e[F;Bm\\]........\\[\\e[0m\\]` 其中“F“为字体颜色，编号为30-37，“B”为背景颜色，编号为40-47,`\\[\\e[0m\\]`作为颜色设定的结束。\n\n#### 颜色对照表：\n\nF\n\nB\n\n颜色\n\n30\n\n40\n\n黑色\n\n31\n\n41\n\n红色\n\n32\n\n42\n\n绿色\n\n33\n\n43\n\n黄色\n\n34\n\n44\n\n蓝色\n\n35\n\n45\n\n紫红色\n\n36\n\n46\n\n青蓝色\n\n37\n\n47\n\n白色\n\n只需将对应数字套入设置格式中即可。 比如要设置命令行的格式为绿字黑底(\\[\\\\e\\[32;40m\\])，显示当前用户的账号名称(\\\\u)、主机的第一个名字(\\\\h)、完整的当前工作目录名称(\\\\w)、24小时格式时间(\\\\t)，可以直接在命令行键入如下命令：\n\n    PS1='[\\[\\e[32;40m\\]\\u@\\h \\w \\t]$ \\[\\e[0m\\]'\n    \n\n推荐配色\n\n    PS1=\"\\[\\e[37;40m\\][\\[\\e[32;40m\\]\\u\\[\\e[37;40m\\]@\\h \\[\\e[36;40m\\]\\w\\[\\e[0m\\]]\\\\$ \"\n    \n\n3.修改.bashrc文件,永久保存命令行样式. 　　上面的设置的作用域只有当前终端的登陆有效，关闭终端或退出登录即刻失效。要想永久性的保存设置，需要修改.bashrc配置文件。 　　键入命令：\n\n    vim ~/.bashrc\n    \n\n在底部加入这一行:\n\n    PS1=\"\\[\\e[37;40m\\][\\[\\e[32;40m\\]\\u\\[\\e[37;40m\\]@\\h \\[\\e[36;40m\\]\\w\\[\\e[0m\\]]\\\\$ \" \n    \n\n　　保存退出。 　　重新加载bash配置文件:\n\n    source ~/.bashrc\n    \n\n　　即可立即并永久生效了。","slug":"修改Linux终端提示符的颜色","published":1,"updated":"2020-02-10T09:33:16.766Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbqbe5001ytooj9xpv67cc","content":"<h3 id=\"1-了解PS1\"><a href=\"#1-了解PS1\" class=\"headerlink\" title=\"1.了解PS1:\"></a>1.了解PS1:</h3><p>　　PS1是Linux终端用户的一个环境变量，用来定义命令行提示符的参数。 　　在终端输入命令：<code>echo $PS1</code> 可得到当前PS1的定义值：</p>\n<h3 id=\"2-PS1的常用参数以及含义\"><a href=\"#2-PS1的常用参数以及含义\" class=\"headerlink\" title=\"2.PS1的常用参数以及含义:\"></a>2.PS1的常用参数以及含义:</h3><p>参数</p>\n<p>含义</p>\n<p>　　\\d</p>\n<p>代表日期，格式为weekday month date，例如：”Mon Aug 1”</p>\n<p>　　\\H</p>\n<p>完整的主机名称</p>\n<p>　　\\h</p>\n<p>仅取主机名中的第一个名字</p>\n<p>　　\\t</p>\n<p>显示时间为24小时格式，如：HH：MM：SS</p>\n<p>　　\\T</p>\n<p>显示时间为12小时格式</p>\n<p>　　\\A</p>\n<p>显示时间为24小时格式：HH：MM</p>\n<p>　　\\u</p>\n<p>当前用户的账号名称</p>\n<p>　　\\v</p>\n<p>BASH的版本信息</p>\n<p>　　\\w</p>\n<p>完整的工作目录名称</p>\n<p>　　\\W</p>\n<p>利用basename取得工作目录名称，只显示最后一个目录名</p>\n<p>　　#</p>\n<p>下达的第几个命令</p>\n<p>　　\\$</p>\n<p>提示字符，如果是root用户，提示符为 # ，普通用户则为 $</p>\n<p>所以linux默认的命令行提示信息的格式 　　 <code>PS1=&#39;[\\u@\\h \\W]\\$ &#39;</code><br>意思就是：</p>\n<pre><code>[当前用户的账号名称@主机名的第一个名字 工作目录的最后一层目录名]#</code></pre><h3 id=\"3-颜色设置参数\"><a href=\"#3-颜色设置参数\" class=\"headerlink\" title=\"3.颜色设置参数\"></a>3.颜色设置参数</h3><p>　　在PS1中设置字符颜色的格式为： <code>\\[\\e[F;Bm\\]........\\[\\e[0m\\]</code> 其中“F“为字体颜色，编号为30-37，“B”为背景颜色，编号为40-47,<code>\\[\\e[0m\\]</code>作为颜色设定的结束。</p>\n<h4 id=\"颜色对照表：\"><a href=\"#颜色对照表：\" class=\"headerlink\" title=\"颜色对照表：\"></a>颜色对照表：</h4><p>F</p>\n<p>B</p>\n<p>颜色</p>\n<p>30</p>\n<p>40</p>\n<p>黑色</p>\n<p>31</p>\n<p>41</p>\n<p>红色</p>\n<p>32</p>\n<p>42</p>\n<p>绿色</p>\n<p>33</p>\n<p>43</p>\n<p>黄色</p>\n<p>34</p>\n<p>44</p>\n<p>蓝色</p>\n<p>35</p>\n<p>45</p>\n<p>紫红色</p>\n<p>36</p>\n<p>46</p>\n<p>青蓝色</p>\n<p>37</p>\n<p>47</p>\n<p>白色</p>\n<p>只需将对应数字套入设置格式中即可。 比如要设置命令行的格式为绿字黑底([\\e[32;40m])，显示当前用户的账号名称(\\u)、主机的第一个名字(\\h)、完整的当前工作目录名称(\\w)、24小时格式时间(\\t)，可以直接在命令行键入如下命令：</p>\n<pre><code>PS1=&apos;[\\[\\e[32;40m\\]\\u@\\h \\w \\t]$ \\[\\e[0m\\]&apos;</code></pre><p>推荐配色</p>\n<pre><code>PS1=&quot;\\[\\e[37;40m\\][\\[\\e[32;40m\\]\\u\\[\\e[37;40m\\]@\\h \\[\\e[36;40m\\]\\w\\[\\e[0m\\]]\\\\$ &quot;</code></pre><p>3.修改.bashrc文件,永久保存命令行样式. 　　上面的设置的作用域只有当前终端的登陆有效，关闭终端或退出登录即刻失效。要想永久性的保存设置，需要修改.bashrc配置文件。 　　键入命令：</p>\n<pre><code>vim ~/.bashrc</code></pre><p>在底部加入这一行:</p>\n<pre><code>PS1=&quot;\\[\\e[37;40m\\][\\[\\e[32;40m\\]\\u\\[\\e[37;40m\\]@\\h \\[\\e[36;40m\\]\\w\\[\\e[0m\\]]\\\\$ &quot; </code></pre><p>　　保存退出。 　　重新加载bash配置文件:</p>\n<pre><code>source ~/.bashrc</code></pre><p>　　即可立即并永久生效了。</p>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"1-了解PS1\"><a href=\"#1-了解PS1\" class=\"headerlink\" title=\"1.了解PS1:\"></a>1.了解PS1:</h3><p>　　PS1是Linux终端用户的一个环境变量，用来定义命令行提示符的参数。 　　在终端输入命令：<code>echo $PS1</code> 可得到当前PS1的定义值：</p>\n<h3 id=\"2-PS1的常用参数以及含义\"><a href=\"#2-PS1的常用参数以及含义\" class=\"headerlink\" title=\"2.PS1的常用参数以及含义:\"></a>2.PS1的常用参数以及含义:</h3><p>参数</p>\n<p>含义</p>\n<p>　　\\d</p>\n<p>代表日期，格式为weekday month date，例如：”Mon Aug 1”</p>\n<p>　　\\H</p>\n<p>完整的主机名称</p>\n<p>　　\\h</p>\n<p>仅取主机名中的第一个名字</p>\n<p>　　\\t</p>\n<p>显示时间为24小时格式，如：HH：MM：SS</p>\n<p>　　\\T</p>\n<p>显示时间为12小时格式</p>\n<p>　　\\A</p>\n<p>显示时间为24小时格式：HH：MM</p>\n<p>　　\\u</p>\n<p>当前用户的账号名称</p>\n<p>　　\\v</p>\n<p>BASH的版本信息</p>\n<p>　　\\w</p>\n<p>完整的工作目录名称</p>\n<p>　　\\W</p>\n<p>利用basename取得工作目录名称，只显示最后一个目录名</p>\n<p>　　#</p>\n<p>下达的第几个命令</p>\n<p>　　\\$</p>\n<p>提示字符，如果是root用户，提示符为 # ，普通用户则为 $</p>\n<p>所以linux默认的命令行提示信息的格式 　　 <code>PS1=&#39;[\\u@\\h \\W]\\$ &#39;</code><br>意思就是：</p>\n<pre><code>[当前用户的账号名称@主机名的第一个名字 工作目录的最后一层目录名]#</code></pre><h3 id=\"3-颜色设置参数\"><a href=\"#3-颜色设置参数\" class=\"headerlink\" title=\"3.颜色设置参数\"></a>3.颜色设置参数</h3><p>　　在PS1中设置字符颜色的格式为： <code>\\[\\e[F;Bm\\]........\\[\\e[0m\\]</code> 其中“F“为字体颜色，编号为30-37，“B”为背景颜色，编号为40-47,<code>\\[\\e[0m\\]</code>作为颜色设定的结束。</p>\n<h4 id=\"颜色对照表：\"><a href=\"#颜色对照表：\" class=\"headerlink\" title=\"颜色对照表：\"></a>颜色对照表：</h4><p>F</p>\n<p>B</p>\n<p>颜色</p>\n<p>30</p>\n<p>40</p>\n<p>黑色</p>\n<p>31</p>\n<p>41</p>\n<p>红色</p>\n<p>32</p>\n<p>42</p>\n<p>绿色</p>\n<p>33</p>\n<p>43</p>\n<p>黄色</p>\n<p>34</p>\n<p>44</p>\n<p>蓝色</p>\n<p>35</p>\n<p>45</p>\n<p>紫红色</p>\n<p>36</p>\n<p>46</p>\n<p>青蓝色</p>\n<p>37</p>\n<p>47</p>\n<p>白色</p>\n<p>只需将对应数字套入设置格式中即可。 比如要设置命令行的格式为绿字黑底([\\e[32;40m])，显示当前用户的账号名称(\\u)、主机的第一个名字(\\h)、完整的当前工作目录名称(\\w)、24小时格式时间(\\t)，可以直接在命令行键入如下命令：</p>\n<pre><code>PS1=&apos;[\\[\\e[32;40m\\]\\u@\\h \\w \\t]$ \\[\\e[0m\\]&apos;</code></pre><p>推荐配色</p>\n<pre><code>PS1=&quot;\\[\\e[37;40m\\][\\[\\e[32;40m\\]\\u\\[\\e[37;40m\\]@\\h \\[\\e[36;40m\\]\\w\\[\\e[0m\\]]\\\\$ &quot;</code></pre><p>3.修改.bashrc文件,永久保存命令行样式. 　　上面的设置的作用域只有当前终端的登陆有效，关闭终端或退出登录即刻失效。要想永久性的保存设置，需要修改.bashrc配置文件。 　　键入命令：</p>\n<pre><code>vim ~/.bashrc</code></pre><p>在底部加入这一行:</p>\n<pre><code>PS1=&quot;\\[\\e[37;40m\\][\\[\\e[32;40m\\]\\u\\[\\e[37;40m\\]@\\h \\[\\e[36;40m\\]\\w\\[\\e[0m\\]]\\\\$ &quot; </code></pre><p>　　保存退出。 　　重新加载bash配置文件:</p>\n<pre><code>source ~/.bashrc</code></pre><p>　　即可立即并永久生效了。</p>\n"},{"title":"利用shadowsocks搭建6to4隧道","author":"Creling","toc":"true","date":"2019-12-07T04:19:00.000Z","_content":"**摘要** 利用shadowsocks，搭建6to4隧道，使得纯ipv6服务器获得访问ipv4网络的能力。搭建过程中需要用到另外一台双栈服务器。下面将纯v6服务器称为A，双栈服务器称为B。A是隧道的客户端，B是隧道的服务端。\n\n<!--more-->\n\n## 安装\n1. 安装shadowsocks\n在A和B上分别运行如下命令，安装shadowsocks：\n```bash\nwget https://github.com/shadowsocks/shadowsocks-libev/releases/download/v3.3.3/shadowsocks-libev-3.3.3.tar.gz\ntar zxvf shadowsocks-libev-3.3.3.tar.gz\ncd shadowsocks-libev-3.3.3\nyum install asciidoc xmlto pcre-devel mbedtls-devel libsodium-devel c-ares-devel libev-devel -y\n./configure --prefix=/opt/shadowsocks-libev\nmake && make install\n```\n\n2. 配置隧道服务端\n\t1. 修改配置文件\n    打开`/etc/shadowsocks.json`并添加如下内容：\n    ```json\n    {\n            \"server\":[\"[::0]\"],\n            \"server_port\":<your server port>,\n            \"password\":\"<your password>\",\n            \"timeout\":300,\n            \"user\":\"nobody\",\n            \"method\":\"salsa20\",\n            \"fast_open\":false,\n            \"nameserver\":\"8.8.8.8\",\n            \"mode\":\"tcp_and_udp\"\n    }\n    ```\n    2. 运行服务端程序\n    ```bash\n    \t/opt/shadowsocks-libev/bin/ss-server -c /etc/shadowsocks.json\n    ```\n    将会看到如下输出：\n    ![](/images/pasted-1.png)\n\n3. 配置隧道客户端\n\t1. 修改配置文件\n    打开`/etc/shadowsocks.json`并添加如下内容：\n    ```json\n        {\n          \"server\": \"<A's ipv6>\",\n          \"server_port\": <A's port>,\n          \"password\": \"<your password\",\n          \"method\": \"salsa20\",\n          \"timeout\": 20\n        }\n\t```\n    2. 运行客户端\n    ```shell\n    /opt/shadowsocks-libev/bin/ss-local -c /etc/shadowsocks.json\n    ```\n    将会看到如下输出：\n    ![](/images/pasted-2.png)\n    \n## 测试\n在A服务器下运行如下命令\n```bash\ncurl --socks5 127.0.0.1:1080 baidu.com\n```\n看到如下输出：\n![](/images/pasted-3.png)\n说明一切正常","source":"_posts/利用shadowsocks搭建6to4隧道.md","raw":"title: 利用shadowsocks搭建6to4隧道\nauthor: Creling\ntags: []\ncategories:\n  - vps\ntoc: 'true'\ndate: 2019-12-07 12:19:00\n---\n**摘要** 利用shadowsocks，搭建6to4隧道，使得纯ipv6服务器获得访问ipv4网络的能力。搭建过程中需要用到另外一台双栈服务器。下面将纯v6服务器称为A，双栈服务器称为B。A是隧道的客户端，B是隧道的服务端。\n\n<!--more-->\n\n## 安装\n1. 安装shadowsocks\n在A和B上分别运行如下命令，安装shadowsocks：\n```bash\nwget https://github.com/shadowsocks/shadowsocks-libev/releases/download/v3.3.3/shadowsocks-libev-3.3.3.tar.gz\ntar zxvf shadowsocks-libev-3.3.3.tar.gz\ncd shadowsocks-libev-3.3.3\nyum install asciidoc xmlto pcre-devel mbedtls-devel libsodium-devel c-ares-devel libev-devel -y\n./configure --prefix=/opt/shadowsocks-libev\nmake && make install\n```\n\n2. 配置隧道服务端\n\t1. 修改配置文件\n    打开`/etc/shadowsocks.json`并添加如下内容：\n    ```json\n    {\n            \"server\":[\"[::0]\"],\n            \"server_port\":<your server port>,\n            \"password\":\"<your password>\",\n            \"timeout\":300,\n            \"user\":\"nobody\",\n            \"method\":\"salsa20\",\n            \"fast_open\":false,\n            \"nameserver\":\"8.8.8.8\",\n            \"mode\":\"tcp_and_udp\"\n    }\n    ```\n    2. 运行服务端程序\n    ```bash\n    \t/opt/shadowsocks-libev/bin/ss-server -c /etc/shadowsocks.json\n    ```\n    将会看到如下输出：\n    ![](/images/pasted-1.png)\n\n3. 配置隧道客户端\n\t1. 修改配置文件\n    打开`/etc/shadowsocks.json`并添加如下内容：\n    ```json\n        {\n          \"server\": \"<A's ipv6>\",\n          \"server_port\": <A's port>,\n          \"password\": \"<your password\",\n          \"method\": \"salsa20\",\n          \"timeout\": 20\n        }\n\t```\n    2. 运行客户端\n    ```shell\n    /opt/shadowsocks-libev/bin/ss-local -c /etc/shadowsocks.json\n    ```\n    将会看到如下输出：\n    ![](/images/pasted-2.png)\n    \n## 测试\n在A服务器下运行如下命令\n```bash\ncurl --socks5 127.0.0.1:1080 baidu.com\n```\n看到如下输出：\n![](/images/pasted-3.png)\n说明一切正常","slug":"利用shadowsocks搭建6to4隧道","published":1,"updated":"2020-02-10T09:33:16.766Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbqbeb0022toojf6p5d5ht","content":"<p><strong>摘要</strong> 利用shadowsocks，搭建6to4隧道，使得纯ipv6服务器获得访问ipv4网络的能力。搭建过程中需要用到另外一台双栈服务器。下面将纯v6服务器称为A，双栈服务器称为B。A是隧道的客户端，B是隧道的服务端。</p>\n<a id=\"more\"></a>\n\n<h2 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h2><ol>\n<li><p>安装shadowsocks<br>在A和B上分别运行如下命令，安装shadowsocks：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget https://github.com/shadowsocks/shadowsocks-libev/releases/download/v3.3.3/shadowsocks-libev-3.3.3.tar.gz</span><br><span class=\"line\">tar zxvf shadowsocks-libev-3.3.3.tar.gz</span><br><span class=\"line\"><span class=\"built_in\">cd</span> shadowsocks-libev-3.3.3</span><br><span class=\"line\">yum install asciidoc xmlto pcre-devel mbedtls-devel libsodium-devel c-ares-devel libev-devel -y</span><br><span class=\"line\">./configure --prefix=/opt/shadowsocks-libev</span><br><span class=\"line\">make &amp;&amp; make install</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>配置隧道服务端</p>\n<ol>\n<li>修改配置文件<br>打开<code>/etc/shadowsocks.json</code>并添加如下内容：<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">        <span class=\"attr\">\"server\"</span>:[<span class=\"string\">\"[::0]\"</span>],</span><br><span class=\"line\">        <span class=\"attr\">\"server_port\"</span>:&lt;your server port&gt;,</span><br><span class=\"line\">        <span class=\"attr\">\"password\"</span>:<span class=\"string\">\"&lt;your password&gt;\"</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"timeout\"</span>:<span class=\"number\">300</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"user\"</span>:<span class=\"string\">\"nobody\"</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"method\"</span>:<span class=\"string\">\"salsa20\"</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"fast_open\"</span>:<span class=\"literal\">false</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"nameserver\"</span>:<span class=\"string\">\"8.8.8.8\"</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"mode\"</span>:<span class=\"string\">\"tcp_and_udp\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n<li>运行服务端程序<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/opt/shadowsocks-libev/bin/ss-server -c /etc/shadowsocks.json</span><br></pre></td></tr></table></figure>\n将会看到如下输出：<br><img src=\"/images/pasted-1.png\" alt=\"\"></li>\n</ol>\n</li>\n<li><p>配置隧道客户端</p>\n<ol>\n<li>修改配置文件<br>打开<code>/etc/shadowsocks.json</code>并添加如下内容：<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">\"server\"</span>: <span class=\"string\">\"&lt;A's ipv6&gt;\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"server_port\"</span>: &lt;A's port&gt;,</span><br><span class=\"line\">  <span class=\"attr\">\"password\"</span>: <span class=\"string\">\"&lt;your password\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"method\"</span>: <span class=\"string\">\"salsa20\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"timeout\"</span>: <span class=\"number\">20</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n<li>运行客户端<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/opt/shadowsocks-libev/bin/ss-local -c /etc/shadowsocks.json</span><br></pre></td></tr></table></figure>\n将会看到如下输出：<br><img src=\"/images/pasted-2.png\" alt=\"\"></li>\n</ol>\n</li>\n</ol>\n<h2 id=\"测试\"><a href=\"#测试\" class=\"headerlink\" title=\"测试\"></a>测试</h2><p>在A服务器下运行如下命令</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl --socks5 127.0.0.1:1080 baidu.com</span><br></pre></td></tr></table></figure>\n<p>看到如下输出：<br><img src=\"/images/pasted-3.png\" alt=\"\"><br>说明一切正常</p>\n","site":{"data":{}},"excerpt":"<p><strong>摘要</strong> 利用shadowsocks，搭建6to4隧道，使得纯ipv6服务器获得访问ipv4网络的能力。搭建过程中需要用到另外一台双栈服务器。下面将纯v6服务器称为A，双栈服务器称为B。A是隧道的客户端，B是隧道的服务端。</p>","more":"<h2 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h2><ol>\n<li><p>安装shadowsocks<br>在A和B上分别运行如下命令，安装shadowsocks：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget https://github.com/shadowsocks/shadowsocks-libev/releases/download/v3.3.3/shadowsocks-libev-3.3.3.tar.gz</span><br><span class=\"line\">tar zxvf shadowsocks-libev-3.3.3.tar.gz</span><br><span class=\"line\"><span class=\"built_in\">cd</span> shadowsocks-libev-3.3.3</span><br><span class=\"line\">yum install asciidoc xmlto pcre-devel mbedtls-devel libsodium-devel c-ares-devel libev-devel -y</span><br><span class=\"line\">./configure --prefix=/opt/shadowsocks-libev</span><br><span class=\"line\">make &amp;&amp; make install</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>配置隧道服务端</p>\n<ol>\n<li>修改配置文件<br>打开<code>/etc/shadowsocks.json</code>并添加如下内容：<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">        <span class=\"attr\">\"server\"</span>:[<span class=\"string\">\"[::0]\"</span>],</span><br><span class=\"line\">        <span class=\"attr\">\"server_port\"</span>:&lt;your server port&gt;,</span><br><span class=\"line\">        <span class=\"attr\">\"password\"</span>:<span class=\"string\">\"&lt;your password&gt;\"</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"timeout\"</span>:<span class=\"number\">300</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"user\"</span>:<span class=\"string\">\"nobody\"</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"method\"</span>:<span class=\"string\">\"salsa20\"</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"fast_open\"</span>:<span class=\"literal\">false</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"nameserver\"</span>:<span class=\"string\">\"8.8.8.8\"</span>,</span><br><span class=\"line\">        <span class=\"attr\">\"mode\"</span>:<span class=\"string\">\"tcp_and_udp\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n<li>运行服务端程序<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/opt/shadowsocks-libev/bin/ss-server -c /etc/shadowsocks.json</span><br></pre></td></tr></table></figure>\n将会看到如下输出：<br><img src=\"/images/pasted-1.png\" alt=\"\"></li>\n</ol>\n</li>\n<li><p>配置隧道客户端</p>\n<ol>\n<li>修改配置文件<br>打开<code>/etc/shadowsocks.json</code>并添加如下内容：<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">\"server\"</span>: <span class=\"string\">\"&lt;A's ipv6&gt;\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"server_port\"</span>: &lt;A's port&gt;,</span><br><span class=\"line\">  <span class=\"attr\">\"password\"</span>: <span class=\"string\">\"&lt;your password\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"method\"</span>: <span class=\"string\">\"salsa20\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"timeout\"</span>: <span class=\"number\">20</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n<li>运行客户端<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/opt/shadowsocks-libev/bin/ss-local -c /etc/shadowsocks.json</span><br></pre></td></tr></table></figure>\n将会看到如下输出：<br><img src=\"/images/pasted-2.png\" alt=\"\"></li>\n</ol>\n</li>\n</ol>\n<h2 id=\"测试\"><a href=\"#测试\" class=\"headerlink\" title=\"测试\"></a>测试</h2><p>在A服务器下运行如下命令</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl --socks5 127.0.0.1:1080 baidu.com</span><br></pre></td></tr></table></figure>\n<p>看到如下输出：<br><img src=\"/images/pasted-3.png\" alt=\"\"><br>说明一切正常</p>"},{"title":"手动安装PHP扩展","url":"432.html","id":"432","date":"2019-06-11T00:47:00.000Z","_content":"**摘要** 记录了一次手动安装`tidy`扩展的过程。\n\n<!--more-->\n\n## 安装过程\n1.  进入tidy的源码目录 `php/ssrc/ext/tidy`\n2.  编译，这里的 phpsize 和 php-config 的目录需要自行寻找\n\t```shell\n    /usr/local/php/bin/phpize \n    ./configure --with-php-config=/usr/local/php/bin/php-config\n \t```\n3.  安装\n\t```shell\n    make && make install\n    ```\n4.  修改配置文件\n\t```shell\n    vim /www/server/php/72/etc/php.ini # 配置文件目录需要自行查找\n    ```\n    - 将 `extension_dir` 设置为 `/www/server/php/72/lib/php/extensions/no-debug-non-zts-20170718/`，这里的具体值取决于步骤3中编译出的.so文件的位置  \n    - 添加 `extension = \"tidy.so\"`\n5. 重启php\n    \n## 错误排除\n1. configure: error: Cannot find libtidy\n   ```shell\n    yum install libtidy-devel\n    ```\n    或者\n    ```shell\n    yum install http://download-ib01.fedoraproject.org/pub/epel/7/x86_64/Packages/l/libtidy-devel-5.4.0-1.el7.x86_64.rpm\n    ```\n    \n2. re2c not found\n    ```shell\n    wget http://downloads.sourceforge.net/project/re2c/re2c/0.13.7.5/re2c-0.13.7.5.tar.gztar xzf re2c-0.13.7.5.tar.gzcd re2c-0.13.7.5./configuremake && make install\n    ```\n\n## 补充说明\n其实用`pecl`自动安装是最方便的。","source":"_posts/手动安装PHP扩展.md","raw":"title: 手动安装PHP扩展\nurl: 432.html\nid: 432\ncategories:\n  - Linux\n  - ''\ntags: []\ndate: 2019-06-11 08:47:00\n---\n**摘要** 记录了一次手动安装`tidy`扩展的过程。\n\n<!--more-->\n\n## 安装过程\n1.  进入tidy的源码目录 `php/ssrc/ext/tidy`\n2.  编译，这里的 phpsize 和 php-config 的目录需要自行寻找\n\t```shell\n    /usr/local/php/bin/phpize \n    ./configure --with-php-config=/usr/local/php/bin/php-config\n \t```\n3.  安装\n\t```shell\n    make && make install\n    ```\n4.  修改配置文件\n\t```shell\n    vim /www/server/php/72/etc/php.ini # 配置文件目录需要自行查找\n    ```\n    - 将 `extension_dir` 设置为 `/www/server/php/72/lib/php/extensions/no-debug-non-zts-20170718/`，这里的具体值取决于步骤3中编译出的.so文件的位置  \n    - 添加 `extension = \"tidy.so\"`\n5. 重启php\n    \n## 错误排除\n1. configure: error: Cannot find libtidy\n   ```shell\n    yum install libtidy-devel\n    ```\n    或者\n    ```shell\n    yum install http://download-ib01.fedoraproject.org/pub/epel/7/x86_64/Packages/l/libtidy-devel-5.4.0-1.el7.x86_64.rpm\n    ```\n    \n2. re2c not found\n    ```shell\n    wget http://downloads.sourceforge.net/project/re2c/re2c/0.13.7.5/re2c-0.13.7.5.tar.gztar xzf re2c-0.13.7.5.tar.gzcd re2c-0.13.7.5./configuremake && make install\n    ```\n\n## 补充说明\n其实用`pecl`自动安装是最方便的。","slug":"手动安装PHP扩展","published":1,"updated":"2020-02-10T09:33:16.766Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbqbef0025toojb5cyepq9","content":"<p><strong>摘要</strong> 记录了一次手动安装<code>tidy</code>扩展的过程。</p>\n<a id=\"more\"></a>\n\n<h2 id=\"安装过程\"><a href=\"#安装过程\" class=\"headerlink\" title=\"安装过程\"></a>安装过程</h2><ol>\n<li>进入tidy的源码目录 <code>php/ssrc/ext/tidy</code></li>\n<li>编译，这里的 phpsize 和 php-config 的目录需要自行寻找<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/usr/local/php/bin/phpize </span><br><span class=\"line\">./configure --with-php-config=/usr/local/php/bin/php-config</span><br></pre></td></tr></table></figure></li>\n<li>安装<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">make &amp;&amp; make install</span><br></pre></td></tr></table></figure></li>\n<li>修改配置文件<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim /www/server/php/72/etc/php.ini # 配置文件目录需要自行查找</span><br></pre></td></tr></table></figure>\n<ul>\n<li>将 <code>extension_dir</code> 设置为 <code>/www/server/php/72/lib/php/extensions/no-debug-non-zts-20170718/</code>，这里的具体值取决于步骤3中编译出的.so文件的位置  </li>\n<li>添加 <code>extension = &quot;tidy.so&quot;</code></li>\n</ul>\n</li>\n<li>重启php</li>\n</ol>\n<h2 id=\"错误排除\"><a href=\"#错误排除\" class=\"headerlink\" title=\"错误排除\"></a>错误排除</h2><ol>\n<li><p>configure: error: Cannot find libtidy</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install libtidy-devel</span><br></pre></td></tr></table></figure>\n<p> 或者</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install http://download-ib01.fedoraproject.org/pub/epel/7/x86_64/Packages/l/libtidy-devel-5.4.0-1.el7.x86_64.rpm</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>re2c not found</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget http://downloads.sourceforge.net/project/re2c/re2c/0.13.7.5/re2c-0.13.7.5.tar.gztar xzf re2c-0.13.7.5.tar.gzcd re2c-0.13.7.5./configuremake &amp;&amp; make install</span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<h2 id=\"补充说明\"><a href=\"#补充说明\" class=\"headerlink\" title=\"补充说明\"></a>补充说明</h2><p>其实用<code>pecl</code>自动安装是最方便的。</p>\n","site":{"data":{}},"excerpt":"<p><strong>摘要</strong> 记录了一次手动安装<code>tidy</code>扩展的过程。</p>","more":"<h2 id=\"安装过程\"><a href=\"#安装过程\" class=\"headerlink\" title=\"安装过程\"></a>安装过程</h2><ol>\n<li>进入tidy的源码目录 <code>php/ssrc/ext/tidy</code></li>\n<li>编译，这里的 phpsize 和 php-config 的目录需要自行寻找<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/usr/local/php/bin/phpize </span><br><span class=\"line\">./configure --with-php-config=/usr/local/php/bin/php-config</span><br></pre></td></tr></table></figure></li>\n<li>安装<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">make &amp;&amp; make install</span><br></pre></td></tr></table></figure></li>\n<li>修改配置文件<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim /www/server/php/72/etc/php.ini # 配置文件目录需要自行查找</span><br></pre></td></tr></table></figure>\n<ul>\n<li>将 <code>extension_dir</code> 设置为 <code>/www/server/php/72/lib/php/extensions/no-debug-non-zts-20170718/</code>，这里的具体值取决于步骤3中编译出的.so文件的位置  </li>\n<li>添加 <code>extension = &quot;tidy.so&quot;</code></li>\n</ul>\n</li>\n<li>重启php</li>\n</ol>\n<h2 id=\"错误排除\"><a href=\"#错误排除\" class=\"headerlink\" title=\"错误排除\"></a>错误排除</h2><ol>\n<li><p>configure: error: Cannot find libtidy</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install libtidy-devel</span><br></pre></td></tr></table></figure>\n<p> 或者</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install http://download-ib01.fedoraproject.org/pub/epel/7/x86_64/Packages/l/libtidy-devel-5.4.0-1.el7.x86_64.rpm</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>re2c not found</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget http://downloads.sourceforge.net/project/re2c/re2c/0.13.7.5/re2c-0.13.7.5.tar.gztar xzf re2c-0.13.7.5.tar.gzcd re2c-0.13.7.5./configuremake &amp;&amp; make install</span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<h2 id=\"补充说明\"><a href=\"#补充说明\" class=\"headerlink\" title=\"补充说明\"></a>补充说明</h2><p>其实用<code>pecl</code>自动安装是最方便的。</p>"},{"title":"救援模式下挂载原系统","author":"Creling","toc":true,"date":"2020-01-27T13:55:00.000Z","_content":"**摘要** 提供了在救援模式下挂载原有系统的方法\n<!--more-->\n\n## 使用场景\n当系统损坏，正常途径下无法进入系统时，可以利用这种方法进入系统。\n\n## 步骤\n其中 `sda2`是原系统`/`分区，`sda1`是原系统`/boot`分区\n```shell\nmount /dev/sda2 /mnt\nmount /dev/sda1 /mnt/boot\nmount --bind /sys /mnt/sys\nmount --bind /proc /mnt/proc\nmount --bind /dev /mnt/dev\nchroot /mnt\n```","source":"_posts/救援模式下挂载原系统.md","raw":"title: 救援模式下挂载原系统\nauthor: Creling\ntoc: true\ntags: []\ncategories:\n  - Linux\ndate: 2020-01-27 21:55:00\n---\n**摘要** 提供了在救援模式下挂载原有系统的方法\n<!--more-->\n\n## 使用场景\n当系统损坏，正常途径下无法进入系统时，可以利用这种方法进入系统。\n\n## 步骤\n其中 `sda2`是原系统`/`分区，`sda1`是原系统`/boot`分区\n```shell\nmount /dev/sda2 /mnt\nmount /dev/sda1 /mnt/boot\nmount --bind /sys /mnt/sys\nmount --bind /proc /mnt/proc\nmount --bind /dev /mnt/dev\nchroot /mnt\n```","slug":"救援模式下挂载原系统","published":1,"updated":"2020-02-10T09:33:16.766Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbqbei0027tooj66w0e9h3","content":"<p><strong>摘要</strong> 提供了在救援模式下挂载原有系统的方法</p>\n<a id=\"more\"></a>\n\n<h2 id=\"使用场景\"><a href=\"#使用场景\" class=\"headerlink\" title=\"使用场景\"></a>使用场景</h2><p>当系统损坏，正常途径下无法进入系统时，可以利用这种方法进入系统。</p>\n<h2 id=\"步骤\"><a href=\"#步骤\" class=\"headerlink\" title=\"步骤\"></a>步骤</h2><p>其中 <code>sda2</code>是原系统<code>/</code>分区，<code>sda1</code>是原系统<code>/boot</code>分区</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mount /dev/sda2 /mnt</span><br><span class=\"line\">mount /dev/sda1 /mnt/boot</span><br><span class=\"line\">mount --bind /sys /mnt/sys</span><br><span class=\"line\">mount --bind /proc /mnt/proc</span><br><span class=\"line\">mount --bind /dev /mnt/dev</span><br><span class=\"line\">chroot /mnt</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<p><strong>摘要</strong> 提供了在救援模式下挂载原有系统的方法</p>","more":"<h2 id=\"使用场景\"><a href=\"#使用场景\" class=\"headerlink\" title=\"使用场景\"></a>使用场景</h2><p>当系统损坏，正常途径下无法进入系统时，可以利用这种方法进入系统。</p>\n<h2 id=\"步骤\"><a href=\"#步骤\" class=\"headerlink\" title=\"步骤\"></a>步骤</h2><p>其中 <code>sda2</code>是原系统<code>/</code>分区，<code>sda1</code>是原系统<code>/boot</code>分区</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mount /dev/sda2 /mnt</span><br><span class=\"line\">mount /dev/sda1 /mnt/boot</span><br><span class=\"line\">mount --bind /sys /mnt/sys</span><br><span class=\"line\">mount --bind /proc /mnt/proc</span><br><span class=\"line\">mount --bind /dev /mnt/dev</span><br><span class=\"line\">chroot /mnt</span><br></pre></td></tr></table></figure>"},{"title":"解决CentOS7下NetworkManager中部分端口为umanaged状态这一问题","url":"329.html","id":"329","date":"2019-03-04T12:55:51.000Z","_content":"\nNetworkManager会默认放弃管理`/etc/sysconfig/network-scripts/ifcfg-*`中显示的网络接口，此时，该接口在命令`nmcli d`下的状态就是umanaged， ![](https://blog.fromling.com/wp-content/uploads/2019/03/3ffc0d6b7b06ad28a461c601f1d6fc21.png) 要想解决这个问题，需要以下几个步骤\n\n    vim /etc/NetworkManager/NetworkManager.conf\n    \n    [main]\n    plugins=ifcfg-rh # 将这一行注释掉\n    \n\n然后\n\n    /etc/sysconfig/network-scripts/ifcfg-*\n    \n    NM_CONTROLLED=no # 将这一行注释掉\n    \n\n最后重启网络\n\n    service network restart","source":"_posts/解决CentOS7下NetworkManager中部分端口为umanaged状态这一问题.md","raw":"---\ntitle: 解决CentOS7下NetworkManager中部分端口为umanaged状态这一问题\nurl: 329.html\nid: 329\ncategories:\n  - Linux &amp; VPS\ndate: 2019-03-04 20:55:51\ntags:\n---\n\nNetworkManager会默认放弃管理`/etc/sysconfig/network-scripts/ifcfg-*`中显示的网络接口，此时，该接口在命令`nmcli d`下的状态就是umanaged， ![](https://blog.fromling.com/wp-content/uploads/2019/03/3ffc0d6b7b06ad28a461c601f1d6fc21.png) 要想解决这个问题，需要以下几个步骤\n\n    vim /etc/NetworkManager/NetworkManager.conf\n    \n    [main]\n    plugins=ifcfg-rh # 将这一行注释掉\n    \n\n然后\n\n    /etc/sysconfig/network-scripts/ifcfg-*\n    \n    NM_CONTROLLED=no # 将这一行注释掉\n    \n\n最后重启网络\n\n    service network restart","slug":"解决CentOS7下NetworkManager中部分端口为umanaged状态这一问题","published":1,"updated":"2020-02-10T09:33:16.766Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbqben002atooj68vo975p","content":"<p>NetworkManager会默认放弃管理<code>/etc/sysconfig/network-scripts/ifcfg-*</code>中显示的网络接口，此时，该接口在命令<code>nmcli d</code>下的状态就是umanaged， <img src=\"https://blog.fromling.com/wp-content/uploads/2019/03/3ffc0d6b7b06ad28a461c601f1d6fc21.png\" alt=\"\"> 要想解决这个问题，需要以下几个步骤</p>\n<pre><code>vim /etc/NetworkManager/NetworkManager.conf\n\n[main]\nplugins=ifcfg-rh # 将这一行注释掉</code></pre><p>然后</p>\n<pre><code>/etc/sysconfig/network-scripts/ifcfg-*\n\nNM_CONTROLLED=no # 将这一行注释掉</code></pre><p>最后重启网络</p>\n<pre><code>service network restart</code></pre>","site":{"data":{}},"excerpt":"","more":"<p>NetworkManager会默认放弃管理<code>/etc/sysconfig/network-scripts/ifcfg-*</code>中显示的网络接口，此时，该接口在命令<code>nmcli d</code>下的状态就是umanaged， <img src=\"https://blog.fromling.com/wp-content/uploads/2019/03/3ffc0d6b7b06ad28a461c601f1d6fc21.png\" alt=\"\"> 要想解决这个问题，需要以下几个步骤</p>\n<pre><code>vim /etc/NetworkManager/NetworkManager.conf\n\n[main]\nplugins=ifcfg-rh # 将这一行注释掉</code></pre><p>然后</p>\n<pre><code>/etc/sysconfig/network-scripts/ifcfg-*\n\nNM_CONTROLLED=no # 将这一行注释掉</code></pre><p>最后重启网络</p>\n<pre><code>service network restart</code></pre>"},{"title":"记一次WordPress的Markdown美化过程","url":"415.html","id":"415","date":"2019-05-19T02:38:21.000Z","_content":"主要动作是：\n1. 添加了块引用效果\n2. 阻止了代码块中的`<`&`>`被转义\n\n1\\. 添加块引用特效\n-----------\n\n在`自定义->额外CSS`中粘贴\n```css\nblockquote {\n\tborder-left: 4px solid #707070;\n\tborder-left: 4px solid rgba(51, 51, 51, 0.7);\n\tcolor: #707070;\n\tcolor: rgba(51, 51, 51, 0.7);\n\tfont-size: 18px;\n\tfont-size: 1.8rem;\n\tfont-style: italic;\n\tline-height: 1.6667;\n\tmargin-bottom: 1.6667em;\n\tpadding-left: 0.7778em;\n}\n```\n\n2\\. 避免< > 被转义\n-------------\n\n在 `外观->theme-editor->functions.php` 中添加\n```php\nfunction my_content_filter( $content ) {\n\t$new_content = str_replace('<','<',$content);\n\t$new_content = str_replace('>','>',$new_content);\n    return $new_content;\n}\nadd_filter( 'the_content', 'my_content_filter');\n```","source":"_posts/记一次WordPress的Markdown美化过程.md","raw":"title: 记一次WordPress的Markdown美化过程\nurl: 415.html\nid: 415\ncategories:\n  - Linux &amp; VPS\ndate: 2019-05-19 10:38:21\ntags:\n---\n主要动作是：\n1. 添加了块引用效果\n2. 阻止了代码块中的`<`&`>`被转义\n\n1\\. 添加块引用特效\n-----------\n\n在`自定义->额外CSS`中粘贴\n```css\nblockquote {\n\tborder-left: 4px solid #707070;\n\tborder-left: 4px solid rgba(51, 51, 51, 0.7);\n\tcolor: #707070;\n\tcolor: rgba(51, 51, 51, 0.7);\n\tfont-size: 18px;\n\tfont-size: 1.8rem;\n\tfont-style: italic;\n\tline-height: 1.6667;\n\tmargin-bottom: 1.6667em;\n\tpadding-left: 0.7778em;\n}\n```\n\n2\\. 避免< > 被转义\n-------------\n\n在 `外观->theme-editor->functions.php` 中添加\n```php\nfunction my_content_filter( $content ) {\n\t$new_content = str_replace('<','<',$content);\n\t$new_content = str_replace('>','>',$new_content);\n    return $new_content;\n}\nadd_filter( 'the_content', 'my_content_filter');\n```","slug":"记一次WordPress的Markdown美化过程","published":1,"updated":"2020-02-10T09:33:16.767Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbqber002ctoojbtdndjys","content":"<p>主要动作是：</p>\n<ol>\n<li>添加了块引用效果</li>\n<li>阻止了代码块中的<code>&lt;</code>&amp;<code>&gt;</code>被转义</li>\n</ol>\n<h2 id=\"1-添加块引用特效\"><a href=\"#1-添加块引用特效\" class=\"headerlink\" title=\"1. 添加块引用特效\"></a>1. 添加块引用特效</h2><p>在<code>自定义-&gt;额外CSS</code>中粘贴</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">blockquote</span> &#123;</span><br><span class=\"line\">\t<span class=\"attribute\">border-left</span>: <span class=\"number\">4px</span> solid <span class=\"number\">#707070</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">border-left</span>: <span class=\"number\">4px</span> solid <span class=\"built_in\">rgba</span>(51, 51, 51, 0.7);</span><br><span class=\"line\">\t<span class=\"attribute\">color</span>: <span class=\"number\">#707070</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">color</span>: <span class=\"built_in\">rgba</span>(51, 51, 51, 0.7);</span><br><span class=\"line\">\t<span class=\"attribute\">font-size</span>: <span class=\"number\">18px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">font-size</span>: <span class=\"number\">1.8rem</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">font-style</span>: italic;</span><br><span class=\"line\">\t<span class=\"attribute\">line-height</span>: <span class=\"number\">1.6667</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">margin-bottom</span>: <span class=\"number\">1.6667em</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">padding-left</span>: <span class=\"number\">0.7778em</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"2-避免-lt-gt-被转义\"><a href=\"#2-避免-lt-gt-被转义\" class=\"headerlink\" title=\"2. 避免&lt; &gt; 被转义\"></a>2. 避免&lt; &gt; 被转义</h2><p>在 <code>外观-&gt;theme-editor-&gt;functions.php</code> 中添加</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">my_content_filter</span><span class=\"params\">( $content )</span> </span>&#123;</span><br><span class=\"line\">\t$new_content = str_replace(<span class=\"string\">'&lt;'</span>,<span class=\"string\">'&lt;'</span>,$content);</span><br><span class=\"line\">\t$new_content = str_replace(<span class=\"string\">'&gt;'</span>,<span class=\"string\">'&gt;'</span>,$new_content);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> $new_content;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">add_filter( <span class=\"string\">'the_content'</span>, <span class=\"string\">'my_content_filter'</span>);</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<p>主要动作是：</p>\n<ol>\n<li>添加了块引用效果</li>\n<li>阻止了代码块中的<code>&lt;</code>&amp;<code>&gt;</code>被转义</li>\n</ol>\n<h2 id=\"1-添加块引用特效\"><a href=\"#1-添加块引用特效\" class=\"headerlink\" title=\"1. 添加块引用特效\"></a>1. 添加块引用特效</h2><p>在<code>自定义-&gt;额外CSS</code>中粘贴</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">blockquote</span> &#123;</span><br><span class=\"line\">\t<span class=\"attribute\">border-left</span>: <span class=\"number\">4px</span> solid <span class=\"number\">#707070</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">border-left</span>: <span class=\"number\">4px</span> solid <span class=\"built_in\">rgba</span>(51, 51, 51, 0.7);</span><br><span class=\"line\">\t<span class=\"attribute\">color</span>: <span class=\"number\">#707070</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">color</span>: <span class=\"built_in\">rgba</span>(51, 51, 51, 0.7);</span><br><span class=\"line\">\t<span class=\"attribute\">font-size</span>: <span class=\"number\">18px</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">font-size</span>: <span class=\"number\">1.8rem</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">font-style</span>: italic;</span><br><span class=\"line\">\t<span class=\"attribute\">line-height</span>: <span class=\"number\">1.6667</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">margin-bottom</span>: <span class=\"number\">1.6667em</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">padding-left</span>: <span class=\"number\">0.7778em</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"2-避免-lt-gt-被转义\"><a href=\"#2-避免-lt-gt-被转义\" class=\"headerlink\" title=\"2. 避免&lt; &gt; 被转义\"></a>2. 避免&lt; &gt; 被转义</h2><p>在 <code>外观-&gt;theme-editor-&gt;functions.php</code> 中添加</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">my_content_filter</span><span class=\"params\">( $content )</span> </span>&#123;</span><br><span class=\"line\">\t$new_content = str_replace(<span class=\"string\">'&lt;'</span>,<span class=\"string\">'&lt;'</span>,$content);</span><br><span class=\"line\">\t$new_content = str_replace(<span class=\"string\">'&gt;'</span>,<span class=\"string\">'&gt;'</span>,$new_content);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> $new_content;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">add_filter( <span class=\"string\">'the_content'</span>, <span class=\"string\">'my_content_filter'</span>);</span><br></pre></td></tr></table></figure>"},{"title":"问题解决：\"/usr/bin/env: node: No such file or director\"","author":"Creling","toc":true,"date":"2019-12-14T15:07:00.000Z","_content":"**摘要** 解决nodejs运行环境配置时`/usr/bin/env: node: No such file or director`这一问题。\n\n<!--more-->\n\n## 原因\n`/usr/bin/node`不存在\n\n## 解决方案\n```bash\nln -s \"$(which node)\" /usr/bin/node\n```","source":"_posts/问题解决：.md","raw":"title: '问题解决：\"/usr/bin/env: node: No such file or director\"'\nauthor: Creling\ntoc: true\ntags: []\ncategories: []\ndate: 2019-12-14 23:07:00\n---\n**摘要** 解决nodejs运行环境配置时`/usr/bin/env: node: No such file or director`这一问题。\n\n<!--more-->\n\n## 原因\n`/usr/bin/node`不存在\n\n## 解决方案\n```bash\nln -s \"$(which node)\" /usr/bin/node\n```","slug":"问题解决：","published":1,"updated":"2020-02-10T09:33:16.767Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck6gbqbev002etooj71mjhc4i","content":"<p><strong>摘要</strong> 解决nodejs运行环境配置时<code>/usr/bin/env: node: No such file or director</code>这一问题。</p>\n<a id=\"more\"></a>\n\n<h2 id=\"原因\"><a href=\"#原因\" class=\"headerlink\" title=\"原因\"></a>原因</h2><p><code>/usr/bin/node</code>不存在</p>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ln -s <span class=\"string\">\"<span class=\"variable\">$(which node)</span>\"</span> /usr/bin/node</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<p><strong>摘要</strong> 解决nodejs运行环境配置时<code>/usr/bin/env: node: No such file or director</code>这一问题。</p>","more":"<h2 id=\"原因\"><a href=\"#原因\" class=\"headerlink\" title=\"原因\"></a>原因</h2><p><code>/usr/bin/node</code>不存在</p>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ln -s <span class=\"string\">\"<span class=\"variable\">$(which node)</span>\"</span> /usr/bin/node</span><br></pre></td></tr></table></figure>"}],"PostAsset":[],"PostCategory":[{"post_id":"ck6gbq4i80005toojagng2ekj","category_id":"ck6gbq4i00003toojgug14pte","_id":"ck6gbq4iy000atooj7sz0cc75"},{"post_id":"ck6gbq4hg0001toojfypy9bia","category_id":"ck6gbq4i00003toojgug14pte","_id":"ck6gbq4j4000dtooj0psi99uf"},{"post_id":"ck6gbq4id0006toojglsofpow","category_id":"ck6gbq4i00003toojgug14pte","_id":"ck6gbq4jb000ftoojf5ze97u2"},{"post_id":"ck6gbq4hr0002tooj7bh7a00o","category_id":"ck6gbq4i00003toojgug14pte","_id":"ck6gbq4jg000itoojfjjpbrd8"},{"post_id":"ck6gbq4j1000ctooj0uwx18wj","category_id":"ck6gbq4i00003toojgug14pte","_id":"ck6gbq4jy000ktoojg8mh2g5q"},{"post_id":"ck6gbq4i30004toojh0s3ay3y","category_id":"ck6gbq4i00003toojgug14pte","_id":"ck6gbq4k8000mtoojdysbdt00"},{"post_id":"ck6gbq4j7000etooj403z1il6","category_id":"ck6gbq4i00003toojgug14pte","_id":"ck6gbq4kd000ptooj41xzgbdd"},{"post_id":"ck6gbq4jd000htoojalfc13pm","category_id":"ck6gbq4i00003toojgug14pte","_id":"ck6gbq4kj000rtoojfgrp91qn"},{"post_id":"ck6gbq4iu0009tooj8y7qc9bx","category_id":"ck6gbq4jb000gtooj9o266vzb","_id":"ck6gbq4ko000utooj78x8248q"},{"post_id":"ck6gbq4k1000ltooj6s0t9cln","category_id":"ck6gbq4i00003toojgug14pte","_id":"ck6gbq4ks000wtoojbjwvayjd"},{"post_id":"ck6gbq4kf000qtooj069daesm","category_id":"ck6gbq4i00003toojgug14pte","_id":"ck6gbq4ky000ytooj8518a6ge"},{"post_id":"ck6gbq4ji000jtoojdpjda4sq","category_id":"ck6gbq4k9000ntoojaj4q8v98","_id":"ck6gbq4l60011tooj0ci5ht4r"},{"post_id":"ck6gbq4kl000stoojb7ci7rc0","category_id":"ck6gbq4i00003toojgug14pte","_id":"ck6gbq4ld0014toojdget4o9a"},{"post_id":"ck6gbq4kq000vtooj6fq99hge","category_id":"ck6gbq4jb000gtooj9o266vzb","_id":"ck6gbq4mj0016toojg6a87brz"},{"post_id":"ck6gbq4kb000otoojcev1308u","category_id":"ck6gbq4k9000ntoojaj4q8v98","_id":"ck6gbq4mv0019tooj24ll6bga"},{"post_id":"ck6gbq4l30010tooj2hd43d0o","category_id":"ck6gbq4jb000gtooj9o266vzb","_id":"ck6gbq4mw001atooj5n3j3lll"},{"post_id":"ck6gbq4l80013toojb2sjccsb","category_id":"ck6gbq4i00003toojgug14pte","_id":"ck6gbq4mx001btoojavqv94iu"},{"post_id":"ck6gbq4mf0015tooj7qgkhouj","category_id":"ck6gbq4i00003toojgug14pte","_id":"ck6gbq4my001ctoojfzoqa4mu"},{"post_id":"ck6gbq4kt000xtoojbyu85o1s","category_id":"ck6gbq4l70012toojhl03e25b","_id":"ck6gbq4my001dtooj8wgra96v"},{"post_id":"ck6gbq4mm0018toojbyzo5rds","category_id":"ck6gbq4i00003toojgug14pte","_id":"ck6gbq4mz001etooj5xlu9kqd"},{"post_id":"ck6gbqbaq001ftooj7ly90n1o","category_id":"ck6gbq4jb000gtooj9o266vzb","_id":"ck6gbqbc4001ntoojgbzaag8k"},{"post_id":"ck6gbqbaw001htooj91qrd7eo","category_id":"ck6gbq4k9000ntoojaj4q8v98","_id":"ck6gbqbd1001qtoojhrnw6lyz"},{"post_id":"ck6gbqbbi001jtooja9jxdf6s","category_id":"ck6gbq4k9000ntoojaj4q8v98","_id":"ck6gbqbdm001ttooj30ra8hab"},{"post_id":"ck6gbqbc0001mtoojep72hh4j","category_id":"ck6gbq4i00003toojgug14pte","_id":"ck6gbqbds001wtooj0xlr8udi"},{"post_id":"ck6gbqbd3001rtoojec3f3gix","category_id":"ck6gbq4i00003toojgug14pte","_id":"ck6gbqbe8001ztoojajq7elqy"},{"post_id":"ck6gbqbdp001vtooj26hr6bol","category_id":"ck6gbq4i00003toojgug14pte","_id":"ck6gbqbed0023tooj6jhwehhn"},{"post_id":"ck6gbqbe1001xtooj6te7668n","category_id":"ck6gbq4jb000gtooj9o266vzb","_id":"ck6gbqbeh0026toojakxhf1f2"},{"post_id":"ck6gbqbcw001ptooj1fg42zje","category_id":"ck6gbqbdn001utoojbl884762","_id":"ck6gbqbel0028tooj2n8e3qac"},{"post_id":"ck6gbqbe5001ytooj9xpv67cc","category_id":"ck6gbq4i00003toojgug14pte","_id":"ck6gbqbep002btoojev1igwfr"},{"post_id":"ck6gbqbeb0022toojf6p5d5ht","category_id":"ck6gbq4l70012toojhl03e25b","_id":"ck6gbqbet002dtooj10t1cn15"},{"post_id":"ck6gbqbef0025toojb5cyepq9","category_id":"ck6gbq4jb000gtooj9o266vzb","_id":"ck6gbqbex002ftooj16cx57ji"},{"post_id":"ck6gbqbei0027tooj66w0e9h3","category_id":"ck6gbq4jb000gtooj9o266vzb","_id":"ck6gbqbf2002gtooj46tchefz"},{"post_id":"ck6gbqben002atooj68vo975p","category_id":"ck6gbq4i00003toojgug14pte","_id":"ck6gbqbf3002htooj2rwhe63i"},{"post_id":"ck6gbqber002ctoojbtdndjys","category_id":"ck6gbq4i00003toojgug14pte","_id":"ck6gbqbf3002itoojb31ucdtd"}],"PostTag":[{"post_id":"ck6gbq4kq000vtooj6fq99hge","tag_id":"ck6gbq4l0000ztoojhoiidg87","_id":"ck6gbq4ml0017tooj9nt84xt6"},{"post_id":"ck6gbqbaw001htooj91qrd7eo","tag_id":"ck6gbqbbx001ltooj96hy0ah1","_id":"ck6gbqbe90020tooj9ztg7ao2"},{"post_id":"ck6gbqbaw001htooj91qrd7eo","tag_id":"ck6gbqbdl001stooj07ssggnt","_id":"ck6gbqbed0024tooj08e477kl"},{"post_id":"ck6gbqbe1001xtooj6te7668n","tag_id":"ck6gbqbea0021tooj696yd031","_id":"ck6gbqbem0029tooj0635decu"}],"Tag":[{"name":"shell","_id":"ck6gbq4l0000ztoojhoiidg87"},{"name":"django","_id":"ck6gbqbbx001ltooj96hy0ah1"},{"name":"web","_id":"ck6gbqbdl001stooj07ssggnt"},{"name":"vps","_id":"ck6gbqbea0021tooj696yd031"}]}}